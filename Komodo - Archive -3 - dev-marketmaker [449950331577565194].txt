==============================================================
Guild: Komodo
Channel: Archive -3 / dev-marketmaker
Topic: Discussion about AtomicAPI and its market making tech.
==============================================================

[15-Jun-18 04:50 AM] ASKz#1905
hi, do you know where I can find the code/doc for connecting a peer into the p2p network and retrieve orderbook data?


[15-Jun-18 04:55 AM] ASKz#1905
(or just point me in the marketmaker code )


[15-Jun-18 04:55 AM] ASKz#1905
didnt found it myself


[15-Jun-18 05:09 AM] jorian#4555
you want the actual source code? or documentation on how to do it?


[15-Jun-18 05:14 AM] ASKz#1905
the twos are fine for me, I want to do it in another language


[15-Jun-18 05:16 AM] ASKz#1905
if I see how it is connecting/retrieving in the actual code it would be fine I think


[22-Jun-18 01:59 PM] 7rank#9952
Anyone successfully setup a marketmaker on a raspberry pi 3?


[22-Jun-18 02:00 PM] 7rank#9952
What are the best trading pairs that will likely see some interest from the community?


[22-Jun-18 02:05 PM] 7rank#9952
Is it better to use Vps?  If so, what are the minimum specs?


[22-Jun-18 05:21 PM] cipi#4502
mm itself doesn't use that much resources, but the coin daemons do (KMD wallet uses 3GB RAM, BTC 1GB, LTC 700MB), so it depends on the coins you want to run


[22-Jun-18 08:41 PM] 7rank#9952
@cipi yikes!  So if you want to setup 2 or 3 trading pairs you easily will need 8gb? I'm thinking pi 3 for testing but then use Vps for multiple trading pairs.


[22-Jun-18 09:14 PM] Deleted User#0000
What we really need to do its get bobs able to use insight API or electrum, so you can have a heap of marketmakers in very cheao VPS or PI 3... all pointing back to one server with all the coind's on it.

{Reactions}
üëç 

[22-Jun-18 09:18 PM] Deleted User#0000
btw... is it expected behaviour for marketmaker to just crash out on bobs after a certain amount of days... every time I get around to checking my BEER/PIZZA bobs the marketmaker seems to be dead but the coind's are still running.


[22-Jun-18 09:19 PM] Deleted User#0000
I have taken the 5 bobs down for now too. As I think 80% of the time they were not active and just wasting my money. Its no issue to start them back up at any time, just let me know. All the wallets/passphrase ect are stored locally on my laptop takes 30mins to deploy 5 VPS and setprices.


[22-Jun-18 09:37 PM] CrisF#3405
Hi, could someone point me towards info on how MM connects to native daemons (not sure on the terminology here)?
I haven't been able to see my balance in native BarterDEX although the native coin wallets show the balances. 
I've been stuck on this for 2 weeks and I'd like to get it sorted out.


[22-Jun-18 09:56 PM] CrisF#3405
Wondering if this is connected to my Agama whitescreening for the last 2 months or so...


[22-Jun-18 11:56 PM] Deleted User#0000
it reads the conf file


[22-Jun-18 11:57 PM] Deleted User#0000
if that is not where marketmaker expects it to be, it wont be able to read the rpcuser/rpcpassword


[22-Jun-18 11:57 PM] AkiraX#8269
hi


[22-Jun-18 11:58 PM] AkiraX#8269
i have this error in barterdex


[22-Jun-18 11:58 PM] AkiraX#8269
swap never started


[22-Jun-18 11:58 PM] AkiraX#8269
is that preventing me from doing other trades


[23-Jun-18 12:01 AM] Deleted User#0000
Yes... unless you have lots of UTXO it will reserve a pair, and then the swap wont start, and the pair will stay reserved until you restart marketmaker... not sure why this isnt getting fixed.


[23-Jun-18 12:47 AM] jl777c#5810
it gets unreserved after 5min


[25-Jun-18 12:30 AM] tolken#2655
Is there any way to force a limit on size of utxo you‚Äôre offering for trade?


[25-Jun-18 12:32 AM] tolken#2655
(Aside from splitting into smaller ones)


[25-Jun-18 12:33 AM] tolken#2655
I want the larger ones for use, perhaps for other pairs.


[25-Jun-18 12:33 AM] CHMEX#0686
this will be needed for ETH otherwise the bob get drained by the high tx fees ideally (in the future) there would be a minordersize and maxordersize parameter


[25-Jun-18 12:33 AM] jl777c#5810
use full:1


[25-Jun-18 12:34 AM] jl777c#5810
then it will only trade the specified amount


[25-Jun-18 12:34 AM] jl777c#5810
oh you want to set a maxsize...


[25-Jun-18 12:35 AM] jl777c#5810
for now bob is limited in this respect, would need to have multiple bobs, each doing different sizes


[25-Jun-18 12:35 AM] tolken#2655
Yep, a large utxo may be larger than I can process. So, for now may have to temporarily shut down order filling. Should be fine for now. But yea as CHMEX mentioned a min/max would be helpful here, per pair or even per pair and unique to rel and base.


[25-Jun-18 12:37 AM] tolken#2655
Won‚Äôt be a problem once I have more funding; but just s minor issue for now.


[25-Jun-18 12:38 AM] tolken#2655
multiple bobs could help, but introduces its own complications. Just need a less tight supply.


[25-Jun-18 09:06 AM] tolken#2655
@jl777c I probably won‚Äôt be the last to make such a request, so I humbly request it for sometime down the line if it seems worthwhile to you. Min/max trade, unique to base/rel of a given pair. Would offer some powerful flexibility when hosting a variety of pairs.


[25-Jun-18 09:08 AM] jl777c#5810
yes, this will be for mm2.0

{Reactions}
üíØ 

[25-Jun-18 09:28 AM] tolken#2655
Great üòÉ


[25-Jun-18 06:30 PM] Alright#0419
https://twitter.com/atomicwallet/status/1011309756588396545

{Embed}
AtomicWallet.io (@atomicwallet)
https://twitter.com/atomicwallet/status/1011309756588396545
Let's make a bet! We will add @monero to @atomicwallet in two weeks. And for on-chain anonymous $BTC - $XMR #AtomicSwap in less than two months. Remember this tweet! #Monero @fluffypony
https://images-ext-1.discordapp.net/external/eRMpl2hCBRYOJajAgxb9p7v_8b_xMKX3kf-JkOzyanM/https/pbs.twimg.com/media/Dgjk2ovXkAA8yBi.jpg%3Alarge
Twitter


[25-Jun-18 06:30 PM] Alright#0419
any chance at beating them?


[25-Jun-18 06:30 PM] Alright#0419
2 months


[25-Jun-18 06:33 PM] Deleted User#0000
they lacked the OP codes??? So once they add them we just add to Bdex faster than they add to whatever system they are using?


[26-Jun-18 12:08 AM] jl777c#5810
as alice side only 2of2 msig is needed


[26-Jun-18 05:10 AM] ASKz#1905
just tested their wallet... really buggy


[26-Jun-18 05:11 AM] ASKz#1905
slow, crashing, btc-type coins not showing addresses


[26-Jun-18 05:17 AM] PTYX#6840
i reached out to ricardo again


[26-Jun-18 05:17 AM] PTYX#6840
we can beat them to the punch


[26-Jun-18 04:28 PM] ComputerGenie#2331
Bitcoin Core: 0.16.1 produces multiple debug outputs (and assuming other minor issues) relating to the depreciation of getaddressinfo
is there a way around this other than using the -depreciatedrpc switch for bitcoind?


[26-Jun-18 04:29 PM] jl777c#5810
use 0.15


[26-Jun-18 05:32 PM] ComputerGenie#2331
"couldn't find my txid to make request"
I'm not entirely sure, but I think this is coming after alice payment and before bob payment and swap seems to stop there


[26-Jun-18 05:32 PM] ComputerGenie#2331
suggestions?


[26-Jun-18 06:07 PM] ComputerGenie#2331
also, in the excitement of it being added, I never thought to ask:
How does one cancel gtc? setprice...price:0?


[27-Jun-18 12:17 AM] jl777c#5810
exit


[27-Jun-18 12:17 AM] jl777c#5810
or use the cancel api


[27-Jun-18 12:19 AM] jl777c#5810
if you have multiple trades going of similar sizes, it can end up spending one of the gtc utxo and then it wont be able to find it


[28-Jun-18 08:40 AM] ComputerGenie#2331
"or use the cancel api"
That was, literally, my question: What is the syntax of the "cancel api" for a sell with gtc:1?


[28-Jun-18 08:41 AM] ComputerGenie#2331
I can't find anything other than using setprice with a price of 0


[28-Jun-18 08:42 AM] ComputerGenie#2331
which doesn't seem to work for gtc:1


[28-Jun-18 09:03 AM] jorian#4555
what does gtc stand for btw?


[28-Jun-18 09:03 AM] jorian#4555
good till cancelled?


[28-Jun-18 09:04 AM] jorian#4555
so yes, the cancel functionality would be helpful then üòÖ


[28-Jun-18 09:36 AM] ComputerGenie#2331
yes @jorian 
`gtc:0 fill:1 is fill or kill
gtc:1 fill:1 is a good till canceled and filled
gtc:1 fill:0 is good till cancelled or partially filled`


[28-Jun-18 10:55 AM] jl777c#5810
from the help api output


[28-Jun-18 10:55 AM] jl777c#5810
cancel(uuid)


[28-Jun-18 10:56 AM] jl777c#5810
else if ( strcmp(method,"cancel") == 0 )
        {
            return(LP_cancel_order(jstr(argjson,"uuid")));
        }


[28-Jun-18 01:43 PM] ComputerGenie#2331
ü§¶üèø cli help, literally the only place I hadn't lookedüò≤


[28-Jun-18 01:43 PM] ComputerGenie#2331
:ashamed:


[29-Jun-18 12:12 AM] jl777c#5810
i try to keep the help output in sync with the command processor and at times it could be months ahead of any formal docs

{Reactions}
üëÜ üëç (4) 

[29-Jun-18 07:40 AM] tolken#2655
```RPCport.0 remoteport.-1, nanoports 7793 7803 7813
showwif.0 Marketmaker 0.1 27774 rsize.248 1405454238
BTC, BTC inactive.1530282823
<<<<<<<<<<< bitcoind_RPC: BTC post_process_bitcoind_RPC (getinfo) error.{"result":null,"error":{"code":-32601,"message":"getinfo\n\nThis call was removed in version 0.16.0. Use the appropriate fields from:\n- getblockchaininfo: blocks, difficulty, chain\n- getnetworkinfo: version, protocolversion, timeoffset, connections, proxy, relayfee, warnings\n- getwalletinfo: balance, keypoololdest, keypoolsize, paytxfee, unlocked_until, walletversion\n\nbitcoin-cli has the option -getinfo to collect and format these in the old format."},"id":"jl777"}

getblockchaininfo autoissue.({"chain":"main","blocks":529761,"headers":529761,"bestblockhash":"00000000000000000009afb7d433283b6336346130f56b40193c3f45c90577e3","difficulty":5077499034879.01757812,"mediantime":1530279294,"verificationprogress":0.99999003,"initialblockdownload":false,"chainwork":"000000000000000000000000000000000000000002337670ad63313a9ab032bc","size_on_disk":197818648900,"pruned":false,"softforks":[{"id":"bip34","version":2,"reject":{"status":true}}, {"id":"bip66","version":3,"reject":{"status":true}}, {"id":"bip65","version":4,"reject":{"status":true}}],"bip9_softforks":{"csv":{"status":"active","startTime":1462060800,"timeout":1493596800,"since":419328},"segwit":{"status":"active","startTime":1479168000,"timeout":1510704000,"since":481824}},"warnings":""})```


[29-Jun-18 07:44 AM] tolken#2655
I‚Äôm trying to sort out what has changed, but my btc doesn‚Äôt seem to want to broadcast price now. I didn‚Äôt change any autoprice config. But I don‚Äôt remember seeing that message above until recently. Also seeing a similar error with LTC.  I can see their balances via BarterDex and even did a withdrawal of btc using withdraw in BarterDex


[29-Jun-18 07:47 AM] tolken#2655
So it seems btc is still more or less configured properly. It does show installed but inactive.


[29-Jun-18 07:56 AM] tolken#2655
Mmm, think something else is going on, checking my scripts


[29-Jun-18 07:58 AM] ComputerGenie#2331
@tolken roll back your BCore to v15


[29-Jun-18 07:59 AM] tolken#2655
Oh yea? Definitely a problem? I had some successful bob trades the other day. I think one of my problems above is an autoprice misconfiguration


[29-Jun-18 08:00 AM] ComputerGenie#2331
It's literally telling you:
`getinfo

This call was removed in version 0.16.0.`


[29-Jun-18 08:01 AM] ComputerGenie#2331
Core removing API calls is not a misconfig in mm


[29-Jun-18 08:04 AM] tolken#2655
got it working, yeah i screwed up my autoprice. :/ so much for not modifying my autoprice. thanks for the info Computergenie.

{Reactions}
üëçüèø (2) 

[29-Jun-18 08:13 AM] tolken#2655
that message has likely always been there, just didn‚Äôt pay attention till I ran into my broken autoprice config


[29-Jun-18 08:25 AM] tolken#2655
Cool, don‚Äôt have much funded, but have ltc/btc, kmd/bch, kmd/btc pairs on orderbooks now üòÉ


[29-Jun-18 08:29 AM] tolken#2655
next eth and some erc-20s


[29-Jun-18 09:05 AM] CrisF#3405
Hi, was is easy to rollback LTC, @tolken ?  I'll have to try this tomorrow. Any info about this would be appreciated!


[29-Jun-18 09:06 AM] CrisF#3405
Did you need to do the same for BCH (rollback)?


[29-Jun-18 09:06 AM] tolken#2655
Rollback?


[29-Jun-18 09:06 AM] tolken#2655
Sorry I haven‚Äôt done that yet


[29-Jun-18 09:07 AM] CrisF#3405
Oh, I misunderstood.


[29-Jun-18 09:07 AM] tolken#2655
Not entirely clear if it‚Äôs really necessary.


[29-Jun-18 09:08 AM] tolken#2655
They both seem to be working fine at moment, but I haven‚Äôt thoroughly tested every trade pair.


[29-Jun-18 09:08 AM] CrisF#3405
So you fixed the error by only changing the script?


[29-Jun-18 09:08 AM] tolken#2655
I‚Äôve seen trades kmd/btc, kmd/bch, but nothing with ltc just yet. Though I technically just got ltc configured properly this morning, as far as I can tell (showing on orderbooks)


[29-Jun-18 09:10 AM] tolken#2655
Yes those messages don‚Äôt seem to prohibit them from running. I had subsequent autoprice calls clobbering my kmd/btc pricing, which gave me the idea they were all broken.


[29-Jun-18 09:10 AM] tolken#2655
But just an error on my side.


[29-Jun-18 09:11 AM] CrisF#3405
Good it worked out then.


[29-Jun-18 09:13 AM] CrisF#3405
I am almost finished reinstalling everything after wiping ubuntu.


[29-Jun-18 09:14 AM] CrisF#3405
Hopefully a fresh system will mean I can get this finally working.


[29-Jun-18 09:15 AM] tolken#2655
Great, I hope so. I am going to try a clean Linux setup again soon.


[29-Jun-18 09:16 AM] tolken#2655
Too messy on my prototype setup


[29-Jun-18 09:19 AM] CrisF#3405
I'm just getting back to clean prototype, haha.


[29-Jun-18 09:13 PM] tolken#2655
Does anyone have any ideas why/what would cause bdex to show a lower (significantly at times) balance than as shown in Agama/explorer? It seems like the UTXOs in question are maybe locked from recent trades. I didn‚Äôt appear to have any swaps dependent on those UTXOs. To resolve the discrepancy, I decided to restart BarterDex and the hidden UTXOs /balance game back to the proper amount. Is there another way to detect/flush this out? I hadn‚Äôt had bob trades for hours, so getting them to come back seemed directly related to me restarting bdex which was otherwise functioning properly.


[30-Jun-18 12:29 AM] jl777c#5810
does the cli balance call show the right balance


[30-Jun-18 12:30 AM] jl777c#5810
does the listunspent add up to the right balance?


[30-Jun-18 12:30 AM] jl777c#5810
those are the two critical datapoints


[30-Jun-18 07:22 AM] barv#0867
setting up a barterdex bob and the chips  electrum doesn't seem to work. feedback from ./setpassphrase: {"coin":"CHIPS","installed":false,"height":-1,"balance":0,"status":"active","electrum":"electrum2.cipig.net:10053"
any idea what could wring here?


[30-Jun-18 07:22 AM] tolken#2655
Calling balance and the sum of listspent are the same, both lower than they should be. Listspent was missing a couple 65kmd UTXOs, restarting bdex, the UTXOs reappeared via listunspent. The sum of listunspent and balance remain equal. @jl777c


[30-Jun-18 07:24 AM] jl777c#5810
native?


[30-Jun-18 07:24 AM] jl777c#5810
its possible some utxo are being resrved


[30-Jun-18 07:24 AM] tolken#2655
yes all native


[30-Jun-18 07:26 AM] tolken#2655
I believe they were reserved at some point in the day.  But it was likely many hours earlier. Didn‚Äôt seem like any recent trades we‚Äôre starting.


[30-Jun-18 07:31 AM] tolken#2655
could i safety do something like check for pending swaps - if there are none and ‚Äúbalance‚Äù != actual balance... purge some data file and/or restart BarterDex?


[30-Jun-18 07:31 AM] tolken#2655
not sure what bdex data file may exist that i could safely delete, if any.


[30-Jun-18 07:32 AM] jl777c#5810
recentswaps


[30-Jun-18 07:32 AM] jl777c#5810
that would show the ones that are pending


[30-Jun-18 07:33 AM] ComputerGenie#2331
_uses_
`    pending=$(curl -s --url "http://127.0.0.1:$port" --data "{\"userpass\":\"$userpass\",\"method\":\"recentswaps\",\"limit\":3}" | jq '.pending.timeleft') # check if awiting a swap process for any of our last 3 swaps`


[30-Jun-18 07:33 AM] tolken#2655
Alright, if zero pending, but old reserved UTXOs, that might be a good time to restart bdex to flush this out.


[30-Jun-18 07:35 AM] tolken#2655
Is Pending Swaps info directly derived from the SWAPS data files?


[30-Jun-18 07:36 AM] tolken#2655
Or is that unique data from SWAP stages data?


[30-Jun-18 07:41 AM] jl777c#5810
recent swaps uses DB/SWAPS and data in RAM


[30-Jun-18 07:42 AM] jl777c#5810
yes, if there are missing utxo, good time to restart


[30-Jun-18 07:55 AM] tolken#2655
Thanks, I‚Äôll see if I can clearly detect when this discrepancy manifests and handle it.


[30-Jun-18 08:00 AM] CrisF#3405
Hi, I'm getting this
 ```~/SuperNET/iguana/dexscripts$ ./client
curl: (7) Failed to connect to 127.0.0.1 port 7783: Connection refused```
Anyone know what I can do to fix it?


[30-Jun-18 08:01 AM] CrisF#3405
I've also been seeing this
```max rpc threads spawned and alive 0 <- 1```


[30-Jun-18 08:11 AM] tolken#2655
@CrisF the first one typically just means your bdex isn‚Äôt running.


[30-Jun-18 08:12 AM] tolken#2655
might mean misconfig, might mean many things,  but you‚Äôll certainly get that if bdex is offline.


[30-Jun-18 08:13 AM] CrisF#3405
It pauses there and then continues
```./client
curl: (7) Failed to connect to 127.0.0.1 port 7783: Connection refused
Already up-to-date.
Already up-to-date.
RPCport.0 remoteport.-1, nanoports 7793 7803 7813
showwif.0 Marketmaker 0.1 27774 rsize.248 1405454238
>>>>>>>>>>> set LP_canbind.1
BTC, cant open.(/home/tex/.bitcoin/bitcoin.conf)
BTC inactive.1530371494
KMD, PAT.2 cant open.(/home/tex/.pat/pat.conf)
PRLPAY.3 cant open.(/home/tex/.komodo/PRLPAY/PRLPAY.conf)
MLM.4 cant open.(/home/tex/.mktcoin/mktcoin.conf)
CRDS.5 cant open.(/home/tex/.credits/credits.conf)
...```


[30-Jun-18 08:13 AM] tolken#2655
I actually use that failed response as a means to detect if bdex has died and restart it automatically.


[30-Jun-18 08:15 AM] ComputerGenie#2331
`./client
curl: (7) Failed to connect to 127.0.0.1 port 7783: Connection refused
Already up-to-date.`
In that context, it means that the "just in case" kill of mm found no running mm to kill


[30-Jun-18 08:16 AM] tolken#2655
I‚Äôd just kill market maker anyway. That client script is too compassionate.


[30-Jun-18 08:20 AM] CrisF#3405
Could this be related to why I get these messages when trying to run native?
```max rpc threads spawned and alive 0 <- 1
userpass.(7xxxxxxxxxxxxxxxxxxxxx7e)
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: BCH post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.listunspent
<<<<<<<<<<< A bitcoind_RPC: BCH post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: BCH post_process_bitcoind_RPC.listunspent
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.validateaddress
...```


[30-Jun-18 08:21 AM] ComputerGenie#2331
You get a debug for what it did, because that's how a debug output works


[30-Jun-18 08:23 AM] CrisF#3405
Like this `tail -f debug.log`?


[30-Jun-18 08:25 AM] ComputerGenie#2331
no


[30-Jun-18 08:25 AM] ComputerGenie#2331
the output you see in terminal when you run marketmaker from a terminal is known as a 'debug output'


[30-Jun-18 08:27 AM] ComputerGenie#2331
some things in the debug are displayed for no other reason than to allow for debugging of issues


[30-Jun-18 08:30 AM] CrisF#3405
I've not been able to figure out what is wrong from that.


[30-Jun-18 08:30 AM] ComputerGenie#2331
I'm still not sure what you think is "wrong"


[30-Jun-18 08:30 AM] tolken#2655
Is this your new Linux install chris?


[30-Jun-18 08:31 AM] CrisF#3405
Yes, and on my other system too.


[30-Jun-18 08:31 AM] CrisF#3405
@ComputerGenie  I can't see my balances in native.


[30-Jun-18 08:32 AM] ComputerGenie#2331
@CrisF what call are you using?


[30-Jun-18 08:32 AM] tolken#2655
balances for all (which coins) or just some?


[30-Jun-18 08:32 AM] ComputerGenie#2331
`curl -s --url "http://127.0.0.1:$port" --data "{\"userpass\":\"$userpass\",\"method\":\"balance\",\"coin\":\"$Coin\",\"address\":\"$smartAddy\"}"`


[30-Jun-18 08:33 AM] ComputerGenie#2331
?


[30-Jun-18 08:34 AM] CrisF#3405
getcoin, balances, getwalletinfo. basically every call I could find.


[30-Jun-18 08:34 AM] SHossain#0007
this looks ok @CrisF


[30-Jun-18 08:35 AM] ComputerGenie#2331
"getcoin, balances, getwalletinfo. basically every call I could find."
Are you using calls or the local scripts?


[30-Jun-18 08:35 AM] CrisF#3405
previously only KMD showed a balance, but now not that.


[30-Jun-18 08:35 AM] SHossain#0007
the `./client` script has a kill command of marketmaker in the beginning fo the script that ensures clean start of marketmaker


[30-Jun-18 08:36 AM] SHossain#0007
this message while startup is ok `curl: (7) Failed to connect to 127.0.0.1 port 7783: Connection refused`

{Reactions}
üëç 

[30-Jun-18 08:36 AM] ComputerGenie#2331
The msg comes from attempt to call the stop api before the kill


[30-Jun-18 08:36 AM] ComputerGenie#2331
no mm to stop = no connection to mm


[30-Jun-18 08:37 AM] CrisF#3405
{
    "userpass": "{{ myuserpass  }}",
    "method": "getcoin",
    "coin": "KMD"
}


[30-Jun-18 08:37 AM] ComputerGenie#2331
the json is connected to what?


[30-Jun-18 08:38 AM] CrisF#3405
That's from insomnia connected to barterdex after `./client``setpassphrase``enable`


[30-Jun-18 08:39 AM] tolken#2655
When you call ‚Äúbalance‚Äù where are you getting your kmd/bch addresses from?


[30-Jun-18 08:40 AM] ComputerGenie#2331
@CrisF have you tried *not* using insomnia and just the actual scripts?


[30-Jun-18 08:40 AM] CrisF#3405
Originally, but not recently.


[30-Jun-18 08:42 AM] ComputerGenie#2331
the 1st step to sorting out issues is almost always to remove any extraneous things - i.e., how do you know mm is having an issue and not layer2 app if you only use layer 2 app?


[30-Jun-18 08:44 AM] CrisF#3405
@tolken I got the addresses from bdex gui that I imported into cli. (edit: I used the same passphrase)


[30-Jun-18 08:45 AM] CrisF#3405
@ComputerGenie  I will do it without insomnia.

{Reactions}
üëçüèø 

[30-Jun-18 08:49 AM] CrisF#3405
The smartaddress shows a balance in electrum for ltc and bch but I've never been able to get it to show up in native.


[30-Jun-18 08:49 AM] CrisF#3405
What address should I be using for those coins?


[30-Jun-18 08:51 AM] ComputerGenie#2331
`curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"calcaddress\",\"passphrase\":\"$passphrase\",\"coin\":\"COINX\"}"`


[30-Jun-18 08:51 AM] tolken#2655
@CrisF and these balances are the same ones you see when you do a ‚Äúgetcoins‚Äù ? I‚Äôd double check/ verify they are the same


[30-Jun-18 08:52 AM] CrisF#3405
KMD was and nothing for other coins (0 balance)


[30-Jun-18 08:56 AM] ComputerGenie#2331
and you're pulling from the latest dev/jl777 git?


[30-Jun-18 08:56 AM] ComputerGenie#2331
You should get like:
`$ curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"balances\"}"
[{"coin":"KMD","balance":10187.31266256,"KMDvalue":10187.31266256,"zcredits":0}, {"coin":"COQUI","balance":24294.35793251,"KMDvalue":3606.85162441}, {"coin":"SUPERNET","balance":45.33400204,"KMDvalue":1399.85278199}, {"coin":"total","balance":15194.01706896}]`

`$ curl -s --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"balance\",\"coin\":\"KMD\",\"address\":\"RUdNzKNzsyebRdDoprrkDZum1PkGoMY4RP\"}"
{"result":"success","coin":"KMD","address":"RUdNzKNzsyebRdDoprrkDZum1PkGoMY4RP","balance":10189.33835242,"zcredits":0,"zdebits":{"swaps":[.......],"pendingswaps":10.81792440}}`


[30-Jun-18 08:57 AM] tolken#2655
@CrisF sorry to clarify, by doing a getcoins, I mean to check the addresses associated with each coin. See if each respective address is the one you expect it to be.


[30-Jun-18 09:05 AM] CrisF#3405
@ComputerGenie  `calcaddress` finished


[30-Jun-18 09:05 AM] ComputerGenie#2331
and?


[30-Jun-18 09:11 AM] CrisF#3405
`balances` 
`[]`


[30-Jun-18 09:13 AM] CrisF#3405
`balance`
`{"result":"success","coin":"LTC","address":"LZGArBt9CtEt5eg2N13FERZJeKPtW8ZSKC","balance":0}`


[30-Jun-18 09:15 AM] ComputerGenie#2331
and you've done an "init" whereby you enabled coins?


[30-Jun-18 09:16 AM] CrisF#3405
Oh, sorry I messed that up.


[30-Jun-18 09:16 AM] CrisF#3405
That was the wrong calcaddress passphrase I used.


[30-Jun-18 09:17 AM] CrisF#3405
Yes, I enabled it.


[30-Jun-18 09:17 AM] CrisF#3405
Will calcaddress again.


[30-Jun-18 09:17 AM] tolken#2655
Have you verified getcoins addresses are what you expect them to be yet?


[30-Jun-18 09:18 AM] tolken#2655
I think that shows all the addresses you need.


[30-Jun-18 09:30 AM] CrisF#3405
`{"result":"success","coin":"LTC","address":"LZ8v9pR7a4j2zy7BDRU5MdQztwBDWmm8YD","balance":0}`
The correct passphrase also shows no balance.


[30-Jun-18 09:30 AM] CrisF#3405
I'll check getcoin now.


[30-Jun-18 09:32 AM] ComputerGenie#2331
Is the passphrase for that addy the same passphrase you're logged into marketmaker with?


[30-Jun-18 09:34 AM] tolken#2655
If this doesn‚Äôt work; go full vanilla. Don‚Äôt try and link up your existing bdex passphrase/address. Create a new one from scratch, send some test funds, verify that works first. I suspect you aren‚Äôt getting the right addr.


[30-Jun-18 09:34 AM] CrisF#3405
`{"result":"success","enabled":2,"disabled":84,"coin":{"coin":"LTC","installed":true,"height":0,"balance":0,"KMDvalue":0,"status":"active","smartaddress":"LZ8v9pR7a4j2zy7BDRU5MdQztwBDWmm8YD","rpc":"127.0.0.1:9332","pubtype":48,"p2shtype":5,"wiftype":176,"txfee":100000}}`


[30-Jun-18 09:34 AM] CrisF#3405
getcoin


[30-Jun-18 09:36 AM] tolken#2655
that‚Äôs using getcoin or getcoins?


[30-Jun-18 09:37 AM] CrisF#3405
The address passphrase and setpassphrase passphrase are not the same.


[30-Jun-18 09:37 AM] ComputerGenie#2331
going way back to way back; do you have your LTC wallet config set to daemon/server = 1?


[30-Jun-18 09:38 AM] CrisF#3405
@ tolken, it was getcoin.


[30-Jun-18 09:38 AM] tolken#2655
Use getcoins, not getcoin


[30-Jun-18 09:39 AM] ComputerGenie#2331
"The address passphrase and setpassphrase passphrase are not the same."
Then that's likely 1/2 or all of your issue


[30-Jun-18 09:39 AM] tolken#2655
Agreed


[30-Jun-18 09:40 AM] ComputerGenie#2331
mm will use the pass that's in the file; if that pass is not the pass for the addy you want to use, then mm doesn't have access to the one you want to use


[30-Jun-18 09:41 AM] CrisF#3405
Oh, I hope so.  I'll try now.


[30-Jun-18 09:42 AM] ComputerGenie#2331
think of it as a house
Just because George knows your address, doesn't mean  he can get through your locked door without the correct key


[30-Jun-18 09:44 AM] CrisF#3405
Will the userpass change now, too?


[30-Jun-18 09:44 AM] ComputerGenie#2331
userpass will be passphrase specific


[30-Jun-18 09:45 AM] CrisF#3405
Ok,


[30-Jun-18 09:50 AM] CrisF#3405
Does the userpass come from my `komodo.conf rpcpassword=`


[30-Jun-18 09:52 AM] ComputerGenie#2331
userpass comes from an encryption of passphrase (in the simplest of terms)
not related to any coin's config


[30-Jun-18 09:52 AM] tolken#2655
@CrisF no


[30-Jun-18 09:56 AM] CrisF#3405
I might have misunderstood @ComputerGenie .
```ComputerGenie - Today at 1:32 AM
Is the passphrase for that addy the same passphrase you're logged into marketmaker with?
```


[30-Jun-18 09:58 AM] CrisF#3405
Do you mean I should try the address passphrase in the passphrase script in SuperNET/iguana/dexscripts?


[30-Jun-18 09:58 AM] CrisF#3405
(mine are different)


[30-Jun-18 10:00 AM] tolken#2655
@CrisF yes, check the guide again, it explains that step


[30-Jun-18 10:00 AM] ComputerGenie#2331
OK, every passphrase has unique addresses tied to it
If you want to use "this is my pass" to create a specific add, then you have to use "this is my pass" as your passphrase in mm
If you use "this is my other pass" for mm, then mm will not be able to access "this is my pass" addys


[30-Jun-18 10:01 AM] CrisF#3405
Oh, I see they are the same now.


[30-Jun-18 10:01 AM] CrisF#3405
They haven't been previously though.


[30-Jun-18 10:04 AM] CrisF#3405
I've re-pasted them in case of typos.

{Reactions}
üòé 

[30-Jun-18 10:12 AM] CrisF#3405
I did `getcoins` and the addresses came up allright for the ones I know.


[30-Jun-18 10:12 AM] CrisF#3405
```{
        "coin": "LTC",
        "installed": true,
        "height": 0,
        "balance": 0,
        "KMDvalue": 0,
        "status": "active",
        "smartaddress": "LZ8v9pR7a4j2zy7BDRU5MdQztwBDWmm8YD",
        "rpc": "127.0.0.1:9332",
        "pubtype": 48,
        "p2shtype": 5,
        "wiftype": 176,
        "txfee": 100000
    }```


[30-Jun-18 10:14 AM] CrisF#3405
I used insomnia for it due to the mass of text and have no other beautifier.


[30-Jun-18 10:14 AM] CrisF#3405
Still 0 balance, but installed and active.


[30-Jun-18 10:15 AM] tolken#2655
Are you calling using the new/updated pass?


[30-Jun-18 10:15 AM] tolken#2655
you need to set it at bdex start, and use it for each call


[30-Jun-18 10:17 AM] CrisF#3405
Yes, I stopped bdex, repasted the passphrases, ./cllient, setuserpass then enabled coins.


[30-Jun-18 10:18 AM] cipi#4502
if the transactions to the address LZ8v9pR7a4j2zy7BDRU5MdQztwBDWmm8YD were made before this address was succesfully imported into the wallet, you need to rescan in order to see the correct balance


[30-Jun-18 10:19 AM] CrisF#3405
Oh, they would be on this pc.


[30-Jun-18 10:21 AM] CrisF#3405
I'll rescan and give it a try in the morning.


[30-Jun-18 10:21 AM] cipi#4502
BarterDEX only sees the utxos associated with that smartaddress, the other ones are not visible


[30-Jun-18 10:23 AM] CrisF#3405
Thanks for all the help @tolken , @ComputerGenie , @cipi


[30-Jun-18 10:23 AM] CrisF#3405
üôè

{Reactions}
üëçüèø (2) 

[01-Jul-18 08:01 AM] tolken#2655
Does calling a listunspent work in other coins, btc, bch etc when it‚Äôs not a local daemon your running? Seems to work for local KMD daemon, and for remote KMD, but not other coins.


[01-Jul-18 08:02 AM] jl777c#5810
listunspent api works


[01-Jul-18 08:03 AM] tolken#2655
For remote bch/btc ?


[01-Jul-18 08:03 AM] tolken#2655
Doesn‚Äôt seem to work for other coins, unless local


[01-Jul-18 08:07 AM] tolken#2655
Tried on the BTC address in orderbook ending in: A47a


[01-Jul-18 08:09 AM] ComputerGenie#2331
when using a remote wallet (i.e., electrum) you must take into account that lag exists and it will effect apps that have real-time returns


[01-Jul-18 08:09 AM] tolken#2655
I‚Äôm all native for what it‚Äôs worth.


[01-Jul-18 08:10 AM] tolken#2655
Other than my btc address I only see one other btc addrsss reporting UTXOs with a maxvol > 0 on orderbooks which is A47a


[01-Jul-18 08:12 AM] tolken#2655
You suspect most of these are electrum?


[01-Jul-18 08:13 AM] ComputerGenie#2331
I'm not sure the API was meant to give you unspent return for a not you addy


[01-Jul-18 08:14 AM] tolken#2655
It does for not-your KMD address, but with jl777s response above I‚Äôm not clear if that means it should work on other coins or not


[01-Jul-18 08:15 AM] tolken#2655
It‚Äôs a cool feature or it does work, but could be abused I guess.


[01-Jul-18 08:16 AM] ComputerGenie#2331
imo, if an electrum server gives you every scrap of info about any addy you ask, then that's a flaw and can lead to much abuse of the electrum


[01-Jul-18 08:16 AM] jl777c#5810
it does


[01-Jul-18 08:16 AM] jl777c#5810
native listunspent only works for address in wallet or being watched, it isnt magic


[01-Jul-18 08:19 AM] tolken#2655
Or being watched... ok, I‚Äôll read up more on that. Thanks üòÉ I see lots of addresses being watched, not entirely sure how that works.


[01-Jul-18 08:20 AM] ComputerGenie#2331
watched = telling your wallet, "I know it's not mine and I can't interact with it, but I want you to keep track of it"


[01-Jul-18 08:25 AM] tolken#2655
cool, so just need to see how easy it is to add / remove addresses of interest to wallet before calling listspent.  Sounds good.


[01-Jul-18 08:26 AM] ComputerGenie#2331
once you add a watch, you can't remove it (afaik)


[01-Jul-18 08:27 AM] tolken#2655
damn. commitment.


[02-Jul-18 05:32 AM] tolken#2655
I keep getting a lot of ‚Äúpending‚Äù when I do a pending api call for coins that I‚Äôm not trading. Like HYD and COQUI. I have a very specific/small list of coins I have defined with autoprice and these aren‚Äôt on it. It‚Äôs updating fairly frequently. As of yesterday these weren‚Äôt showing up. Is pending showing me anything other than my trades on BarterDex? Where are these coming from?


[02-Jul-18 05:47 AM] tolken#2655
Something keeps reserving my UTXOs, not clear what it is.


[02-Jul-18 06:27 AM] jl777c#5810
are you 100% sure you arent using the same passphrase on a different node?


[02-Jul-18 06:27 AM] jl777c#5810
pending should only be your pending swaps from DB/SWAPS


[02-Jul-18 06:53 AM] tolken#2655
Honestly I‚Äôm rarely if ever 100% on anything. However I can say definitively I only have one node running on my end. If that‚Äôs happening then my keys are compromised but I don‚Äôt see any exodus of funds or trades actually going through that ultimately deplete my funds. @jl777c


[02-Jul-18 06:54 AM] jl777c#5810
what does recentswaps return?


[02-Jul-18 06:54 AM] jl777c#5810
with a limit of 10+


[02-Jul-18 06:55 AM] tolken#2655
I‚Äôll get that to you shortly, when I return to machine. Yeah DB/SWAPS only has some recent kmd/bch bob trades, which I have active autoprice on. I‚Äôll get recentswaps and report back.


[02-Jul-18 07:43 AM] tolken#2655
@jl777c  To clarify, I was using the pendings script, which calls the statsdisplay method which shows those odd tradepairs/swaps. Recentswaps reports back what I expect:
```
{"result":"success","swaps":[[844743303, 2306499465], [1134733033, 1743156164], [4175885511, 198107718], [2958541873, 1425051760, {"KMD":-14.32694505,"BCH":0.02947629,"price":0.00205740}], [305081040, 3840877055, {"KMD":-53.40260208,"BCH":0.11151070,"price":0.00208811}], [3837462663, 543860252, {"KMD":-16.25822886,"BCH":0.03480471,"price":0.00214074}], [4173602401, 1138899551], [3735533082, 4152000862], [3761948501, 469268998], [3822826847, 4279390021, {"KMD":-6.79815130,"BCH":0.01508999,"price":0.00221972}]],"netamounts":[{"KMD":-90.78592729}, {"BCH":0.19088169}]}
```


[02-Jul-18 07:46 AM] jl777c#5810
maybe pendings is reporting all pending swaps from everyone


[02-Jul-18 07:46 AM] jl777c#5810
use recentswaps


[02-Jul-18 09:08 AM] tolken#2655
Data doesn‚Äôt seem nearly as thorough. I‚Äôd like something that gives me insight what may be reserving my UTXOs looking at the DB/SWAPS data should reveal most of this, but recentswaps seems like a less descriptive set of data. No uuids, dates/times.


[02-Jul-18 09:12 AM] tolken#2655
I‚Äôll dig around a bit more, I think all of the data is here, not not sure what the easiest place to collect it.


[02-Jul-18 09:13 AM] tolken#2655
DBSWAPS is giving me most of what I need, other than potentially knowing if/when a specific UTXO is reserved by a resent request.


[02-Jul-18 01:01 PM] jl777c#5810
there is an api that lists utxo that are reserved

{Reactions}
üëç 

[02-Jul-18 01:02 PM] jl777c#5810
inuse no params


[02-Jul-18 05:54 PM] ComputerGenie#2331
`couldnt add address_utxo d4f81b7ff94f10e4255b8cfea5c6e94820cfcaf345439f3bb0f9f5256a98cfc6/v1 after not finding`
are these meaningful on the user (me) end or pure debug?


[02-Jul-18 05:56 PM] ComputerGenie#2331
it doesn't seem to effect trades, but I seem to be getting them frequently (for both alice fee and alice payment) even after a complete rescan (linux & komodod native SUPERNET) and nothing else using that wallet or addy


[02-Jul-18 10:23 PM] jl777c#5810
i also noticed those recently, but it doesnt seem to affect things. will try to track it down


[03-Jul-18 02:46 AM] bartwr#6773
Question:

I would like to make a web page that shows my recent swaps using JavaScript / nodejs. 

Is it possible to request my recent swaps via a POST request to a SPV node?

I was thinking of something like

```    request({
      uri: 'http://electrum2.cipig.net:10000',
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        userpass: config.userpass,
        method: 'recentswaps',
        limit: 500
      })
    });```


This doesn't work. Maybe I have to use an other IP? Other suggestions?


[03-Jul-18 02:57 AM] jl777c#5810
localhost port 7784 for marketmaker api, electrum is for electrum api


[03-Jul-18 03:03 AM] jl777c#5810
@ComputerGenie that was a spurious error, unless you see a "second couldnt add..." it is just a bit of a delay for things to update


[03-Jul-18 03:05 AM] ComputerGenie#2331
often there were 2, from a visual aspect it was almost as if internal listunspent and duscombine had to run 2-3 times before it would take


[03-Jul-18 03:09 AM] ComputerGenie#2331
in some instances there were second "second"s
`added 58 of 58 from SUPERNET listunspents
couldnt add address_utxo b1164fedd3791ab19d59ed3353edf47f4149db8003717bd84bab88e87a621b0a/v0 after not finding
second couldnt add address_utxo after not finding
dustcombine.1 numpre.1 min0.0x7f3fb04be000 min1.(nil) numutxos.58 amount 0.12149885
preselected[0]: 35dcea509b9bd81ec057cdd4abd1a0cd636f4c5fe967b391cc6465283902a8d6/v1 0.00996095
added 58 of 58 from SUPERNET listunspents
couldnt add address_utxo d4f81b7ff94f10e4255b8cfea5c6e94820cfcaf345439f3bb0f9f5256a98cfc6/v1 after not finding
second couldnt add address_utxo after not finding`


[03-Jul-18 03:10 AM] ComputerGenie#2331
again, it doesn't seem to have any impact on trades, just anomalous to see


[03-Jul-18 03:18 AM] jl777c#5810
are you running parallel bots to the same marketmaker instance?


[03-Jul-18 03:19 AM] ComputerGenie#2331
1 singular 3 minute cron


[03-Jul-18 03:20 AM] ComputerGenie#2331
and no async calls in the script


[08-Jul-18 12:33 PM] tolken#2655
What‚Äôs the general consensus with BarterDex‚Äôs performance at the moment? I‚Äôve been following/using it for quite some time now and believe I have a fairly good understanding of how  it generally works, perhaps better than 95% then most. I tend to only use cli as my goal is to build out liquidity for Bdex for lots of different pairs. I‚Äôve put months of work out of my limited spare time in the morning, lunch breaks etc, learning and getting it working to the best of my ability.


[08-Jul-18 12:35 PM] tolken#2655
Now I say this not to ruffle any feathers, I know everyone is working hard and these are difficult problems to solve. My perception at this point is that our primary issue is that we don‚Äôt have enough bobs. Of course there‚Äôs an acknowledgment that more work is needed hence he mm2.0 efforts.


[08-Jul-18 12:36 PM] tolken#2655
Based on my limited experience, I suspect more bobs isn‚Äôt going to radically improve the amount of trades.


[08-Jul-18 12:37 PM] tolken#2655
I wouldn‚Äôt ever rule out that my configuration isn‚Äôt at fault, but it seems to me that assetchains swap nearly effortlessly, particularly in native mode.


[08-Jul-18 12:41 PM] tolken#2655
Looking at the last 10 pages on atomicexplorer, it seems mine maybe only 10% of all swaps are non-asset chains swaps. Is this coincidence, or is there something that eludes is that‚Äôs causing a barrier to reliable matching of non-assetchain coins?


[08-Jul-18 12:43 PM] tolken#2655
I know jl777 can‚Äôt be the only one with all the answers, so I hate to bug him, but I want to push this forward; I want to help, I hope that‚Äôs clear from my persistence.

{Reactions}
üëç 

[08-Jul-18 12:44 PM] jl777c#5810
yes, it is strange assetchains work fine but other coins dont


[08-Jul-18 12:44 PM] jl777c#5810
I have been swapping against BTC and it seems to work decently


[08-Jul-18 12:47 PM] tolken#2655
It does occasionally work, just very inconsistent compared to assetchains. Had an ltc alice buy trade go through yesterday, now bobs don‚Äôt seem to accept. I guess it could just be bad bobs, but just seems fishy.


[08-Jul-18 12:48 PM] jl777c#5810
my guess is that if I set up some bobs for a coin, it would be reliable


[08-Jul-18 12:52 PM] tolken#2655
my bobs have seen many trades as well, but it‚Äôs difficult to measure just how many trades never even match.


[08-Jul-18 12:54 PM] jorian#4555
how can a bob be bad? 
- bad connection
- utxo flooded wallet (though that even seems to work, only slower)


[08-Jul-18 12:55 PM] jorian#4555
but there still (in the case of CHIPS) are a lot of unfinished trades. trades that don't connect, get connected or get quote validate error -2's


[08-Jul-18 12:55 PM] jorian#4555
while there is plenty of liquidity


[08-Jul-18 12:55 PM] tolken#2655
well if these bad bobs can take down bdex as they seem to be capable of, not sure how much future this dex tech has.


[08-Jul-18 12:56 PM] jl777c#5810
i think things need to evolve toward a set of preferred bobs


[08-Jul-18 12:56 PM] jl777c#5810
and a much more aggressive reputation system


[08-Jul-18 12:57 PM] tolken#2655
Maybe we need a bob ‚Äúmost wanted‚Äù poster, so when we find shitty bobs, we can try and hammer them until we find it definitively what is the problem. Rule out UTXOs issues, that sort of thing.


[08-Jul-18 12:58 PM] tolken#2655
Would it be too much of a network bottleneck/security issue to be able to probe a bob for more info?


[08-Jul-18 12:58 PM] jl777c#5810
I can try to find time next week to setup reliable bobs for a  non-assetchain coin


[08-Jul-18 12:58 PM] jl777c#5810
it really is the same as an assetchain, mm doesnt really differentiate


[08-Jul-18 12:58 PM] jl777c#5810
and KMD is a real coin and it works just fine


[08-Jul-18 12:59 PM] tolken#2655
if it ever works for me like kmd assetchains presently do, it‚Äôs going to be night and day difference.


[08-Jul-18 01:00 PM] jl777c#5810
you have native daemons with txindex=1?


[08-Jul-18 01:02 PM] tolken#2655
I may not have txindex=1 on all chains, I do on at least one though. I followed a few guides which weren‚Äôt consistent so I wasn‚Äôt consistent with my confitg. I can ensure they all are though.


[08-Jul-18 01:02 PM] tolken#2655
I believe ltc and btc I used it


[08-Jul-18 01:02 PM] jl777c#5810
without txindex=1 bobs wont do too well


[08-Jul-18 01:03 PM] tolken#2655
But maybe not on bch


[08-Jul-18 01:03 PM] tolken#2655
bch has been most prolific bob though. But I‚Äôll doublecheck


[08-Jul-18 01:03 PM] jl777c#5810
check your LTC bob


[08-Jul-18 01:05 PM] tolken#2655
Will do


[08-Jul-18 01:23 PM] tolken#2655
Just checked, btc and bch, both don‚Äôt, but ltc does have txindex=1. Maybe just luck, but both bch has been bob trading successfully (one just started actually) for weeks now. Btc has traded at least one bob trade. Ltc, haven‚Äôt dont a bob trade yet, but one Alice.


[08-Jul-18 01:23 PM] tolken#2655
I‚Äôll add txindex to btc/bch config soon.


[08-Jul-18 01:27 PM] jl777c#5810
if it is working dont fix it!


[08-Jul-18 01:27 PM] jl777c#5810
just trying to troubleshoot the bobs


[08-Jul-18 01:29 PM] tolken#2655
Ok, noted for future though.


[08-Jul-18 01:39 PM] tolken#2655
gunna see if I can get this ltc/kmd Alice buy to go through by disabling ltc native and usijg electrum.


[08-Jul-18 07:30 PM] tolken#2655
Getting utxo complains (address_myutxopair couldn‚Äôt find btc (addr) targets amoint amount ) when I try a kmd/btc Alice buy too. So not limited to ltc. It‚Äôs like it‚Äôs getting them swapped backward.


[08-Jul-18 07:55 PM] tolken#2655
ugg ok so tried Alice assetchains (oot/kmd) and no go either so something it‚Äôs up.


[09-Jul-18 05:31 AM] siu#3920
but with txindex=1 i cant use pruned modes for btc and ltc


[09-Jul-18 05:32 AM] siu#3920
that will make it much more expensive to set bobs


[09-Jul-18 05:32 AM] siu#3920
specially for dICOs


[09-Jul-18 05:58 AM] jl777c#5810
yes, but maybe txindex=1 is not needed after all as i think all is required is gettxout works and it will work even for pruned node


[09-Jul-18 06:03 AM] Deleted User#0000
none of the bobs I have set up used txindex=1


[09-Jul-18 06:04 AM] jl777c#5810
i guess no need for txindex=1, i just find pruned nodes much less complete


[09-Jul-18 09:55 PM] Deleted User#0000
Hey people, I need some help with BCH on my bob, to issue a `getinfo` via cli I need to do this command: 
`bch-cli -datadir=$HOME/.bch -conf=$HOME/.bch/bch.conf getinfo`
Marketmaker finds the rpcport fine, but cannot issue any calls, give this: 
`<<<<<<<<<<< A bitcoind_RPC: BCH post_process_bitcoind_RPC.getinfo`


[09-Jul-18 09:56 PM] Deleted User#0000
not imperative for today, I assume this is a BCH issue, the deamon installed is bitcoin-ABC.


[09-Jul-18 09:56 PM] Deleted User#0000
It was already installed on the server.


[09-Jul-18 11:32 PM] jorian#4555
Wasn't it @CrisF who had the same issue?


[09-Jul-18 11:49 PM] CrisF#3405
Yeah @jorian  @Deleted User , I had that coming up along with ```post_process_bitcoind_RPC.listunspent
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.validateaddress```
I got it with BCH, DASH, KMD, LTC, ZEC (I saw jl777s post about ZEC no longer working with BD) and occasionally KMD.
I've just gotten a part over from Italy and am in the process of re-reinstalling ubuntu. 
Hopefully that does the trick.
If you solve this issue please post how you did it @Deleted User !  I've spent many hours on it (and so have some others who have patiently been helping) without success.
You can see some of it above üëÜ


[09-Jul-18 11:51 PM] Deleted User#0000
It was on KMD too, that was just a typo in the conf file.


[09-Jul-18 11:51 PM] Deleted User#0000
BCH, not that... its somehting else... I assume it cannot read the conf file.


[09-Jul-18 11:52 PM] Deleted User#0000
maybe I need to manually set it path, but it ads the coins on startup fine, and says BCH : installed


[10-Jul-18 12:01 AM] CrisF#3405
I will check the komodo.conf.  It has worked before (shown my balance) with KMD without any change to the .conf though.
With the others I have tried multiple variations of .conf starting from the exact examples from guides, then adding suggestions from others and finally to trying any combination I could think of.
I also had XXX : installed and XXX : active .  No balance showed though.  Balance showed up on blockchain and in native wallets though.


[10-Jul-18 12:11 AM] Deleted User#0000
are your conf files in the  default place ie komodo.conf is exactly `/home/$USER/.komodo/komodo.conf`


[10-Jul-18 12:12 AM] Deleted User#0000
if not, copy a copy if it to that path.


[10-Jul-18 12:31 AM] CrisF#3405
KMD, LTC, DASH and ZEC were.  BCH was on a portable ssd.  I had a symlink for that and also tried with using direct filepaths like this:   
```bch-cli -datadir=/media/tex/ssd/.bch -conf=/media/tex/ssd/.bch/bch.conf getwalletinfo```


[10-Jul-18 12:33 AM] CrisF#3405
I'll do it all from scratch when this ubuntu re-reinstall finally gets done.


[10-Jul-18 01:22 AM] Deleted User#0000
Yeah, thats the part I am confused about...


[10-Jul-18 01:22 AM] Deleted User#0000
you can pass that info to the cli program..... but how does marketmaker know those values? I am 99% sure this is where the problem is for BCH. There are BCH bobs, so sombody knows how to fix this. @tolken


[10-Jul-18 01:23 AM] CrisF#3405
Yes, tolken got it working.


[10-Jul-18 01:27 AM] CrisF#3405
It seemed strange for me that the symlink allowed me to issue commands with the standard ```-datadir=/home/tex/.bch -conf=bch.conf```
but marketmaker didn't seem to be able to pick that up.


[10-Jul-18 01:28 AM] CrisF#3405
It wasn't able to pick up LTC  either and that was locally installed.


[10-Jul-18 01:30 AM] CrisF#3405
Since others have got it working as per the guide I'm thinking this fresh ubuntu install might help.


[10-Jul-18 01:36 AM] Deleted User#0000
hopefully. If you work out BCH please let me know, everything else works as expected form my work today. I await PTYX to test it was what he wanted though.


[10-Jul-18 01:40 AM] CrisF#3405
Will do.


[10-Jul-18 01:40 AM] CrisF#3405
What were you working on?


[10-Jul-18 01:40 AM] NF#1854
anybody want to donate /sell bitmain coupon ?


[10-Jul-18 01:40 AM] NF#1854
if  you are not using


[10-Jul-18 02:52 AM] siu#3920
You need to be sure the coins file script is the same as the daemon... rpcport and homefolder

{Reactions}
üëç 

[10-Jul-18 04:25 AM] Deleted User#0000
yeah I think the conf file in this server may be custom, I will check that now. thanks man


[10-Jul-18 04:30 AM] tolken#2655
@CrisF it isn't strange to me that you could issue bch cli commands with that syntax as it'll create a conf anywhere you want. What's seems to be most important is ensuring the conf file is where barterDex expects it to be.


[10-Jul-18 04:32 AM] tolken#2655
Yes,  have BCH, BTC, LTC more or less working although I've run into problems of my own. I can't seem to get reliable alice trades from that machine, although bobs seem to work fairly well. I'm about to nuke my setup and build out a new setup from scratch with everything I've learned. Hopefully its just something specific to that machine.


[10-Jul-18 04:38 AM] CrisF#3405
Hi, @tolken , yes, that makes sense.


[10-Jul-18 04:39 AM] CrisF#3405
Hopefully a fresh start will work for both of us!


[10-Jul-18 05:04 AM] Deleted User#0000
@tolken I put this into the coins file on startup ( I made my own coins array just for the ones I am using on my bobs)
` {\"coin\":\"BCH\",\"name\":\"bch\",\"rpcport\":33333,\"confpath\":\"${HOME#}/.bch/bch.conf\",\"pubtype\":0,\"p2shtype\":5,\"wiftype\":128,\"txfee\":1000}]"
`


[10-Jul-18 05:04 AM] Deleted User#0000
and it still doesnt work


[10-Jul-18 05:04 AM] Deleted User#0000
I get BCH RPC port found


[10-Jul-18 05:04 AM] Deleted User#0000
but it wont talk to it


[10-Jul-18 05:18 AM] Deleted User#0000
I think I found the issue


[10-Jul-18 05:20 AM] Deleted User#0000
üòÑ it's alive


[10-Jul-18 05:21 AM] Deleted User#0000
restarted deamon, so it was reading the right rpc/user pass.

{Reactions}
üëè 

[10-Jul-18 05:21 AM] Deleted User#0000
and putting the confpath part solved the problem.


[10-Jul-18 05:51 AM] Deleted User#0000
@jl777c 
```CUT VERIFIED
second couldnt add address_utxo b28e37d12f19f4b0621af8faf23045bbdd8c506c5efa3a96125bf719f6a1d4d4/v2 after not find
ing
dustcombine.0 numpre.0 min0.(nil) min1.(nil) numutxos.0 amount 0.57420520
change 0.00000000 = total 0.00000000 - amount 0.57420520, adjust 0.00000000 numvouts.1, txfee 0.00001000
not enough inputs  0.00000000 < for amount 0.57420520 txfee 0.00001000
rawtx withdraw error? ({"utxotxid":"b28e37d12f19f4b0621af8faf23045bbdd8c506c5efa3a96125bf719f6a1d4d4","utxovout":2
,"locktime":1531242313,"txfee":"1000","outputs":[{"bYdr86eiKzMgURbCVbhnVHTjBWitT2oauW":0.57419521}]})
error bob generating 0x7f2bfc1284d4 deposit.23
swapdata rawtx has null txbytes
error from basilisk_swapdata_rawtx.bobdeposit 0x7f2bfc1284d4 len.0
error sending bobdeposit
```


[10-Jul-18 05:51 AM] Deleted User#0000
any ideas?


[10-Jul-18 05:55 AM] jl777c#5810
second couldnt add address_utxo b28e37d12f19f4b0621af8faf23045bbdd8c506c5efa3a96125bf719f6a1d4d4/v2 after not find
ing -> seems it got some sort of error in finding a utxo. is that valid?


[10-Jul-18 05:55 AM] jl777c#5810
and without utxo, it couldnt create the bobdeposit


[10-Jul-18 06:18 AM] Deleted User#0000
It had a swap never started due to a firewall, I did not know was installed. I removed that, then we tried a second swap. And it got stuck there.


[10-Jul-18 06:18 AM] Deleted User#0000
it onyl had 4 utxo


[10-Jul-18 06:18 AM] Deleted User#0000
1x2 and 1.2x2


[10-Jul-18 06:26 AM] jl777c#5810
what coin?


[10-Jul-18 07:09 AM] Deleted User#0000
ZILLA on bob KMD on Alice. Sorry alte reply been debugging scaletest


[10-Jul-18 07:33 AM] Deleted User#0000
wasnt on latest marketmaker dev, updated and funded more UTXO, now I seem to have a swap going through.


[10-Jul-18 01:18 PM] ComputerGenie#2331
At one point I had a tab in my GUI that listed out all of the addresses and privkeys for the coins loaded. It's been so long that I can't recall how I did it. Is there a singular call that will spit out privkeys rather than using a foreach loop?


[10-Jul-18 02:00 PM] CrisF#3405
@Deleted User  Great! I'll give that a try too.


[11-Jul-18 03:09 AM] Mylo#8306
anyone here know where the etomic faucet is?


[11-Jul-18 03:12 AM] CrisF#3405
Wasn't it on the Etomic Explorer?


[11-Jul-18 03:14 AM] CrisF#3405
@Mylo  It's not coming up for me now. This is what I had:  http://etomic.kmd.host/

{Reactions}
üëå 

[11-Jul-18 03:17 AM] CrisF#3405
Well, the explorer finally came up for me but I don't see the faucet, sorry.


[11-Jul-18 03:34 AM] Mylo#8306
It's cool I think i found the faucet error with the devs - was trying to troubleshoot.  cheers CrisF


[11-Jul-18 03:35 AM] Mylo#8306
FYI - https://docs.komodoplatform.com/en/latest/barterDEX/MarketmakerErrors.html


[11-Jul-18 03:35 AM] Mylo#8306
might be useful to ppl as they marketmake and play around with things.

{Reactions}
üëç 

[11-Jul-18 11:04 AM] spuddyMiner#2499
Hello, all. I've got a problem, and I don't know who to ask so I'm just going to blurt it out here. I just found out that I have been mining my ZEC to a watch-only wallet address, and after doing some reading online, I think the issue might have something to do with barterDEX


[11-Jul-18 11:05 AM] spuddyMiner#2499
Does BarterDEX make watch-only addresses in existing wallet files in my appdata?


[11-Jul-18 11:06 AM] ComputerGenie#2331
It doesn't "make them" it adds them to watch for balance changes, hence the name "watch only"


[11-Jul-18 11:06 AM] spuddyMiner#2499
ok. well...is it possible for these addresses to show up under "owned addresses" tab in WinZEC?


[11-Jul-18 11:07 AM] ComputerGenie#2331
how a given coin handles display of watch only is up to the devs of that given coin


[11-Jul-18 11:08 AM] spuddyMiner#2499
Ok. Just so we're clear, I'm not here to complain about it. I'm just trying to find out if there is a way I can recover my zec.


[11-Jul-18 11:09 AM] ComputerGenie#2331
of note: watch only is part of the base Bitcoin protocol and not created by komodo or zec
@jl777c **might** be able to help here


[11-Jul-18 11:11 AM] spuddyMiner#2499
I just hope I haven't mucked it up with everything I've done after the fact to try to fix this also.


[11-Jul-18 11:11 AM] jl777c#5810
you sent funds to a watchonly address?


[11-Jul-18 11:11 AM] spuddyMiner#2499
yes.


[11-Jul-18 11:12 AM] spuddyMiner#2499
well technically Bitfly did


[11-Jul-18 11:12 AM] spuddyMiner#2499
but I told them to


[11-Jul-18 11:12 AM] spuddyMiner#2499
so blame ultimately lands on me. I'm just looking for help now.


[11-Jul-18 11:14 AM] spuddyMiner#2499
https://zcash.blockexplorer.com/address/t1ar1tA32x7RRPRk1iGN8hg3q8Cc4JAprho


[11-Jul-18 11:16 AM] jl777c#5810
which txid? need to get the KMD format of that address and hope it is held by a friendly. then they could send it back to you


[11-Jul-18 11:20 AM] spuddyMiner#2499
That is over my head a bit. I have never actually used barterDEX, I installed it to check it out, but beyond that it's just been taking up space on my drive. Is txid Transaction ID? All of those transactions are .01 payments from flypool


[11-Jul-18 11:22 AM] spuddyMiner#2499
...They don't all make sense I guess.


[11-Jul-18 11:25 AM] spuddyMiner#2499
I see now that bitfly sends it out from a private address in big chunks of .01 payments to a lot of addresses at once.


[11-Jul-18 11:25 AM] jl777c#5810
https://www.dexstats.info/addressconverter.php?fromcoin=ZEC&tocoin=KMD&address=t1ar1tA32x7RRPRk1iGN8hg3q8Cc4JAprho

{Embed}
https://www.dexstats.info/addressconverter.php?fromcoin=ZEC&tocoin=KMD&address=t1ar1tA32x7RRPRk1iGN8hg3q8Cc4JAprho
Dexstats Dashboard - BarterDEX
Key Data for BarterDEX


[11-Jul-18 11:26 AM] jl777c#5810
so KMD address RSFbxLWBacSPro4KF1Y8fPH7dosa9bHniL is who has those coins


[11-Jul-18 11:27 AM] jl777c#5810
unfortunately it isnt my address. you will need to ask around to see who has that address and hope they are kind enough to send you the ZEC you kindly had sent to them


[11-Jul-18 11:27 AM] spuddyMiner#2499
lol


[11-Jul-18 11:27 AM] jl777c#5810
it is not an active KMD address...


[11-Jul-18 11:27 AM] jl777c#5810
so likely someone else who was trying out the DEX


[11-Jul-18 11:28 AM] spuddyMiner#2499
I see. what are the chances that that address is on my machine? Much of this is beyond my expertise, like I said.


[11-Jul-18 11:30 AM] spuddyMiner#2499
And  are we sure that this address was generated by barterDEX?


[11-Jul-18 11:30 AM] jl777c#5810
I am sure of nothing, only the data you posted here. for all I know your passphrase generates that address. not sure how you got that address


[11-Jul-18 11:31 AM] jl777c#5810
in barterDEX or hyperDEX what address do you get if you put in your passphrase


[11-Jul-18 11:31 AM] spuddyMiner#2499
ü§î


[11-Jul-18 11:40 AM] spuddyMiner#2499
Ok, so after I discovered this problem, I rage dumped winZEC, and barterdex from my machine, but I have the wallet file and I have my barterdex password written down. Later today, I will try to restore the wallet, open barterDEX and see...what happens.


[11-Jul-18 11:40 AM] spuddyMiner#2499
Thanks for the talk!


[11-Jul-18 11:41 AM] spuddyMiner#2499
I'm going to save that kmd address that you posted earlier too.


[11-Jul-18 11:45 AM] spuddyMiner#2499
If anyone reading this can make the unicorn code magic that lives in the computer give me my money back hit me up. üòÇ üòá


[11-Jul-18 11:47 AM] ComputerGenie#2331
If they can do that, I'm pretty sure that the 1 ZEC in that wallet will be the least of their concerns


[11-Jul-18 11:47 AM] ComputerGenie#2331
:trollface:


[11-Jul-18 11:48 AM] spuddyMiner#2499
lol


[11-Jul-18 11:48 AM] spuddyMiner#2499
This is true. Anyone who can make the unicorn code magic that lives in the computer give me my money back stay away from my computer!


[11-Jul-18 11:49 AM] spuddyMiner#2499
or donate me some zec. not to that address though.


[14-Jul-18 02:19 AM] tolken#2655
Quiet around here. Taking a little break myself after coming to the realization my system is having difficulties now doing Alice trades strangely enough, but bobs are generally going though, decided to pause and start from scratch. How‚Äôs everyone else fairing lately?


[15-Jul-18 02:53 AM] jansako#3330
Set up my first 'proper' bob recently (KMD/SN and KMD/BOTS, for now), got one swap on KMD/SN, so at least I know it works. haven't had any luck with Alice sells for a long time, but pretty sure that would be because there are no UTXO's of any size left in the AC 'buy' bobs (the ones I wish to trade, that is). That is not a complaint, I understand perfectly why there aren't.


[17-Jul-18 06:53 AM] Deleted User#0000
@jl777c 
Using the USD peg on ZILLA bob it seems the price updates faster than the orderbook propagates the prices, this leads to unmatched swaps when you click the order book. Its very very small margin causing quote to fail eg.
```ZILLA/KMD ignore as qprice 0.34939785 vs myprice 0.34958873(edited)
0.34939785
-0.34958873=
0.00019088
```
What should I change to make the bob a little more lenient so swaps go through more reliably. Is it the sellmargin value? OR is there something else we can fix to make it a bit more reliable. Manually setting a higher price is resulting in all swaps getting to complete on Atrems latest release.


[17-Jul-18 06:58 AM] jl777c#5810
updating too fast... can you just boost the price a bit?


[17-Jul-18 07:00 AM] Deleted User#0000
Yes increasing the price on the Alice makes it work, but its not nice for user experience, you click the price and it wont buy.


[17-Jul-18 07:01 AM] Deleted User#0000
Likley this might be more a GUI issue, but my question is more to make the bob let a trade go though where the quote is like fractions of cents off.


[17-Jul-18 07:01 AM] Deleted User#0000
But maybe on very large amounts that could be not good either.


[17-Jul-18 07:03 AM] jl777c#5810
well bob is setting a price. you are asking to make the price bob sets actually a bit lower than what bob set


[17-Jul-18 07:03 AM] Deleted User#0000
No not exactly... The price the bob is showing on the orderbook of alice is different to what the price it is offering.


[17-Jul-18 07:04 AM] Deleted User#0000
they are not the same value.


[17-Jul-18 07:04 AM] jl777c#5810
this is slippage


[17-Jul-18 07:04 AM] Deleted User#0000
so offering the price in the orderbook results in an unmatched swap


[17-Jul-18 07:05 AM] Deleted User#0000
increasing price makes it work, it could also go the other way, if USD peg makes the price lower I guess, but in that case the swap will still match.


[17-Jul-18 07:08 AM] jl777c#5810
compensating for slippage is non-trivial and likely not possible in all cases

{Reactions}
üëç 

[17-Jul-18 07:22 AM] Deleted User#0000
no problem. Just have to try work this out from Alice side.


[18-Jul-18 02:28 AM] jansako#3330
@Deleted User sorry for the ping if you don't know the answer!
I checked my MM, when I run ./myprice, the orders show as expected. The MM is running only ~24 hours. Do you need to restart these every day, or how do you tell it is 'gone bad' if it reports the orders? (trying to keep my bob orders showing in HyperDEX & Dexstats orderbooks)


[18-Jul-18 02:28 AM] jansako#3330
do you just keep checking orderbooks on Dexstats?


[18-Jul-18 02:33 AM] jansako#3330
Happy to try @artem.pikulin 's latest, which repo is it?


[18-Jul-18 02:37 AM] artem.pikulin#0794
Hi, it's https://github.com/artemii235/SuperNET/releases

{Embed}
https://github.com/artemii235/SuperNET/releases
artemii235/SuperNET
Contribute to SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[18-Jul-18 02:40 AM] artem.pikulin#0794
Please note that it doesn't differ a lot from main repo except ETH/ERC20 swap support.


[18-Jul-18 02:48 AM] Deleted User#0000
Yes orderbooks showing g on the Bob but not propagating has been an issue at times from my experience, seems totally random and is likely a network issue I guess, but not really sure. Just try  restarting it and see what happens.


[18-Jul-18 02:48 AM] Deleted User#0000
@jansako


[18-Jul-18 02:49 AM] jansako#3330
THX!


[18-Jul-18 03:38 AM] siu#3920
@jansako do you have canbind:1 specified on your client script?


[18-Jul-18 05:36 AM] jansako#3330
I don't , using the 'stock' script, just checked. Is that a startup argument, or where exactly should it go?


[18-Jul-18 05:37 AM] jansako#3330
#!/bin/bash
source passphrase
source coins
./stop
git pull;
cp ../exchanges/updateprices .;./updateprices
cd ..;
./m_mm;
pkill -15 marketmaker;
stdbuf -oL $1 ./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &


[18-Jul-18 05:48 AM] jl777c#5810
add "canbind":1 if your node allows other nodes to connect to yours


[18-Jul-18 06:02 AM] jansako#3330
right, the question was where to put it and the exact syntax.


[18-Jul-18 06:03 AM] jansako#3330
should it be set that way OOTB/mentioned in the setup guide if it is important?


[18-Jul-18 06:07 AM] jl777c#5810
stdbuf -oL $1 ./marketmaker "{"canbind":1,"gui":"nogui","client":1, "userhome":"/${HOME#"/"}", "passphrase":"$passphrase", "coins":$coins}" &


[18-Jul-18 06:07 AM] jl777c#5810
there is only one JSON in your post above, I put it into the JSON


[18-Jul-18 08:18 AM] tolken#2655
Jansako, I think this client script will get updated/overwritten when marketmaker updates itself, so I think you may want to periodically check to make sure it‚Äôs still in there, or make your own script named something else.


[18-Jul-18 08:25 AM] Deleted User#0000
For my bobs I made my own, using only the coins I am using in the "coins" section and place it elsewhere.


[18-Jul-18 08:25 AM] jansako#3330
thank you all!


[18-Jul-18 08:25 AM] Deleted User#0000
you want to use as small amount of stuff as possible IMO.


[18-Jul-18 08:26 AM] Deleted User#0000
reduce chance for bugs. But yes, canbind:1 and having no firewall on the bob is the best policy


[18-Jul-18 08:33 AM] jansako#3330
all configured & reset. Let's see if I can catch some alice's :-).


[18-Jul-18 08:33 AM] jansako#3330
Much appreciated!


[22-Jul-18 03:25 PM] ph03nix#3115
jl777c - Last Wednesday at 8:48 AM
add "canbind":1 if your node allows other nodes to connect to yours


[22-Jul-18 03:26 PM] ph03nix#3115
how would one know if their node allows other nodes to connect?


[22-Jul-18 03:28 PM] jl777c#5810
if it works, then it works.if not, then not. this is the problem with networking


[22-Jul-18 03:28 PM] ph03nix#3115
gotcha, thanks


[22-Jul-18 04:37 PM] tolken#2655
With my limited understanding I can‚Äôt help but wonder if I had a clear understanding of which ips have attempted to connect to me - what info they have exchanged with me - i might be able to better determine where things are going wrong.  Most of the time I have no idea if anyone is attempting to connect to me, yet I get lots of reserved UTXOs so someone appears to be connecting. I‚Äôm not sure what most errors mean yet, so that makes it challenging as well. I‚Äôve just rebuilt my system and will get it all back online soon. Hoping some of the issues will go away now. Shooting in the dark though.


[22-Jul-18 05:15 PM] cipi#4502
if your node is running on a server with a public IP and no firewall activated, then anybody can connect to you, if you are using a NATed home connection, then nobody can connect to you

{Reactions}
üëç 

[22-Jul-18 05:36 PM] tolken#2655
@cipi all criteria met. No firewall, canbind:1 Public ip etc.


[22-Jul-18 05:40 PM] tolken#2655
have done many bob and Alice trades. Got really bad a few weeks ago, could barely do alice trades for some reason. No idea what may have changed yet.


[22-Jul-18 05:42 PM] tolken#2655
I thought it was mainly non assetchain trades that where the problem, but even oot/kmd Alice trades are very hit and miss


[22-Jul-18 06:19 PM] ph03nix#3115
if you are using a NATed home connection, will forwarding these üëá  ports help?


[22-Jul-18 06:20 PM] ph03nix#3115
`RPC_port.7783 mypullport.7793 mypubport.7803`


[22-Jul-18 07:07 PM] cipi#4502
@ph03nix not really, because the used ports are not only the 2... on every swap bob tells alice to connect to a specific port and finish the swap... the port is chosen randomly, so you would need to forward all ports to make a difference


[22-Jul-18 07:17 PM] ph03nix#3115
understood, thank you cipi


[22-Jul-18 07:24 PM] tolken#2655
Isn‚Äôt the random just a way to improve chances of avoiding occupied/used ports?


[22-Jul-18 07:25 PM] tolken#2655
Isn‚Äôt canbind partly there to avoid some of the randomness and just let two peers talk directly to each other?


[22-Jul-18 07:44 PM] Deleted User#0000
I *think* that canbind:0 uses the Full Relay nodes to create a connection, where as canbind:1 just binds to a random port and starts listening for Alice to connect.


[22-Jul-18 08:04 PM] Mylo#8306
```
cipi [12:00 PM]
yes, if you start marketmaker with `\"canbind\":1`, it must not be behind NAT or firewall, all ports have to be open... you could start without `canbind`, but it would not work so well and you wouldn't be able to do more then one swap at a time


blackjok3r [12:02 PM]
Yes I know this, what I mean is that with a marketmaker set with `canbind:1` set I have full orderbooks and very fast performance almost instantly after start... where as on my local computer using hyperdex or barterdex it takes 20mins to get orderbooks at times, and still after that only 20% of them are showing up.

grewalsatinder [1:44 PM]
we always need more FR nodes
more there are more better experience for DEX
```
from a history chat.  let's get to the bottom of FR nodes.


[22-Jul-18 08:04 PM] Mylo#8306
i snipped your comment @Deleted User


[22-Jul-18 08:05 PM] Mylo#8306
there is not much documentation online for `canbind`


[22-Jul-18 08:06 PM] Deleted User#0000
no... all it means is your not behind NAT and have no firewall... to trade as Alice, you dont need it at all.


[22-Jul-18 08:08 PM] Deleted User#0000
Its only for bobs, orderbooks and all that stuff has been pretty good for me latley. I had 5 concurrent swaps going on ZILLA KMD without issues. But some users are still complaining of stuck swaps... No idea whats going on there. üòï  The ZILLA chain was not mining blocks, but it should be now, so that cant be the issue. Maybe I need to make a pool and GPU mine ZILLA to make sure there are blocks flowing for sure.


[22-Jul-18 08:09 PM] Mylo#8306
set your notary to mine it


[22-Jul-18 08:39 PM] ph03nix#3115
i'm behind a NAT and i've had alice trade with my bob successfully a few times


[22-Jul-18 08:39 PM] ph03nix#3115
running the default client script...no `canbind` set at all


[22-Jul-18 09:35 PM] Deleted User#0000
you can make one trade at a time with canbind:0


[22-Jul-18 09:36 PM] Deleted User#0000
but while its happening anyone else trying to connect withh get "swap never started" and your UTXO's will get locked out


[22-Jul-18 09:36 PM] Deleted User#0000
ZILLA is ondemand CPU blocks, so it wont mine. I am already mining it.

{Reactions}
üëç 

[22-Jul-18 10:32 PM] tolken#2655
Trying to reinstall bdex cli using the macOS, I've done this many times now so I'm uncertain what could be wrong. Any idea why I may be getting a ```./build_static_nanomsg.sh: File '../OSlibs/osx/x86_64/libnanomsg-static.a' not found.``` error ? What should but isn't installing that?


[22-Jul-18 10:40 PM] ph03nix#3115
looks like you need to install nanomsg


[22-Jul-18 10:40 PM] ph03nix#3115
http://macappstore.org/nanomsg/

{Embed}
Amber
http://macappstore.org/nanomsg/
Install nanomsg on Mac OSX


[22-Jul-18 10:42 PM] Deleted User#0000
yeah... check where the file actually is @tolken


[22-Jul-18 10:42 PM] Deleted User#0000
I go that before... not on mac though... but you might have to rename it


[22-Jul-18 10:52 PM] tolken#2655
@ph03nix I‚Äôve never had to before but I‚Äôll check that out.


[22-Jul-18 10:54 PM] tolken#2655
@Deleted User just so weird. I‚Äôll take a look, not entirely sure what to look for. Never had to do that before. I feel like it missing a step


[22-Jul-18 10:54 PM] Deleted User#0000
It compiles nanomsg static library, but I think it copys the file to the wrong place


[22-Jul-18 10:55 PM] Deleted User#0000
Maybe you should just use artems build from here: https://github.com/artemii235/SuperNET/releases

{Embed}
https://github.com/artemii235/SuperNET/releases
artemii235/SuperNET
Contribute to SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[22-Jul-18 11:14 PM] tolken#2655
thank you blackjok3r.


[22-Jul-18 11:15 PM] tolken#2655
https://docs.komodoplatform.com/en/latest/barterDEX/install-barterDEX-CLI.html - don't know if this should be a live page, but seems to be dead for what its worth


[23-Jul-18 12:00 AM] Mylo#8306
https://docs.komodoplatform.com/barterDEX/install-barterDEX-CLI.html
üëÜ  there were updates over the weekend to the doc site and autobuilding.  waiting for timezone catchups for feedback on updated URL/redirects üòÉ


[23-Jul-18 12:16 AM] tolken#2655
@Mylo thanks. For what it‚Äôs worth that MacOS guide doesn‚Äôt seem to work anymore as far as I can tell. I have completely reinstalled MacOS twice and always results in errors above. Hopefully someone knowledgeable can revisit because it seems incomplete and or wrong. Using MacOS 10.13.6


[23-Jul-18 07:43 AM] Mylo#8306
hmmmmm ok i'll pass on the comment to qa/testing guys


[23-Jul-18 07:43 AM] Mylo#8306
thanks @tolken


[23-Jul-18 07:43 AM] Mylo#8306
or mention them here üòÉ @SHossain üëÜ


[23-Jul-18 07:46 AM] SHossain#0007
we changed repo and few other things with the documentation, it may be bit honky for now. this link works https://docs.komodoplatform.com//barterDEX/install-barterDEX-CLI.html


[23-Jul-18 07:47 AM] SHossain#0007
@tolken which guide you have been following? please post the link


[23-Jul-18 08:10 AM] SHossain#0007
@Mylo @tolken i have just tested on macOS and it is working fine on my end
1. i tested compiling static mm binary
2. tested BarterDEX CLI  guide using `./client_osx`
no issue whatsoever


[23-Jul-18 08:10 AM] Mylo#8306
thanks mate


[23-Jul-18 08:11 AM] SHossain#0007
used macOS 10.13.5


[23-Jul-18 08:12 AM] tolken#2655
Was it a fresh Mac install did it have BarterDex on it before?


[23-Jul-18 08:12 AM] SHossain#0007
i used fresh clone


[23-Jul-18 08:12 AM] SHossain#0007
not fresh mac


[23-Jul-18 08:12 AM] Mylo#8306
i have not got `brew` installed i'll try it.


[23-Jul-18 08:13 AM] tolken#2655
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Installing-and-Using-Komodo-Platform-(barterDEX)

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Installing-and-Using-Komodo-Platform-(barterDEX)
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[23-Jul-18 08:13 AM] SHossain#0007
yes, no issue using that ^^


[23-Jul-18 08:13 AM] SHossain#0007
which branch you are using


[23-Jul-18 08:13 AM] SHossain#0007
?


[23-Jul-18 08:14 AM] tolken#2655
ahh maybe thats whats going on - I don't think I ever used the client_osx one in the past


[23-Jul-18 08:14 AM] tolken#2655
didn't work for some reason in the past


[23-Jul-18 08:14 AM] SHossain#0007
if you don't use `./client_osx` it will never work on macOS


[23-Jul-18 08:14 AM] tolken#2655
and yet it appeared to O_O


[23-Jul-18 08:18 AM] tolken#2655
@SHossain I have been using client for months, have done many trades with it


[23-Jul-18 08:18 AM] tolken#2655
bob and alice


[23-Jul-18 08:21 AM] tolken#2655
As a matter of fact I would have swore someone said don't use it.


[23-Jul-18 08:21 AM] tolken#2655
guide above doesn't specify either way for what its worth


[23-Jul-18 08:29 AM] SHossain#0007
on macOS?


[23-Jul-18 08:29 AM] SHossain#0007
the API summary doc has description for all scripts


[23-Jul-18 08:31 AM] tolken#2655
yep, on macOS - I just looked at my old backup of the scripts I was using. Definitely was running with client rather than client_osx. Unsure what changed.


[23-Jul-18 08:34 AM] SHossain#0007
afaik, there are difference between `client` & `client_osx`
```
$ cat client
#!/bin/bash
source passphrase
source coins
./stop
git pull;
cp ../exchanges/updateprices .;./updateprices
cd ..; 
./m_mm;
pkill -15 marketmaker; 
stdbuf -oL $1 ./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &
```
```
$ cat client_osx
#!/bin/bash
source passphrase
source coins
pkill -15 marketmaker; 
git pull;
cd ..; 
./m_mm;
./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}/Library/Application\ Support\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &
```


[23-Jul-18 08:36 AM] SHossain#0007
when i run `client` in my mac it outputs error with `stdbuf` not found


[23-Jul-18 08:38 AM] tolken#2655
yes thats what I get now, but apparently I had what was necessary (for whatever reason) for that to work at one point.


[23-Jul-18 09:48 AM] tolken#2655
@Mylo @Alright  I‚Äôm not sure who keeps these docs updated, but for whoever may be concerned may I request that they make two changes? 1. ‚Äúsudo apt-get...‚Äù that whole bit should be under the Linux heading. 2. Since we‚Äôre describing two install types, Linux and MacOS, it should distinguish between client and client_osx.

{Reactions}
üëå 

[23-Jul-18 09:53 AM] Mylo#8306
ack!  ok will revisit


[23-Jul-18 01:44 PM] tolken#2655
Thanks Mylo!! üòÉ


[26-Jul-18 07:34 AM] tolken#2655
I have a new setup in macOS, running with client_osx this time. Interestingly I seem to have LTC, BTC and BCH running and showing balances etc within bdex, but not KMD. I did notice that the expectation of where these config files reside changed. I changed the path of my config files accordingly, which helped bch/ltc/btc, but not kmd. The path (the path bdex says its expecting) seems odd/redundant. For example: ```/Users/tolken/Library/Application Support/Library/Application Support/Komodo/komodo.conf``` This path isn't the path Agama is using though. Will this cause issues like the one I'm experiencing? To be clear - Bdex finds the path to the Komodo.conf when I place it there, but it won't show any balance (which I know it has)


[26-Jul-18 08:56 AM] tolken#2655
The two Komodo.conf files are identical (copied from Agama‚Äôs Komodo for to the dir BarterDex expects. @SHossain


[26-Jul-18 03:05 PM] Lezlaig#5952
Hi @cipi. I was told you were the person to speak to about an update for a client that Komodo supports. Enforcement being switched on tomorrow and I haven't yet managed to get confirmation from support that Komodo will be on the right chain. Any help appreciated! üôÇ


[26-Jul-18 03:06 PM] Lezlaig#5952
I have realised that this was in the wrong channel, sorry! üòä


[26-Jul-18 03:09 PM] cipi#4502
No problem. Which coin are we talking about?


[26-Jul-18 03:14 PM] Lezlaig#5952
Hey, thanks! Crown (CRW). Client has updated to version 0.12.5 with enforcement switching on tomorrow. https://medium.com/crownplatform/crown-core-v0-12-5-release-notes-211b83659188

{Embed}
https://medium.com/crownplatform/crown-core-v0-12-5-release-notes-211b83659188
Crown Core v0.12.5 Release Notes ‚Äì Crown Platform ‚Äì Medium
The Crown development team is excited to announce the release of Crown Core version 0.12.5.0! The new wallet is now available from:
https://images-ext-2.discordapp.net/external/8OzY7ANfi7SQO4dbUUGTLveZiaY0Z60P6TtXtExjsHA/https/cdn-images-1.medium.com/max/1200/1%2Ab_gftx_CzzGM1NstLIsPNg.jpeg


[26-Jul-18 03:15 PM] cipi#4502
No problem, i updated the CRW wallet on my LPs some time ago. 
```    "version" : 120500,
    "protocolversion" : 70053,```


[26-Jul-18 03:18 PM] Lezlaig#5952
That's brilliant. Thanks cipi! I'm glad I was sent in your direction! üòÄ

{Reactions}
üôå 

[26-Jul-18 06:28 PM] tolken#2655
Anyone have any idea?


[26-Jul-18 08:10 PM] Mylo#8306
i'm not a support person, but is agama running native mode for kmd?


[26-Jul-18 09:32 PM] tolken#2655
Yes, all native. Thanks Mylo


[26-Jul-18 09:53 PM] tolken#2655
```<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.validateaddress
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.validateaddress
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.getinfo
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.validateaddress
<<<<<<<<<<< A bitcoind_RPC: KMD post_process_bitcoind_RPC.listunspent
``` Getting getinfo and validate address repeatedly in cli output. Haven't ever seen it flood the output with that so often.


[27-Jul-18 03:12 AM] jl777c#5810
maybe .conf file is not found?


[27-Jul-18 03:12 AM] jl777c#5810
coin.conf


[27-Jul-18 06:24 AM] tolken#2655
Wouldn‚Äôt be surprised. I‚Äôd like to understand why marketmaker is looking for config paths in such an odd place as mentioned above. That‚Äôs probably part of the issue. I am putting the config file right wherein bdex is asking for it to be. Is there a way to force bdex to look at where the Agama install puts it?


[27-Jul-18 06:27 AM] jl777c#5810
the GUI should pass in the coins JSON with any custom dirs


[27-Jul-18 07:10 AM] tolken#2655
The coins.json (maybe I‚Äôm mistaken) seems to have all coins kmd. I‚Äôll look again though. I assumed kmd was handled/defines somewhere else for some reason. I‚Äôll search again, maybe I‚Äôm not using right string.


[28-Jul-18 02:18 AM] tolken#2655
@SHossain. @Nabob | $ARRR  I have reinstalled MacOS three times in a row now and I get the same results where then paths seem out of the ordinary. The guide explains that you have to install brew and to google how. Easy enough, I run the basic brew install and then running client_Osx complains about not having cmake. So I install using ‚Äúbrew install cmake‚Äù and then client_osx starts.


[28-Jul-18 02:20 AM] tolken#2655
```/Users/tolken/Library/Application Support/Library/Application Support/Komodo/komodo.conf```


[28-Jul-18 02:20 AM] tolken#2655
@Nabob | $ARRR said this path doesn‚Äôt look right, but that‚Äôs what bdex says every time I start it.


[28-Jul-18 02:20 AM] SHossain#0007
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Step-by-Step-Setup-Guide-for-ETH-(ERC20)-Token-Swap-Using-barterDEX#macos

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Step-by-Step-Setup-Guide-for-ETH-(ERC20)-Token-Swap-Using-barterDEX
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[28-Jul-18 02:20 AM] SHossain#0007
follow this ^^ guide


[28-Jul-18 02:21 AM] tolken#2655
Got it, I‚Äôll try this one. Thank you @SHossain  !


[28-Jul-18 02:51 AM] tolken#2655
So weird. Followed that guide same result. I guess ill erase the os yet again. This is 3rd or 4th os reinstall.


[28-Jul-18 02:53 AM] tolken#2655
Id appreciate of someone using macos could confirm that path above is valid or not, doesn‚Äôt seem right to me.  I‚Äôm literally doing nothing but installing using the guide, installing bdex and Agama.


[28-Jul-18 02:55 AM] Nabob | $ARRR#5004
@tolken  Above link shossain shared works fine. You need to make sure of client script

```#!/bin/bash
source passphrase
source coins
./stop
#git pull;
cd ..; 
#./m_mm;
pkill -15 marketmaker; 
./marketmaker "{\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\", \"coins\":$coins}" &```


[28-Jul-18 03:05 AM] tolken#2655
@Nabob | $ARRR you‚Äôre testing macos?


[28-Jul-18 03:07 AM] tolken#2655
Ahh, you removed library/application support?


[28-Jul-18 03:12 AM] tolken#2655
alright path looks good now.


[28-Jul-18 03:25 AM] tolken#2655
still no go. More tomorrow. Thanks again for your help!


[28-Jul-18 08:04 AM] tolken#2655
Ok, got something working @Nabob | $ARRR and @SHossain Instead of launching Agama to get kmd runnig, I found where agamas komodod resides and passed it (komodod) the exact path to the Komodo.conf  and that worked. I don‚Äôt know what has changed but I used to be able to just install Agama and have bdex find that komodod automatically.


[28-Jul-18 09:02 AM] tolken#2655
Is there any reason the client_osx has that redundant path? Shouldn‚Äôt that be removed?


[28-Jul-18 03:00 PM] tolken#2655
Yay, just initiated my first Alice ltc/kmd trade since getting this stuff all back up and running.


[28-Jul-18 03:02 PM] tolken#2655
That not working anymore on my previous setup is what provoked me to start from scratch. Glad I have that etomic marketmaker now too, been hoping to get some erc-20 going.


[28-Jul-18 05:58 PM] tolken#2655
btc, bch, ltc, kmd bobs all appear to be back online.

{Reactions}
üëç (2) 

[28-Jul-18 06:08 PM] ph03nix#3115
can someone from the team please move this channel to the technology section


[28-Jul-18 06:09 PM] ph03nix#3115
also, when #jumblr :trollface:


[28-Jul-18 09:24 PM] ph03nix#3115
when #dPoW


[28-Jul-18 10:49 PM] tolken#2655
@ph03nix agreed that seems more appropriate location

{Reactions}
üëç 

[28-Jul-18 11:48 PM] Cryptoon#3362
@Audo


[29-Jul-18 12:57 AM] Audo#5667
moved. Not sure why it was not there in the first place

{Reactions}
üôå (2) 

[29-Jul-18 05:13 AM] ComputerGenie#2331
iirc, "ecosystem (3rd party)" was originally just "ecosystem", so it was right *at that time*  and just never moved when the label changed


[29-Jul-18 12:01 PM] tolken#2655
So beautiful, working alice AND several bob trades overnight. Feel like I finally have a solid grasp of what was wrong. Now I can get back to real work üòõ


[29-Jul-18 12:02 PM] tolken#2655
Kmd/btc bob trades too üòÉ


[29-Jul-18 01:36 PM] Cryptoon#3362
Nice!


[29-Jul-18 01:36 PM] Cryptoon#3362
Using a special node or just from your computer?


[29-Jul-18 01:36 PM] Cryptoon#3362
@tolken


[29-Jul-18 01:37 PM] tolken#2655
From a local server


[29-Jul-18 01:38 PM] tolken#2655
Not a vps


[01-Aug-18 08:44 AM] Biomech#5602
I'm not sure this is the right channel. If not, please point me where I should be üòÑ However.. I was wondering if there is or will be an electrum server for Tether (USDT) within Barterdex? I get the message "No Electrum Servers found for USDT. Please use Native mode for USDT".


[01-Aug-18 08:45 AM] Biomech#5602
Had the same error with a couple others, restarting BDEX fixed that. But this one is persistent, so I'm inclined to think it's real.


[01-Aug-18 09:00 AM] cipi#4502
USDT is just a ERC20-token, not a coin, so you don't need electrum, just select "native"


[01-Aug-18 09:03 AM] Biomech#5602
Ok. I thought it was not ERC20, but I knew it was a token of some sort üòÑ Thanks.


[02-Aug-18 04:13 AM] Cryptoon#3362
USDT and True USD are different things though?


[02-Aug-18 04:20 AM] KomodoWorld#8282
yes they're from different companies, TrueUsd is better audited


[02-Aug-18 12:03 PM] cipi#4502
and there is DAI: https://coinmarketcap.com/currencies/dai/

{Embed}
https://coinmarketcap.com/currencies/dai/
Dai (DAI) price, charts, market cap, and other metrics | CoinMarketCap
Get Dai price, charts, and other cryptocurrency info
https://images-ext-2.discordapp.net/external/GRLLkyjLHRDiARZhtiPbWYcK1Uqew4IfCbxguu5PZX0/https/s2.coinmarketcap.com/static/img/coins/200x200/2308.png


[03-Aug-18 06:20 PM] Biomech#5602
Got a question, once again üòÑ I'm trying to add ROIcoin in Native, I have the wallet all synched up, get no errors in Barterdex, but it's not showing my balance. Is there a step I'm missing?


[03-Aug-18 06:52 PM] Deleted User#0000
Yes


[03-Aug-18 06:52 PM] Deleted User#0000
Restart the deamon with -rescan


[03-Aug-18 06:52 PM] Deleted User#0000
Then open barterdex again


[03-Aug-18 07:43 PM] Biomech#5602
Thanks, Will give it a shot, though I had just downloaded the blockchain. Still, worth a shot üòÑ


[03-Aug-18 07:46 PM] tolken#2655
My bdex has been humming along fairly well this   Past week. Getting a couple kmd/bch trades per day. Kinda surprised there aren‚Äôt more.


[03-Aug-18 07:47 PM] Biomech#5602
As difficult and twitchy as Bdex is in it's current state, I'm not.


[03-Aug-18 07:47 PM] Biomech#5602
It has a long way to go.


[03-Aug-18 07:48 PM] Biomech#5602
That came out way more critical than I intended üòÑ I'm in favor of this project. Just a bit frustrated with its current state.


[03-Aug-18 07:53 PM] Biomech#5602
@Deleted User, it's still not picking it up. showing zero balance. Is there anything I need to put in the .conf for the coin other than the usual rpcuser/pass?


[03-Aug-18 07:53 PM] Biomech#5602
Or is there a conf file for Bdex?


[03-Aug-18 08:06 PM] tolken#2655
@Biomech does the conf path of ROIcoin match where bdex is looking?


[03-Aug-18 08:07 PM] Biomech#5602
I don't know how to tell.


[03-Aug-18 08:09 PM] tolken#2655
@Biomech search the log when you start bdex for roicoin, there‚Äôs a portion of the init where you‚Äôll see a lot of ‚Äúcould not find <someCoin>.conf‚Äù see if roicoin is in that log and if so make sure your daemon is pointing to that same location.


[03-Aug-18 08:31 PM] Biomech#5602
Ok, thanks. I'll give it a shot. Unfortunately out of time for it right now, but at least you gave me good pointers üòÑ


[03-Aug-18 08:50 PM] tolken#2655
I let me know how it goes, I‚Äôll try and help where I can üòâ


[04-Aug-18 02:37 AM] Cryptoon#3362
Who is swapping BTCH for 103,8 btch/kmd? üòÑ


[04-Aug-18 03:05 AM] CHMEX#0686
145.4 USD / BTCH
3 bil mcap nice


[04-Aug-18 03:13 AM] Cryptoon#3362
Right? üòÑ


[04-Aug-18 03:45 AM] CHMEX#0686
Yes maybe some fat fingers


[04-Aug-18 01:12 PM] tolken#2655
I make irrational trades on bdex all the time. Don‚Äôt hate me.


[05-Aug-18 02:55 AM] Cryptoon#3362
üòÇ


[07-Aug-18 07:24 PM] tolken#2655
Is dexstats.info correct? Only 3 swaps in 24h period?


[07-Aug-18 07:25 PM] tolken#2655
I think it said only 15 swaps yesterday.


[07-Aug-18 07:58 PM] CHMEX#0686
@tolken I did check the stats readers and yes it looks up and running that dgb/kmd was me.


[07-Aug-18 08:14 PM] tolken#2655
damn, surprised such low volume.  My bobs seem happy.


[08-Aug-18 08:50 PM] tolken#2655
Would love to see a version of Bdex in the future that matches trades via email or direct message. For exchange between known parties. So two people, without the ambiguities of p2p order matching, could easily do an OTC atomic swap.


[08-Aug-18 08:58 PM] grewalsatinder#9653
Possible


[08-Aug-18 09:00 PM] grewalsatinder#9653
Has to be another app


[08-Aug-18 09:00 PM] grewalsatinder#9653
Or service


[08-Aug-18 09:09 PM] tolken#2655
Maybe a consideration for mm2.0 ? Could be a useful mode.


[08-Aug-18 09:17 PM] Deleted User#0000
There is a bounty of 25,000 KMD for the creation of such an app.


[08-Aug-18 09:17 PM] Deleted User#0000
Its possible with MM1 and I was going to create a PoC for this, but after reading the work by the artems on MM2 document... I think its probably best to work with them on adding functionality to  MM2 instead.


[08-Aug-18 09:18 PM] Deleted User#0000
the amount of work required to work around the limitations of MM1, is quite large and expensive.


[08-Aug-18 10:19 PM] tolken#2655
That‚Äôs a sexy bounty. Seems like a natural extension to mm.


[08-Aug-18 10:23 PM] tolken#2655
Just saw some guy in telegram volunteering to be escrow for two people that wanted to exchange cryptos. Hah


[08-Aug-18 10:24 PM] tolken#2655
Your days are numbered, pal.


[13-Aug-18 02:58 AM] CrisF#3405
Thanks for all your patience and help @ComputerGenie @tolken @Deleted User  a few weeks back üëÜ  with setting up the bob.
I managed to get one working thanks to your help before things got a bit crazy.
Back at it now!

{Reactions}
üëç 

[13-Aug-18 02:59 AM] CrisF#3405
A lot of catching up to do by the looks of it...


[13-Aug-18 03:00 AM] Deleted User#0000
No a huge amount changed with marketmaker üòÉ


[13-Aug-18 03:06 AM] CrisF#3405
Cool.  I've been working on getting through pos64.  Quite a bit  even from the start of August!!


[13-Aug-18 03:07 AM] CrisF#3405
You've been busy @Deleted User  üòÉ


[13-Aug-18 03:07 AM] Deleted User#0000
yes, still havent got enough done lol


[13-Aug-18 03:08 AM] Deleted User#0000
POStest is about to start a new thing, check the channel for Alrights post if you keen to join in. I think it starts tomorrow


[13-Aug-18 03:25 AM] CrisF#3405
Haha, need more hours in a day...


[13-Aug-18 03:26 AM] CrisF#3405
Yeah, I saw that.  I missed everything from before.  Will read up and figure out what I should be doing.


[13-Aug-18 03:27 AM] CrisF#3405
Looks interesting.


[13-Aug-18 08:44 AM] tolken#2655
POS = proof of Scaling or something else?


[13-Aug-18 08:51 AM] xRobeSx#5136
Proof of Stake


[13-Aug-18 08:54 AM] tolken#2655
@CrisF excellent to hear Cris! Let‚Äôs get bdex boomin with activity üòÉ


[13-Aug-18 08:55 AM] tolken#2655
My stuff is working reasonably well, but struggling to get eth trades to go through.


[13-Aug-18 08:55 AM] tolken#2655
Btc, bch, KMD, ltc all reading fairly reliably, Alice or bob side.


[13-Aug-18 09:42 AM] CrisF#3405
Yeah!


[13-Aug-18 09:43 AM] CrisF#3405
Glad to hear you're up and running well.


[13-Aug-18 09:43 AM] CrisF#3405
I haven't tried eth yet.


[13-Aug-18 09:43 AM] CrisF#3405
It's on the list though.


[13-Aug-18 10:49 PM] Mylo#8306
I'm testing out some marketmaker docs.
So far so good except my bobs are showing up on barterdex with no UTXO to trade in the barterdexGUI.

I've imported privkey with a label "smartaddress" to make thing easier
```
digibyte-cli importprivkey <theprivkey> "smartaddresslabel‚Äù false
```

I've sent some DGB to the smart address
My UTXO
```
$ digibyte-cli listunspent | jq '.[] | select(.label=="smartaddress")'
{
  "txid": "719b8a1cdefe9cac70fd9ef7999e851ebc4fb93554fb822f163147f77075db16",
  "vout": 0,
  "address": "DMqzVS4bJyRjuL3abinPVMGPsMvjakigw6",
  "label": "smartaddress",
  "scriptPubKey": "76a914b73e048bec7ba56afc17dc080696fa311f997fe988ac",
  "amount": 74.99977314,
  "confirmations": 106,
  "spendable": true,
  "solvable": true,
  "safe": true
}
{
  "txid": "034ed43690d2c8dafb43a2eb46aa28b498d58aa61cfd9b93a4c8fab32d757d1a",
  "vout": 0,
  "address": "DMqzVS4bJyRjuL3abinPVMGPsMvjakigw6",
  "label": "smartaddress",
  "scriptPubKey": "76a914b73e048bec7ba56afc17dc080696fa311f997fe988ac",
  "amount": 84.99977317,
  "confirmations": 104,
  "spendable": true,
  "solvable": true,
  "safe": true
}
{
  "txid": "c826d687fda20bc57f5d7f606abfb6fd92eee85e5853f513c2a6ba1cf853f09b",
  "vout": 0,
  "address": "DMqzVS4bJyRjuL3abinPVMGPsMvjakigw6",
  "label": "smartaddress",
  "scriptPubKey": "76a914b73e048bec7ba56afc17dc080696fa311f997fe988ac",
  "amount": 97.001,
  "confirmations": 31,
  "spendable": true,
  "solvable": true,
  "safe": true
}

```
Starting marketmaker, running ./setpassphrase and then enabling DGB

```
$ ./dgb_enable | jq '.'
[
  {
    "coin": "DGB",
    "installed": true,
    "height": 7133178,
    "balance": 257.00054631,
    "KMDvalue": 5.99239178,
    "status": "active",
    "smartaddress": "DMqzVS4bJyRjuL3abinPVMGPsMvjakigw6",
    "rpc": "127.0.0.1:14022",
    "pubtype": 30,
    "p2shtype": 5,
    "wiftype": 128,
    "txfee": 100000
  }
]

```


[13-Aug-18 10:49 PM] Mylo#8306
Then setting autoprice with one of the default scripts to get going
```
$ cat dgb_auto_kmd 
#!/bin/bash
source userpass
curl -s --url "http://127.0.0.1:7783" --data "{\"minprice\":0.02,\"maxprice\":0.4,\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"DGB\",\"rel\":\"KMD\",\"margin\":0.05,\"refbase\":\"digibyte\",\"refrel\":\"coinmarketcap\"}"


$ ./dgb_auto_kmd | jq '.'
{
  "result": "success"
}
```


[13-Aug-18 11:03 PM] Mylo#8306

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/478805736416215042/Screen_Shot_2018-08-14_at_4.02.49_pm.png


[13-Aug-18 11:04 PM] Mylo#8306
"max UTXO size" is 0, should it have a number?  like my max UTXO size from `listunspent`?


[13-Aug-18 11:15 PM] tolken#2655
@Mylo sure that‚Äôs your bob? The screenshot address isn‚Äôt the one you‚Äôre mentioning above.


[13-Aug-18 11:42 PM] Mylo#8306
Yes +ve.  `DMqzVS4bJyRjuL3abinPVMGPsMvjakigw6` is mentioned above.  Screenshot pop up matches - which is the highlighted black table row in sellers.  Clicking the "i" for info gets the pop up showing the same address.

The address on my BarterDEX GUI on the left is the Alice on my laptop.  @tolken 
Thanks for checking üòÉ


[14-Aug-18 01:41 AM] Deleted User#0000
You cant import privkey like that


[14-Aug-18 01:42 AM] Deleted User#0000
Restart DGB with -rescan without closing the marketmaker


[14-Aug-18 01:42 AM] Deleted User#0000
marketmaker will only do `importaddress` I am 99% sure, and will only check UTXO's ont he watch only address


[14-Aug-18 01:43 AM] Deleted User#0000
I have seen this behaviour a heap fo times. Either send the balance yourself or rescan the blockchain.


[14-Aug-18 01:43 AM] Deleted User#0000
@Mylo


[14-Aug-18 01:43 AM] Deleted User#0000
If you do the balance -> self option, make sure you keep marketmaker open, and it will "see" the utxos


[14-Aug-18 01:44 AM] Deleted User#0000
If you try a withdraw it will show something like "selected 0 fof 3 utxo" 
But fter you send the balance with the deamon, it will be able to select the UTXO.


[14-Aug-18 01:45 AM] Mylo#8306
ok thx mate, this is on bob side.  i'll rescan and and go feed myself!


[14-Aug-18 01:47 AM] Deleted User#0000
rescan OR send balance


[14-Aug-18 01:47 AM] Deleted User#0000
either will work


[14-Aug-18 01:47 AM] Deleted User#0000
this will be on any side in native


[14-Aug-18 01:47 AM] Mylo#8306
```importaddress.(DGB DMqzVS4bJyRjuL3abinPVMGPsMvjakigw6) -> ({"result":null,"error":{"code":-4,"message":"The wallet already contains the private key for this address or script"},"id":"jl777"}
``` good to know.  maybe sending balance to self with a 15s block time DGB has would have been quicker.


[14-Aug-18 01:47 AM] Deleted User#0000
If you send balance while marketmaker is running, its 99% of the time perfectly fine in seeing the utxos


[14-Aug-18 01:48 AM] Deleted User#0000
if they are already in the "wallet" it cant find them


[14-Aug-18 01:48 AM] Mylo#8306
hmmmm...ok v.handy


[14-Aug-18 01:48 AM] Deleted User#0000
no worries, its by design, if it didnt work like that it would ahve to rescan the whole blockchian on marketmakre load, that would suck lol.


[14-Aug-18 01:49 AM] Mylo#8306
yep makes sense.


[14-Aug-18 01:49 AM] Mylo#8306
good one for the rule book üòÉ


[14-Aug-18 01:49 AM] Deleted User#0000
easiest work around is to not have the privkey in the wallet, then send after marketmaker is alreay running


[14-Aug-18 01:49 AM] Deleted User#0000
from another address


[14-Aug-18 01:51 AM] Mylo#8306
üôè


[14-Aug-18 12:05 PM] tolken#2655
@Mylo sorry for misunderstanding Mylo


[15-Aug-18 01:35 PM] tolken#2655
I believe getprices api is this just an aggregate of P2P broadcasting prices that bdex collects, is that right? This might vary significant from CMC correct?  I‚Äôm trying to price my trades in btc, pairs that aren‚Äôt directly priced in btc like ltc/kmd. I‚Äôm leaning toward estimating the btc value of each using an external source like an exchange rather than bdex getprices. Does that seem like an ideal choice?


[15-Aug-18 01:37 PM] jl777c#5810
getprices is what your node has seen most recently, no assurance it is anything like CMC


[15-Aug-18 01:38 PM] jl777c#5810
cipi has a setup where he gets prices from external sources


[15-Aug-18 01:38 PM] tolken#2655
The slight concern is that for a 20min atomic swap (or longer) the price may drift more than I‚Äôd like, so I may have to grab the price from cex right at the start of an attempted trade.


[15-Aug-18 01:38 PM] jl777c#5810
yes, best to do it as soon as you see alicepayment


[15-Aug-18 01:39 PM] tolken#2655
I‚Äôm pulling prices from external sources as well, bittrex and binance presently


[15-Aug-18 01:39 PM] jl777c#5810
then you know it is a matter of confirms before the trade completes


[15-Aug-18 01:39 PM] jl777c#5810
so a perfect time to issue the balancing trade to binance


[15-Aug-18 01:39 PM] tolken#2655
good call, I‚Äôll do that. That has been my trigger for everything,


[15-Aug-18 01:39 PM] jl777c#5810
in the even the price moves more than 12.5%, you can just not send the bobpayment


[15-Aug-18 01:40 PM] jl777c#5810
it isnt much consolation, but having a 12.5% worst case is better than a 12.6% worst case


[15-Aug-18 01:41 PM] tolken#2655
I figure this slippage will average out most of the time, so not too worried about it, but that‚Äôs an interesting idea.


[15-Aug-18 01:42 PM] tolken#2655
Adjusting pricing based on volatility might not be a bad idea either.


[15-Aug-18 01:43 PM] tolken#2655
I learned how to query native chains locally to confirm bob/Alice payments. That‚Äôs handy.


[20-Aug-18 12:57 AM] Andersen#8337
To increase MM liquidity, is it possible to connect a third-party exchange service, for example ?  https://twitter.com/ShapeShift_io/status/1031445735353602048

{Embed}
ShapeShift.io (@ShapeShift_io)
https://twitter.com/ShapeShift_io/status/1031445735353602048
ü¶äüíª The ShapeShift API gives developers a multitude of ways to integrate our services into wallets & websites. Learn more here: https://t.co/hg3sua95uw
https://images-ext-2.discordapp.net/external/wvQmayot7_myJ0ibXxEqaFOT-r6V7POVzjLIe6rRb7Y/https/pbs.twimg.com/media/DlBubhVXgAAxhr-.jpg%3Alarge
Twitter


[20-Aug-18 01:13 AM] CHMEX#0686
not sure if that is what you mean. But you can trade on BarterDEX and inverse the trades on a CEX interacting with their API.
lets say:
you Sell on BarterDEX 10KMD for 0.1 LTC
on a CEX at the same time you Buy 0.1 LTC for 9 KMD
1KMD is your profit


[20-Aug-18 01:34 AM] KomodoWorld#8282
this arbritrage with CEX, is there an app to do automatically it?


[20-Aug-18 01:34 AM] KomodoWorld#8282
I remember something like this had been proposed months ago, not sure if anyone has been working on it


[20-Aug-18 01:36 AM] jl777c#5810
cipi is working on this


[20-Aug-18 01:38 AM] KomodoWorld#8282
thanks


[20-Aug-18 02:09 PM] tolken#2655
@KomodoWorld already doing this now actually. Not many Alice‚Äôs biting though and I run at virtually no margin.


[20-Aug-18 09:28 PM] CrisF#3405
üòÄ


[22-Aug-18 12:59 AM] CrisF#3405
Hi, I've seen `trex (and  cryptopia) error getting marketsummaries` errors when my connection on autoprice drops.
I'm wondering if I can use those markets in my autoprice scrip instead of `CMC`.  Does anyone do this if it can be done?
(eg. `"refrel\":\"coinmarketcap\"` replaced with `"refrel\":\"trex\"`) ?


[22-Aug-18 03:21 AM] cipi#4502
`curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"autoprice\",\"base\":\"KMD\",\"rel\":\"BTC\",\"margin\":0.03}"` is doing exactly that... it tries Bittrex and then Cryptopia


[22-Aug-18 04:24 AM] CrisF#3405
Thanks, @cipi !  So `"refrel\":\"coinmarketcap\"` isn't needed?


[22-Aug-18 04:27 AM] cipi#4502
no, only if you want to use cmc


[22-Aug-18 04:31 AM] CrisF#3405
If I wanted to use prices from just one exchange (eg. Bittrex) and not use cryptopia etc, could I use ```"refrel\":\"trex\"```?


[22-Aug-18 04:31 AM] cipi#4502
no, afaik mm tries Bittrex and if the coin is not listed there, it uses Cryptopia


[22-Aug-18 04:35 AM] CrisF#3405
Cool. Thanks for your help!


[24-Aug-18 06:55 AM] grewalsatinder#9653
https://twitter.com/satindergrewal/status/1032989347379785729

{Embed}
Satinder Grewal (@satindergrewal)
https://twitter.com/satindergrewal/status/1032989347379785729
#jl777 has started writing document which will help new devs get started with @KomodoPlatform #CryptoConditions based #SmartContracts 
It is exiting! The guide/docs coming directly from the $KMD core dev with examples and walkthroughs with FAQs!!!üòÉ
https://images-ext-1.discordapp.net/external/9o3STCXYeVxab2wxSmKdFkhmJdehc9Rzqs0pxAOU6hg/https/pbs.twimg.com/media/DlXpxBGU8AANoJe.jpg%3Alarge
Twitter

{Reactions}
üëç (3) 

[02-Sep-18 12:09 PM] namhoang28#4328
Hey guys,
I am rewriting the dicoapp with React, Redux and Webpack. You can view the source here: https://github.com/particle4dev/dicoapp-e. 
The application need to displayed transactions when it start. I realized that it was quite slow and make poor user experience.
Is there any param I can set to speed up marketmaker app? (using cache .v.v.). I can cache transactions in application level but just wonder.


[02-Sep-18 12:10 PM] jl777c#5810
DB/SWAPS folder has all the pending swaps


[02-Sep-18 12:10 PM] jl777c#5810
you do need to do some app side caching


[02-Sep-18 12:12 PM] namhoang28#4328
@jl777c uhm, thank you!


[02-Sep-18 12:12 PM] jl777c#5810
dont call swapstatus without requestid/quoteid, as that will take quite a long time

{Reactions}
üëç 

[02-Sep-18 12:13 PM] jl777c#5810
one way is to use recentswaps to get list of recent swaps


[02-Sep-18 12:13 PM] jl777c#5810
and swapstatus(requestid,quoteid) for those swaps that are still in progress


[07-Sep-18 04:40 AM] luke#8628
Hello! I am reading through the BarterDex api docs (https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category#buy) and under the "buy" method it says that "If a match is not found, a bid order will be added in the orderbook". However, when I issue a buy order that doesn't have a match, nothing is added to the orderbook. I can see the buy order being broadcast to the network, and then it times out with a "time expired for Alice_request". Whereas if I run "setprice" instead, I can immediately see the ask/bid in the orderbook. Is this misdocumented, or am I missing something? maybe I need to add some parameter to the buy order to get it added to the orderbook and stay there for a certain duration?

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-API-Summary-by-Category
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[07-Sep-18 05:39 AM] tolken#2655
@luke  I could be mistaken, but that sounds like an error in the documentation to me. Afaik, if you buy and nothing happens, the Alice request expires. The GTC flag will cause BarterDex to repeatedly try and ‚Äúbuy‚Äù periodically until you stop it. To set a price, I believe you‚Äôre making a Bob configuration where your request is broadcast to the orderbooks then passively awaits Alice requests.


[07-Sep-18 05:43 AM] luke#8628
@tolken  yes, that lines up with what I have experienced as well. thanks! I'm not familiar with the GTC flag. Is the GTC flag a UI flag in the BarterDex app, or is that a flag that can be set in the RPC data directly?


[07-Sep-18 12:08 PM] cipi#4502
GTC is in the GUI... best way to do orderbook-entries is `autoprice` though


[07-Sep-18 03:17 PM] c2k#4915
speaking of GTC, if i put a gtc order in barterdex do i have to leave the application open or can i close it?


[07-Sep-18 03:22 PM] cipi#4502
application must always be open, else no swap is possible... the txs must be signed when the swap happens and that is only possible as long as the application is running


[07-Sep-18 03:23 PM] cipi#4502
i would do the following: get a VPS, install marketmaker, set your desired autoprices and let it run forever üòÉ


[07-Sep-18 03:26 PM] c2k#4915
ok ty


[07-Sep-18 04:10 PM] c2k#4915
can anyone see if there have been any KMD/EQL trades on bdex or hdex lately and at what price?


[08-Sep-18 09:49 AM] Cryptoon#3362
You can see eql/btc on exrates.me


[08-Sep-18 09:49 AM] Cryptoon#3362
Its very cheap...


[09-Sep-18 02:42 PM] jspook16#3059
can hyperdex and barterdex no longer run simultaneously on the same machine?


[09-Sep-18 05:50 PM] Deleted User#0000
No they cant


[10-Sep-18 07:01 PM] jspook16#3059
i used to be able to do this in previous versions... is that because they were using different versions of marketmaker?


[10-Sep-18 08:19 PM] Tylor zkFS#8280
you can run 2 guis on same MM - but they most likely it would break - it has worked in the past for Devs- only briefly for testeing - you will need 1 MM for each GUI and probably 1 seed for each. from same IP address.


[10-Sep-18 08:20 PM] Tylor zkFS#8280
im only half right


[10-Sep-18 08:22 PM] Tylor zkFS#8280
MM is MM you can access is through command line or GUI - im guessing the dexes are branching /forking or not updated to same MM


[13-Sep-18 12:32 AM] namhoang28#4328
Hi
I tried to make a swap on barterDEX today but it always timeout. Here is the result of `recentswaps` api:‚Ä®```
{
    "result": "success",
    "swaps": [...],
    "netamounts": [...],
    "pending": {
        "expiration": 1536823121,
        "timeleft": 29,
        "tradeid": 991587069,
        "requestid": 0,
        "quoteid": 0,
        "bob": "COQUI",
        "base": "COQUI",
        "basevalue": 11.11135783,
        "alice": "BEER",
        "rel": "BEER",
        "relvalue": 23.88010012,
        "desthash": "c88a033b587244cd501e90709620c3ec58d9c3886e33c2e1db909d0451aa5833",
        "aliceid": "11469275510081323009"
    }
}
```
and after 60 seconds, there is empty in pending field and no swap is processing. Does anyone have an idea of what it happened and how to fix?


[13-Sep-18 12:38 AM] CrisF#3405
@namhoang28  Hi, I'm not sure. If you don't get an answer here soon you may find help in th #dev-tradebots channel.


[13-Sep-18 12:41 AM] namhoang28#4328
@CrisF  thanks, I will post my question there


[13-Sep-18 12:43 AM] CrisF#3405
üëç


[16-Sep-18 05:01 AM] CMaurice#1685
Don't know if I'm in the right place... just extracted BarterDEX 1.1.1-rc and used the passphrase from my 0.8.8 install, and it's on;y giving me three coins, KMD,ETOMIC,BTC as coin options to add, I had native chains for LTC and two other coins in my 0.8.8 BarterDEX IIRC


[16-Sep-18 05:03 AM] CMaurice#1685
oh, linux-64


[16-Sep-18 05:33 AM] Mylo#8306
a cpl minor versions back the management of coins meant you had to enable a coin first, restart barterdex and then activate it.


[16-Sep-18 05:43 AM] SHossain#0007
@CMaurice https://www.youtube.com/watch?v=zVziQQvjb-I

{Embed}
Komodo Platform
https://www.youtube.com/watch?v=zVziQQvjb-I
How to Add Coins in BarterDEX GUI Using New Manage Coins Feature
How to add new coins to 'startup' in BarterDEX. The saved coins will load automatically each time you login to BarterDEX. BarterDEX is an atomic swap based d...
https://images-ext-2.discordapp.net/external/rEltwSZb_GipTxHCrrsdnevrGIm3mUwP1rp2fA9z-oI/https/i.ytimg.com/vi/zVziQQvjb-I/maxresdefault.jpg


[16-Sep-18 05:52 AM] CMaurice#1685
neat


[29-Sep-18 11:57 AM] JAPK#3085
When come with 2.0?


[29-Sep-18 11:57 AM] JAPK#3085
Can moro fast tx?


[29-Sep-18 03:02 PM] tolken#2655
I think it‚Äôs still in design phase still.


[29-Sep-18 03:03 PM] tolken#2655
Don‚Äôt know how much coding has begun. Think they said early 2019, but do t know if that means first alpha or full release.


[01-Oct-18 12:02 AM] ph03nix#3115
mm 1.0 worked very well in the beginning of the year


[01-Oct-18 12:02 AM] ph03nix#3115
i wonder what happened ü§î


[01-Oct-18 01:08 AM] jl777c#5810
I would suggest to use seed nodes that are actively managed. it is a small code change or a parameter on startup


[01-Oct-18 01:17 AM] ph03nix#3115
can you be more specific?


[01-Oct-18 01:19 AM] ph03nix#3115
as i understand, there are networking issues with current mm


[01-Oct-18 01:27 AM] jl777c#5810
try using netid that is not 0 using a known reliable server


[01-Oct-18 01:28 AM] jl777c#5810
in a networking system when the system behavior changes


[01-Oct-18 01:28 AM] jl777c#5810
people immediately say "the software is broken"


[01-Oct-18 01:28 AM] jl777c#5810
however if the software didnt change and the system is not working as before, isnt it a million times more likely that some networking issue is the reason


[01-Oct-18 01:28 AM] jl777c#5810
like maybe the SPV server isnt quite working, or the seed node is stuck, etc?


[01-Oct-18 01:31 AM] ph03nix#3115
food for thought üçú


[01-Oct-18 01:34 AM] jl777c#5810
Like if you are browsing and a site doesnt load, is your first reaction "the browser just got a new bug"?


[01-Oct-18 01:36 AM] ph03nix#3115
no


[01-Oct-18 01:37 AM] jl777c#5810
but with mm, that seems to be the reaction


[01-Oct-18 01:37 AM] jl777c#5810
there are many servers involved and their state is changing a lot more than an mm that is not


[01-Oct-18 01:44 AM] ph03nix#3115
the goal of mm 2.0 is to solve these networking issues?


[01-Oct-18 01:46 AM] jl777c#5810
did you read what I wrote?


[01-Oct-18 01:47 AM] jl777c#5810
you just asked if it is possible to make a browser that can always load a webpage


[01-Oct-18 01:47 AM] jl777c#5810
regardless of if the website is working or not


[01-Oct-18 01:48 AM] jl777c#5810
mm2 will improve things as much as it possible clientside, but if the SPV server is down, what do you suggest be done to make the swap work?


[01-Oct-18 01:54 AM] ph03nix#3115
i don't have a suggestion or a solution


[01-Oct-18 01:55 AM] ph03nix#3115
thinking out loud


[01-Oct-18 02:02 AM] ph03nix#3115
if SPV server is down i suggest to use native


[01-Oct-18 03:04 AM] jl777c#5810
yes


[01-Oct-18 03:05 AM] jl777c#5810
the first step to solving a problem is to actually know what the true problem is


[01-Oct-18 03:05 AM] jl777c#5810
mm codebase has been stable for months, so it is unlikely for the code to just spontaneously get a new bug


[08-Oct-18 07:14 AM] tolken#2655
@jl777c  ```like maybe the SPV server isnt quite working, or the seed node is stuck, etc?``` Sorry for my ignorance on this, but what exactly constitutes a seed node? Is mm a seed node? Are you implying the problem with mm isn‚Äôt mm, but people‚Äôs improper local configurations of mm? I don‚Äôt know if it‚Äôs better or worse than it was, but it doesn‚Äôt seem to work well for most people. If I remember correctly I think you‚Äôve implied that bad bobs are basically the root of the low success rate of order matching.


[08-Oct-18 07:22 AM] jl777c#5810
netid 0 i believe is the only netid in use


[08-Oct-18 07:22 AM] jl777c#5810
netid 0 defaults to one of my neglected nodes as the seed node


[08-Oct-18 07:22 AM] jl777c#5810
maybe setting it to a reliable maintained node is a good idea


[08-Oct-18 07:23 AM] jl777c#5810
it can be a month or more and i dont even login to my seed node


[08-Oct-18 07:23 AM] jl777c#5810
and all of barterDEX/hyperDEX might be defaulting to relying on it.


[08-Oct-18 07:35 AM] tolken#2655
It seems like it‚Äôs generally a good idea to be on a common netid to make sure people find other people. Is maintaining a node just a matter of running the relay node/mode in marketmaker?  Could we/should we get this node delegated to be run by someone else if you think it may be in need of more attention?


[08-Oct-18 07:36 AM] tolken#2655
That said, someone just successfully bought and sold (two trades!)  an erc20 from my bob today! Kmd/salt and salt/kmd!! Thanks to whoever did it!! @lukechilds @artem.pikulin


[08-Oct-18 07:49 AM] jl777c#5810
yes, best for someone like cipi to run the default seed node


[08-Oct-18 07:50 AM] jl777c#5810
it can be overridden at anytime, but as you say it is best for now to aggregate traffic before we split it across 14000+ netids


[08-Oct-18 08:09 AM] tolken#2655
Maybe it can be a joint responsibility. There‚Äôs not a huge security concern if multiple users were running/admining it? @cipi perhaps we could run it, if you could train me what to look out for/how to fix it if it misbehaves? üòÉ


[08-Oct-18 08:19 AM] cipi#4502
a seed node? without wallets? only needs to be run on a server without too much ressources and started with ./run instead of ./client


[08-Oct-18 08:21 AM] SHossain#0007
https://docs.komodoplatform.com/barterDEX/setup-FR-full-relay-node-barterDEX.html


[08-Oct-18 08:22 AM] jl777c#5810
no wallets needed


[08-Oct-18 08:22 AM] cipi#4502
don't have a free server atm, but i look if i find one, some leftovers from the past üòÉ


[08-Oct-18 08:25 AM] SHossain#0007
@Deleted User @grewalsatinder do  you think you can make a script like you did for tx blaster using mm for setting up FR node with 0-64 or more netid with each instance running mm? if there is a once script process, it would be nice and easy.


[08-Oct-18 08:27 AM] Deleted User#0000
starting X marketmaker FR nodes is no problem, but i am quite busy atm.


[08-Oct-18 08:28 AM] Deleted User#0000
so you want to have FR nodes for X netids?


[08-Oct-18 08:28 AM] Deleted User#0000
or 64 netid's ?


[08-Oct-18 08:29 AM] Deleted User#0000
james mentioned you cannot really have more than 16 FR node per netid aswell once... If there is more per netid, and the clients choose one randomly would things work better?


[08-Oct-18 08:31 AM] SHossain#0007
I want 0 to n instances of marketmaker running on each netid from one server.


[08-Oct-18 08:31 AM] SHossain#0007
of course using a different port for each mm


[08-Oct-18 08:32 AM] jl777c#5810
we dont need a large number of them, just one very reliable one


[08-Oct-18 08:33 AM] SHossain#0007
if the script allows us, we can set the number of instances we will be running. it could be just 4 netids


[08-Oct-18 08:36 AM] jl777c#5810
the startup specifies the netid/seedip


[08-Oct-18 08:37 AM] tolken#2655
I‚Äôd be willing to donate some kmd to help with VPS costs if that would help. @cipi

{Reactions}
rum üçª 

[08-Oct-18 08:48 AM] cipi#4502
i found 2 servers left over from earlier... @ca333 i think you rented them: 46.4.78.11 and 46.4.87.18... could use them for seed nodes if that is ok...
running is very simple, btw: http://pad.supernet.org/fr


[08-Oct-18 09:12 AM] cipi#4502
```./getpeers
[{"isLP":"5.9.253.195","remoteport":7782,"netid":0,"session":0}, {"isLP":"45.32.19.196","remoteport":7782,"netid":0,"session":0}, {"isLP":"192.99.71.59","remoteport":7782,"netid":0,"session":1536849429}, {"isLP":"23.254.165.16","remoteport":7782,"netid":0,"session":1538610071}, {"isLP":"46.4.78.11","remoteport":7782,"netid":0,"session":1539014186}, {"isLP":"46.4.87.18","remoteport":7782,"netid":0,"session":1539014186}]```
the 2 new FRs are showing up on getpeers from the bobs


[08-Oct-18 09:12 AM] jl777c#5810
now the code needs to change the default ipaddr


[08-Oct-18 09:13 AM] jl777c#5810
i will do this now


[08-Oct-18 09:18 AM] jl777c#5810
if ( (seednode & 1) != 0 )
                strcpy(fixedseed,"46.4.78.11");
            else strcpy(fixedseed,"46.4.87.18");


[08-Oct-18 10:05 AM] jl777c#5810
ok, I messed up git for a bit, but I think all is well now. the first 10 netids will alternate between those two nodes


[08-Oct-18 10:05 AM] jl777c#5810
just as the default, any other ipaddr can be used on startup


[08-Oct-18 08:39 PM] tolken#2655
Fingers crossed. Got a kmd/btc trade this afternoon. üòâ


[09-Oct-18 06:59 PM] CrisF#3405
üëç


[12-Oct-18 09:46 AM] luke#8628
hello!  is there anyway in marketmaker to have/generate more than one smart address without having to change the passphrase? the impression I got from this document here: https://github.com/KomodoPlatform/komodo/wiki/JUMBLR-Whitepaper is that one passphrase == one smart address for each coin.

{Embed}
https://github.com/KomodoPlatform/komodo/wiki/JUMBLR-Whitepaper
KomodoPlatform/komodo
Komodo. Contribute to KomodoPlatform/komodo development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[12-Oct-18 09:48 AM] SHossain#0007
@luke That's JUMBLR whitepaper, not marketmaker.
same passphrase in BarterDEX or Agama will always create same address. it can't generate 2.


[12-Oct-18 09:51 AM] luke#8628
thanks @SHossain ,  so in order to get a different smart address I need a different passphrase. Is it possible to change passphrases on the fly without having to restart marketmaker (through RPC perhaps?) or does it always require a restart?


[12-Oct-18 09:53 AM] SHossain#0007
you need to restart marketmaker in order to use different passphrase


[12-Oct-18 09:54 AM] SHossain#0007
or use different passphrase in another computer


[14-Oct-18 10:45 AM] sergipcm#2275
coming from dev channel to bug you a bit guys hehe


[14-Oct-18 10:45 AM] sergipcm#2275
I was wondering if bip39 meant complying bip32


[14-Oct-18 10:46 AM] sergipcm#2275
or if somehow it would be possible to make non-HD bip39 compliant mnemonic sentences


[14-Oct-18 10:47 AM] sergipcm#2275
just to tell people around they can just use their mnemonic passphrases on other wallets...instead of having to export each privkey one by one


[14-Oct-18 10:48 AM] SHossain#0007
@sergipcm sorry to tell you that it would be best asked in #deleted-channel @artem.pikulin or @artemciy_dice can answer. they are working on mm2

{Reactions}
rum 

[14-Oct-18 10:48 AM] sergipcm#2275
oh right thanks for pointing I thought this was the place


[14-Oct-18 10:51 AM] SHossain#0007
this channel is to talk about marketmaker, using the tech üòÉ


[14-Oct-18 06:36 PM] tolken#2655
Alright, let‚Äôs chat marketmaker tech then! üòÉ


[15-Oct-18 04:55 AM] KomodoWorld#8282
With hindsight, it could be have been more effective to promote BarterDex highlighting the support for various USD pegged coins and setting most marketmarker efforts around them: tusd/gusd/btc pairs, etc...


[15-Oct-18 04:55 AM] KomodoWorld#8282
coin-to-coin trading seems least appealing during bear markets, especially compounded with the ux and learning curve, but edging with fiat without kyc is good for all seasons and worth the learning curve for avoiding reporting&taxes...


[15-Oct-18 04:55 AM] KomodoWorld#8282
what do you think?


[15-Oct-18 11:49 PM] hyperDEX#6586
@KomodoWorld HyperDEX has support for GUSD


[16-Oct-18 08:52 AM] tolken#2655
I‚Äôll add GUSD if you think anyone will use them.  Quit honestly I‚Äôm surprised kmd/btc at the very least isn‚Äôt used more often. Seems like maybe there‚Äôs an exchange once a week at most. @KomodoWorld


[16-Oct-18 08:59 AM] KomodoWorld#8282
Ok try test it


[16-Oct-18 09:00 AM] KomodoWorld#8282
I'll do a bouunty for specific video guide, then we can try to make big twitter traders to give it a try


[16-Oct-18 10:24 AM] tolken#2655
Are we feeling confident enough in order matching to promote like that to new users? I‚Äôm still unclear how well order matching is working right now with so few users. My bob seems to generally fulfill orders on all pairs I have setup, but I don‚Äôt know what the true success rate is. For all I know there are lots of failed matches, or there just isn‚Äôt enough activity/attempts. For whatever reason I don‚Äôt have much luck when doing Alice buys. Sometimes, but rare. Can‚Äôt figure out where the problem resides.


[16-Oct-18 10:24 AM] tolken#2655
I guess more testers is better than less. üòÉ


[16-Oct-18 10:25 AM] jl777c#5810
what is needed is a dedicated set of bobs that are monitored and have the inventory


[16-Oct-18 10:25 AM] jl777c#5810
without that people will have a hard time making swaps


[16-Oct-18 10:25 AM] jl777c#5810
i used to do this but ran out of time to continue


[16-Oct-18 10:26 AM] tolken#2655
My bobs have inventory. Should I monitor them in some specific way? I‚Äôll do whatever I can to monitor them more closely if I can.


[16-Oct-18 10:26 AM] jl777c#5810
as long as they are running, that is what is important


[16-Oct-18 10:26 AM] tolken#2655
Yep, they‚Äôre pretty solid I think.


[16-Oct-18 10:27 AM] tolken#2655
Virtually all combinations of btc, bch kmd, ltc, eth, salt presently

{Reactions}
üëç 

[16-Oct-18 10:29 AM] jl777c#5810
cool! thanks


[16-Oct-18 09:07 PM] tolken#2655
Someone is try my and failing to complete a kmd/eth trade with me.  Anyone here?


[16-Oct-18 09:08 PM] tolken#2655
Connected but never sent payment on first one, second one timed out after connect.


[16-Oct-18 09:22 PM] cipi#4502
look at console output... i assume you will find messages like this
```didnt get valid data after 120
error waitsend pubkeys```
on bob, which indicate bad internet between bob and alice... the experience that i made was that when i download stuff on my alice and try a swap at the same time the swap will most likely fail with this error message...
same happens when i start the swap right after starting mm on alice... have to wait a bit before doing... as you can see there could be many reasons why swaps fail, so clearly need much more info


[16-Oct-18 09:27 PM] tolken#2655
indeed, I don‚Äôt mean to be so vague but there so much output. I was asking if it was someone here so we could keep trying.


[16-Oct-18 09:27 PM] tolken#2655
As for errors, the second one was then‚Äùdidn‚Äôt get valid data after 120‚Äù


[16-Oct-18 09:29 PM] tolken#2655
The first one, the most relevant item seemed to be this:


[16-Oct-18 09:30 PM] tolken#2655
```
waiting for ETH txId to be confirmed: 0x751c40f70fed5a34c77d2e2c4866231d2f5d11f081c644cebf03aec85134eb93
added 27 of 27 from KMD listunspents
second couldnt add address_utxo 7e2d471efaeb7cb6f7bf17deec14095972f8a2db85a0372e65909d6e7ad0c44d/v7 after not finding
dustcombine.1 numpre.0 min0.0x0 min1.0x0 numutxos.27 amount 2.78106554
AUTOPRICE numautorefs.30
LP_pendswap_add expiration.1539739981 3042245127-4191383461
>>>>>>>>. 1st refht KMD 6f600196b72926bc35a05b54d268033470ec31fb59edb8d7ef6496a1de8d21c1 <- 1055827, scan 0 0
>>>>>>>>. 1st refht ETOMIC 6c60368bb23747b9499638e104103f524ff95d97bf3806bbfbeb1b507fdbfea0 <- 128169, scan 0 0
AUTOPRICE numautorefs.30
AUTOPRICE numautorefs.30
AUTOPRICE numautorefs.30
extracted privbob.(3fe0f43f6154ebe0afae71d2e2c6a0ea67b429f8bfbc6449426dbbaa1c81a674)
Got ETH nonce 14
Got ETH rpc error: "Can't send transaction with too low gas price!"
Bob spends Alice payment ETH tx send failed!
claimtime: now 1539725069 height.1055846 heighttime.1539724633 expiration.1539731404
SWAP 3042245127-4191383461 finished LP_numfinished.1 !
```


[16-Oct-18 09:32 PM] cipi#4502
`Can't send transaction with too low gas price` seems to be the error... interesting, haven't seen this error before... the only explanation i have is that in the time between querying the gas price info and the time the tx was sent, the gas price changed... maybe @artem.pikulin can tell us what this error means


[16-Oct-18 09:40 PM] cipi#4502
ok, found 2 other possible explanations
1. the request doing the gas price query failed, mm used the default gas price but that was too low
2. the parity node doing the ETH transaction has a problem


[16-Oct-18 09:47 PM] cipi#4502
parity node looks good, as far as i can tell... it has the correct height compared to https://etherscan.io/
the parity proxy log though shows some errors `Rejecting transaction with too low gas price`


[16-Oct-18 09:57 PM] cipi#4502
looked in the code and found the URL to the gasprice call: https://ethgasstation.info/json/ethgasAPI.json
i can query this URL, but i think if this not possible by the time the swap starts, mm is using a hardcoded default and if that is too low compared to the real gas price, the tx will fail... not sure if i got all this right, but artem will tell us üòÉ


[16-Oct-18 09:57 PM] artem.pikulin#0794
@cipi Hi, yes, proxy rejects transactions with too low gas price, it was done to prevent tx spam to Parity node.


[16-Oct-18 09:58 PM] cipi#4502
oh yes, now i remember, there was a time an attacker was bothering us...


[16-Oct-18 10:00 PM] artem.pikulin#0794
Alice payment is now stuck, @tolken you have to manually claim it, I'll help you to do it.


[16-Oct-18 10:06 PM] artem.pikulin#0794
@tolken Please respond in PM when you are available.


[16-Oct-18 10:19 PM] tolken#2655
Ok thanks artem. Tx isn‚Äôt that large fortunately


[16-Oct-18 10:32 PM] tolken#2655
@cipi  why is the Alice/Bob connection so fragile? Isn‚Äôt canBind (maybe Alice isn‚Äôt binding? üòÉ a more direct way to connect the two parties? I would love to better understanding how these connections are established/maintained.


[16-Oct-18 10:41 PM] cipi#4502
that is a good question, i don't know why it is so, just observed that with my own swaps... could also be that it is not the usual most common cause for failed swaps, just with me... my internet is very lame, 16MBit down and only 1MBit up... the 1MBit up is the problem in my case... it is simply total BS to offer such internet connections to clients, 1MBit up is simply not enough to sustain 16MBit down, but ok, that is another story :-)
canbind only means that the node can do more then one swap in parallel, but for that to work the node needs a public IP (directly reachable from Internet, not NATed) and all ports open, no Firewall


[16-Oct-18 10:43 PM] tolken#2655
That internet doesn‚Äôt sound toooo bad... Ah, I thought the connection was more robust somehow.


[16-Oct-18 10:44 PM] tolken#2655
I run bob with canBind. I may have had multiple swaps happen a few times.


[16-Oct-18 10:46 PM] tolken#2655
if the IPs is the two machines remain the same, is there anything technically preventing the Alice/bob from picking up where they left off, even if for example, someone‚Äôs machine crashes mid swap? Assuming they can find each other, is there any technical reason (technical as in, technically very difficult problem to solve) that can‚Äôt happen. Or just a mm1.0 limitation that could be overcome with a bit more dev?


[16-Oct-18 10:47 PM] jl777c#5810
mm1 limit


[16-Oct-18 10:48 PM] jl777c#5810
ask the mm2 team for this feature


[16-Oct-18 10:48 PM] tolken#2655
@jl777c awesome üòÉ


[16-Oct-18 10:48 PM] cipi#4502
most of the swaps that are interrupted because of nodes going offline are simply reverted (alice gets alicepayment back, bob gets bobdeposit back)


[16-Oct-18 10:48 PM] jl777c#5810
yes, better to be able to resume


[16-Oct-18 10:48 PM] jl777c#5810
since I dont have to implement it üòÉ


[16-Oct-18 10:49 PM] tolken#2655
Hah, easy right? üòõ


[16-Oct-18 10:49 PM] tolken#2655
@cipi yes Artem is helping me with that now, I‚Äôm doing it for science as it‚Äôs only 3kmd.


[16-Oct-18 10:52 PM] cipi#4502
this swap-reverts should normally happen automatically, only in special situations it is needed to intervene manually (like bugs or failures not covered by the code, which is also some kind of bug)


[16-Oct-18 10:53 PM] tolken#2655
I‚Äôve had to do it a couple times manually, I think each time due to my bob crashing/shutting down.


[16-Oct-18 10:54 PM] tolken#2655
both times not mm‚Äôs fault.


[16-Oct-18 10:57 PM] cipi#4502
hmmm, but i think it would be good if the code would try to cover most of this situations, simply because it can happen, nodes may crash and it is always difficult to revert this manually... and sometimes you are not even aware that the swap failed... imagine you run bobs and they run all the time, you won't look all the time what they are doing, so you may miss such failed swaps


[16-Oct-18 11:01 PM] tolken#2655
That‚Äôs why I‚Äôm trying to better understand the bdex output better. I still get confused with reading/parsing some of the output logs. I even have endpoint exposed, which spits out lots of info. Haven‚Äôt quite figured out how to utilize all of it though. It seems like within sufficient understanding, I could write something to watch/catch certain behaviors. If more swaps start happening, you‚Äôre absolutely right, it could be quite a mess. I expect there to be lots of hands on maintenance.


[16-Oct-18 11:02 PM] tolken#2655
Gunna try and get GUSD setup next, hopefully @KomodoWorld  is right and there‚Äôs a market for that.


[16-Oct-18 11:11 PM] cipi#4502
yes, mm console output is not that easy to understand... often you also need to know some things about the internals (the code) to be able to fully understand it


[16-Oct-18 11:12 PM] artem.pikulin#0794
It's one of the MM2 goals to improve user experience in case of bad network conditions, I surely agree that swaps are too "fragile", short connection interruption leads to swap abortion which is not acceptable especially for mobile platforms which we plan to support.

{Reactions}
üëç (3) 

[16-Oct-18 11:14 PM] artem.pikulin#0794
Better logging is also on it's way to release, thankfully to @artemciy_dice who implemented a great logging engine for MM2 needs.

{Reactions}
pirate 

[17-Oct-18 12:58 AM] artemciy_dice#0049
That's right! In MM2 we now have a way to inform the user about the ongoing, in-progress operations without adding too much clutter to the log, which in turn allows us to more often share such information.
Plus in the ported code we're adding a layer of logging which is explicitly human-readable and human-oriented (the logging we have in MM1 is mostly debug/developer-oriented).


[17-Oct-18 05:46 AM] tolken#2655
@KomodoWorld GUSD online for most pairs now, kmd/btc/bch/ltc etc. Not selling any of those, just buying at moment until I can get GUSD funded.


[17-Oct-18 05:46 AM] KomodoWorld#8282
üëå


[17-Oct-18 07:14 AM] luke#8628
Hello, I have a couple of questions about marketmaker and privacy. 1. Is it possible (or will it be possible at some point) to trade from a privacy coin like Zcash to another privacy coin like KMD directly between z-addresses? This seems like a way to perform private trades without needing to go through JUMBLR. If this is already possible I'd love to try it out (even if it's in early stages). 2. When a swap occurs, is the network traffic sent directly between the two peers doing the trade or does it go through the full-relay node that is in the middle hosting the orderbook? Is this traffic encrypted?


[17-Oct-18 07:18 AM] jl777c#5810
I dont see how to do this without some incredible complicated new type of homomorphic encryption. I saw some academic paper that said it might be possible, but I am not so sure


[17-Oct-18 07:28 AM] grewalsatinder#9653
@luke oh that'd be a like some spooky action in quantum physics üòÑ


[17-Oct-18 07:29 AM] grewalsatinder#9653
would love to see as reality someday in future....


[17-Oct-18 07:31 AM] luke#8628
@jl777c ya, I figured if it was easy you would have already done it üòÉ


[17-Oct-18 07:32 AM] luke#8628
does anyone know about "2. When a swap occurs, is the network traffic sent directly between the two peers doing the trade or does it go through the full-relay node that is in the middle hosting the orderbook? Is this traffic encrypted?"


[17-Oct-18 07:32 AM] jl777c#5810
during the swap alice and bob are in direct comms


[17-Oct-18 07:32 AM] jl777c#5810
the default version is broadcasting tradestatus though


[17-Oct-18 07:33 AM] jl777c#5810
however it would work just fine with a "running silent mode" where it didnt broadcast the tradestatus


[17-Oct-18 07:33 AM] jl777c#5810
my feeling is that trying to do swaps privately is not really a good idea


[17-Oct-18 07:33 AM] jl777c#5810
if only because you dont know who you are trading with


[17-Oct-18 07:34 AM] jl777c#5810
so any "privacy" is just an illusion if you are swapping with the attacker


[17-Oct-18 07:34 AM] jl777c#5810
that is why I do all the swaps in clear text


[17-Oct-18 07:34 AM] jl777c#5810
no pretense of privacy


[17-Oct-18 07:34 AM] jl777c#5810
if you want privacy, use zaddrs or JUMBLR


[17-Oct-18 07:34 AM] jl777c#5810
or PIRATE


[17-Oct-18 07:34 AM] jl777c#5810
then from a fresh address do swaps in the clear


[17-Oct-18 07:37 AM] luke#8628
cool, I see what you mean. I think the tricky thing with that is that you only get one smart address per passphrase, so you have to restart marketmaker in order to monitor multiple smart addresses (can't query all of your smart addresses at once) right?


[17-Oct-18 07:38 AM] luke#8628
I suppose you could go out of band and query the block explorer apis of the coins you are trading for those addresses


[17-Oct-18 07:39 AM] luke#8628
but it still adds a layer of complexity when trying to generate a fresh smart address


[17-Oct-18 07:39 AM] luke#8628
and trade with it


[17-Oct-18 07:39 AM] jl777c#5810
privacy is difficult to maintain, but well worth the effort

{Reactions}
üëç 

[19-Oct-18 03:07 AM] artemciy_dice#0049
`> that is why I do all the swaps in clear text`

Some of the NAT traversal solutions might "impose" the encryption on us, though: https://zetok.github.io/tox-spec/#end-to-end-encryption. Albeit they'd be kicking in only between the new MM versions [and if the normal direct communication fails].


[19-Oct-18 03:11 AM] jl777c#5810
having it encrypted by some standard layer is fine, as long as you dont assume it is 100% secure

{Reactions}
üëΩ üôÇ 

[21-Oct-18 08:14 PM] Deleted User#0000
I just got multiple RPC threads working with marketmaker... not 100% sure, but I think this would solve a lot of the "marketmaker is not working " issues that happen when a command locks it up.


[21-Oct-18 08:15 PM] Deleted User#0000
obviously, only certain commands can be run in parallell ... as some might confllct with others.


[21-Oct-18 08:19 PM] Deleted User#0000
simply having 2 RPC ports one to send commands and one to fetch state should work no ? I had to disable the LP_Command queue on one thread.


[21-Oct-18 08:20 PM] Deleted User#0000
that thread should be able to be used to pull info.. maybe I am wrong. but its working for what I need it for anyway. If anyone wants to know how I  did it, ask.


[21-Oct-18 10:36 PM] artem.pikulin#0794
@Deleted User Hi, MM2 will support concurrent requests. HTTP server implementation was already replaced with Rust Hyper server: https://github.com/artemii235/SuperNET/tree/etomic/mm2src/rpc. So the task is about 50% done, however we have to emulate "single threadiness" of MM1 RPC for some  time as Rust RPC code is still calling old C functions.

{Reactions}
üëå (2) 

[21-Oct-18 10:38 PM] Deleted User#0000
Cool just hacking around to get my streamer working, and figured it out... Guess there must be a reason its not enabled, as msot of the code is there, it just didnt work.


[21-Oct-18 10:44 PM] artem.pikulin#0794
I think you might use the current MM1 release which doesn't contain Rust code at all. If you would like to test the version with some parts implemented in Rust you can find nightly builds here: http://195.201.0.6/etomic/

{Reactions}
üëç 

[21-Oct-18 10:49 PM] Deleted User#0000
Yeah I will probably use what I have as it works.. I am not using 99% of the code, ideally at some point it would need to be a standalone binary.


[21-Oct-18 10:50 PM] Deleted User#0000
Just has 2 RPC threads, one to activate TX blaster with OP_return and one to receive data to add to the queue. So far seems working very well with extremly high bandwidth.


[21-Oct-18 10:51 PM] artem.pikulin#0794
Even with MM1 you can enable WS endpoint, connect to it and schedule command execution at "background" receiving the result from WS.


[21-Oct-18 10:54 PM] artem.pikulin#0794
You need first to call `getendpoint` and then set the `queueid`param to set the id of your request. You need to to ensure that it's not possible for 2 requests to have the same ID.


[21-Oct-18 10:56 PM] Deleted User#0000
I think I accomplished it this way, maybe that way would have been easier, or could work better... but I am not very experianced in C.  I think for now this will do. Thanks for the advice.


[22-Oct-18 12:20 AM] jl777c#5810
the concurrency in mm1 mostly works, until it deadlocks


[22-Oct-18 12:20 AM] jl777c#5810
but depending on usage, it might be ok


[22-Oct-18 12:34 AM] namhoang28#4328
@jl777c when it deadlocks?
could you provide more details?


[22-Oct-18 12:36 AM] jl777c#5810
luke had the problem with the hyperdex gui when we allowed it to have two pending requests


[22-Oct-18 12:36 AM] jl777c#5810
limiting it to one pending request made it revert to the single threaded behavior and it runs stable

{Reactions}
üëç 

[22-Oct-18 01:00 AM] Deleted User#0000
In my case I am litterally not using any marketmaker functions at all, its on an unused netid with no seed node... So I think thats why its working fine in this case.


[22-Oct-18 01:00 AM] Deleted User#0000
Although when my node got banned from too much data spam, it crashed, need to build new testing environment to continue.


[24-Oct-18 06:34 AM] luke#8628
Hello! Are EOS, Neo, Stellar, or Cardano supported by marketmaker?


[24-Oct-18 07:00 AM] Nabob | $ARRR#5004
@luke  Check here supported coins
https://www.atomicexplorer.com/#/coins/

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer


[24-Oct-18 07:06 AM] luke#8628
@Nabob | $ARRR awesome, thanks!


[24-Oct-18 07:58 AM] luke#8628
I am doing some testing on a private network, and want to set the confirmations to zero like mentioned here https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-Whitepaper-v2#zero-transaction-confirmations. I am using this RPC call (https://github.com/KomodoPlatform/KomodoPlatform/wiki/BarterDEX-API-Summary-by-Category#setconfirms), and when I put in 0 it returns "Success" as I would expect. However, when I go to do the actual swap I can see the "numconfs.1" in the terminal output which means it still waits for a confirmation. I have tested the other way, and set the numconfs to 2 using the same RPC call and that works as expected in the terminal output "numconfs.2". Is setting it to 0 not possible using the endpoint? Is there a different way I can do this?

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/barterDEX-Whitepaper-v2
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/BarterDEX-API-Summary-by-Category
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[24-Oct-18 08:23 AM] cipi#4502
@luke for zeroconf swaps you need to do this: https://docs.komodoplatform.com/barterDEX/barterDEX-API.html#instantdex-swap
it doesn't work with setconfirms, setconfirms is only for confirmations > 0


[24-Oct-18 08:24 AM] luke#8628
ah, gotcha. thanks!


[24-Oct-18 11:20 PM] k50#7856
Hi is it possible to get a test coin listed on BarterDEX and the dicoApp for learning / experience before doing the dICO for real? Thanks.


[25-Oct-18 03:19 AM] Nabob | $ARRR#5004
Yes, we have test coins available for Beer/pizza or beer/coqui pairs


[25-Oct-18 03:20 AM] Nabob | $ARRR#5004
check for this urls for beer faucets @k50 
https://www.atomicexplorer.com/#/

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer


[26-Oct-18 05:13 AM] k50#7856
Hi @Nabob | $ARRR thanks for your reply. I understand there are test coins in existence. Wondering if it is ok to create a new test coin via a test Komodo Assetchain, get it listed on BarterDEX and then probably remove it from BarterDEX once we've learned enough to do the real dICO? This way we can make and learn from all the mistakes on the test coin instead. Thank you.


[26-Oct-18 09:00 AM] tolken#2655
@k50 I‚Äôm not an expert with this, but I don‚Äôt think you need anyone to add it to bdex for you, unless you mean the GUI bdex. I think what you would want to do is add your own assetchain, then configure your instances of BarterDex to use those new assetchains, then trade away.


[26-Oct-18 09:02 AM] tolken#2655
To do this level of testing, would probably be best to do it all command line to keep it simple.


[28-Oct-18 02:48 AM] k50#7856
Hi @tolken, thanks very much for your help!  Ok so I'm following this guide https://docs.komodoplatform.com/barterDEX/get-listed-barterDEX.html. 

I found rpcport like this:
$ cd ~/komodo/src
$ ./komodo-cli -ac_name=FC_TEST getinfo
"rpcport": 64015,

I found pubtype like this:
$ cd ~/komodo/src
$ grep -irn pubtype *
komodo_utils.h:46:#define KOMODO_PUBTYPE 60

May I please ask how do I find the values of p2shtype and wiftype? Thanks


[28-Oct-18 08:06 AM] cipi#4502
@k50 for assetchains you don't need this values, all you need is the AC-name and rpcport, so the entry in marketmaker coins file looks like this `{\"coin\":\"DION\",\"asset\":\"DION\",\"rpcport\":23895}`


[29-Oct-18 03:28 AM] k50#7856
Hi @cipi, thank you very much for your kind help.


[30-Oct-18 03:09 AM] luke#8628 (pinned)
After reading some in this channel, I see that there is a mm2! @artem.pikulin , if I want to try it out do I just compile it or grab one of your releases from http://195.201.0.6/etomic/ and replace the "marketmaker" binary with it, and leave everything else the same? or is there a different set of configuration options for it?


[30-Oct-18 03:44 AM] artem.pikulin#0794 (pinned)
@luke Hi, these are ongoing nightly builds for internal testing purpose. You can try to use them at your own risk, I wouldn't recommend to use it with real coins and on netid 0. Only testcoins and non-default netids.

{Reactions}
üëç 

[30-Oct-18 04:05 AM] luke#8628
awesome! yes, I will do that. So if I want to try it out on an Ubuntu server I have, I can just take "marketmaker-mainnet-linux-9738ca4" and replace my current marketmaker binary with it using the same command line options?


[30-Oct-18 04:06 AM] artem.pikulin#0794
Yes, it should work.


[30-Oct-18 04:07 AM] artem.pikulin#0794
However you won't notice any difference except possibility of additional bugs üòÉ


[30-Oct-18 04:07 AM] artem.pikulin#0794
As we currently porting the existing code to Rust keeping the feature set same.


[30-Oct-18 04:09 AM] luke#8628
üòÉ Makes sense. Really excited about the switch to Rust, and hopefully the additional reliability it will bring!

{Reactions}
üëç üòÉ 

[30-Oct-18 07:17 PM] Matt516#7771
I have a few questions regarding market stats:
1. Is there a method which will return all trading activity across the network or is that only possible per node?  
2. The ticker method returns trades for the past 24 hours but only for a specific base/rel pair. . . although the doc states that it the base/rel pair is optional but it appears that LP_ticker is always passed base and rel arguments: https://github.com/KomodoPlatform/KomodoPlatform/blob/master/iguana/exchanges/LP_stats.c#L811.  I could be doing something wrong but it doesn't seem to work for me in the generic case where no base/rel pair is specified.
3. Similar to #1, is there a way to get the latest N trades as opposed to the last 24 hours' worth?

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/blob/master/iguana/exchanges/LP_stats.c
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[30-Oct-18 07:23 PM] Matt516#7771
Another question - what is the difference between quoteid and requestid?


[31-Oct-18 02:19 AM] artem.pikulin#0794
@Matt516 
Hi, as I can see `statsdisp` method matches your requirements (https://github.com/KomodoPlatform/KomodoPlatform/blob/master/iguana/exchanges/LP_commands.c#L422), as you can see the `ticker` method is just a wrapper for  `LP_statslog_disp` with specific hardcoded params. `statsdisp` allows you to get stats for all coins and specific timeframe. As I can see these stats will be displayed for whole network, but you need your node running permanently to collect the stats.

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/blob/master/iguana/exchanges/LP_commands.c
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[31-Oct-18 01:28 PM] Matt516#7771
excellent, thanks @artem.pikulin !


[01-Nov-18 08:26 AM] BlackJesus#6161
Mm2.0 is on nightlies now? @artem.pikulin I may have to get on that


[01-Nov-18 10:34 AM] luke#8628
@artem.pikulin  thanks again for pointing me to the mm2 binaries. I tested them out and they seem more reliable in some ways. had trouble using a setup with a full relay node in the middle, but without the FR node it worked as expected. Do you have a rough timeline planned for an initial release of mm2? from the github commits I can tell you are hard at work üòÉ


[01-Nov-18 10:58 PM] artem.pikulin#0794
Pinned a message.


[01-Nov-18 10:58 PM] artem.pikulin#0794
Pinned a message.


[01-Nov-18 11:00 PM] artem.pikulin#0794
@BlackJesus Hi, please check the messages that I've just pinned. There are nightly builds that have some of parts rewritten in Rust keeping the features (and bugs üòÉ ) same. And maybe it has even more bugs.


[01-Nov-18 11:03 PM] artem.pikulin#0794
@luke Hi, the alpha is scheduled in Q1 2019. There are too many things to do so I'm not able to give more precise deadline now.


[02-Nov-18 07:31 AM] luke#8628
thanks @artem.pikulin!


[05-Nov-18 08:17 AM] luke#8628
For InstantDEX trades (https://github.com/KomodoPlatform/KomodoPlatform/wiki/Processing-InstantDEX-swap-on-barterDEX#instantdex-swap), once you have deposited the KMD, does that give you trust for trading all coin pairs? Or is instantDEX only for trades involving KMD?

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/Processing-InstantDEX-swap-on-barterDEX
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[05-Nov-18 08:23 AM] jl777c#5810
for all that has a reference price so it can be allocated against the KMD deposit


[05-Nov-18 08:24 AM] luke#8628
very cool! so after a certain number of trades are made with certain coin pairs, they receive an equivalent "value in KMD" that can be used?


[05-Nov-18 08:24 AM] jl777c#5810
yes


[06-Nov-18 07:06 AM] luke#8628
followup question... if someone decides to be malicious, and not fulfill their end of the swap during an InstantDEX swap, does the protocol automatically give the instantDEX deposit to the person that was taken advantage of?


[06-Nov-18 07:07 AM] luke#8628
not the whole deposit, but the equivalent amount that the malicious party didn't send?


[06-Nov-18 07:07 AM] jl777c#5810
yes, if bob bails out, alice gets the bobdeposit instead of the bobpayment, that is 12.5% more


[06-Nov-18 07:08 AM] jl777c#5810
if alice bails, then dexfee is lost


[06-Nov-18 07:08 AM] jl777c#5810
at other stages, the swap is reversed, so there is no gain


[06-Nov-18 07:12 AM] luke#8628
ah, ok. so how do the InstantDEX deposit zcredits play in? those aren't actually taken from the malicious user if they fail their side of the trade right? I'm confused as to why those increase dynamic trust if they can't be claimed by the hacked party


[06-Nov-18 07:13 AM] luke#8628
do they turn into zdebits that the hacker can no longer claim?


[06-Nov-18 07:14 AM] jl777c#5810
an arbiter would need to get involved but only if the atomic protocol doesnt handle it properly. so far it has handled all known swaps (since the last bug was fixed in early summer)


[06-Nov-18 07:18 AM] luke#8628
ok, I think I understand. so when you do an instantdex_deposit, you are transferring control of those KMD coins to the Komodo team until the timelock is released, at which point you can claim them back. if you are malicious, you will start to accrue zdebits that will prevent you from claiming your entire deposit. The komodo team could then give the hacker's locked deposit to the victim.


[06-Nov-18 07:18 AM] jl777c#5810
yes, it is not fully automated but provides a strong disincentive to cheating


[06-Nov-18 07:20 AM] luke#8628
awesome, that makes sense. thanks


[06-Nov-18 07:21 AM] jl777c#5810
great questions


[10-Nov-18 04:01 AM] artemciy_dice#0049
@luke , excited to see you testing the mm2!
This relay-in-the-middle mode you've mentioned above is not currently a part of our automatic mm2 test harness and I'd like to rectify that. Can you share with me how everything is configured in it?
Which mm2 instances (Alice, Bob, Relay?) are running on an open IP, which are running behind a NAT or firewalled in such a way so as not to be reachable from the outside, which of them have the "client" option on, and how do you point them at each other?
I'd also appreciate it if you would PM me the gist of the mm2 configuration in such a setup.
Thanks for your input.  ‚ù§


[10-Nov-18 09:26 AM] Tylor zkFS#8280
Im guessing MM2 still requires nanomsg? and curl? will this new MM2 build on android easier than MM1?  I have taken a few months off and need a little info please.


[10-Nov-18 02:26 PM] artemciy_dice#0049
@Tylor zkFS , we're using the embedded https://hyper.rs/ instead of an external cURL in MM2 now. Going to keep using the nanomsg library for compatibility with the MM1 peers, but we're also making a new networking layer for NAT traversal.
Any problems with building nanomsg on android?
There is a secondary/opportunity goal to make MM easier to port, but as of now we're not targeting the native cross-compilation to android specifically. If you have some experience with cross-compilation and want to try it or give us some hints, it will be, like, totally cool.


[10-Nov-18 03:02 PM] Tylor zkFS#8280
@artemciy_dice - just awaiting the tech and devs to focus on portable MM for my project - I hear Rust is similar to Go - I have spent to much money on  DEVs attemting to port  - I guess I will wait for more information on this subject within the next couple months.  One group of Devs wanted to rewrite MM in Go. So I think we are closer than we were. - I will keep researching for solutions on my end as well.  Thank you for the info


[10-Nov-18 03:05 PM] artemciy_dice#0049
@Tylor zkFS , I'm not yet acquainted with your project. Is it in Go? Would be nice to know about the use case you have in mind.


[10-Nov-18 04:34 PM] Tylor zkFS#8280
We Accept Crypto Here

{Reactions}
üëç 

[12-Nov-18 09:43 AM] Lucioric2000#4698
Hello, ¬øis there any way to getmarketmaker 2 now?


[12-Nov-18 12:44 PM] Mylo#8306
hyperdex ships with it i think


[12-Nov-18 12:44 PM] Mylo#8306
#dex-hyperdex may be able to tell you


[12-Nov-18 12:44 PM] Mylo#8306
it is still an alpha mm2 version.


[12-Nov-18 09:04 PM] molody(Pungoio)#2849
Hi,guys


[12-Nov-18 09:05 PM] molody(Pungoio)#2849
I try run marketmaket, if run ./m_mm from SuperNET/iguana i get error:  ``` /tmp/cczKP8LV.o: In function `bitcoin_sigtxid':
/home/komodo/SuperNET/iguana/exchanges/LP_bitcoin.c:3464: undefined reference to `crypto_generichash_blake2b_salt_personal'
/home/komodo/SuperNET/iguana/exchanges/LP_bitcoin.c:3484: undefined reference to `crypto_generichash_blake2b_salt_personal'
/home/komodo/SuperNET/iguana/exchanges/LP_bitcoin.c:3506: undefined reference to `crypto_generichash_blake2b_salt_personal'
/home/komodo/SuperNET/iguana/exchanges/LP_bitcoin.c:3550: undefined reference to `crypto_generichash_blake2b_salt_personal'
collect2: error: ld returned 1 exit status```


[12-Nov-18 09:06 PM] molody(Pungoio)#2849
Please, tell me, what cloud it be ??


[12-Nov-18 10:14 PM] Deleted User#0000
yes


[12-Nov-18 10:14 PM] Deleted User#0000
you need libsodium


[12-Nov-18 10:14 PM] Deleted User#0000
and it needs to be added to the compileer flasgs


[12-Nov-18 10:14 PM] Deleted User#0000
ran into that with iguana a few days ago

{Reactions}
üëå 

[12-Nov-18 10:43 PM] molody(Pungoio)#2849
Thanks. libsodium is already installed. I added path to sodium   this works


[22-Nov-18 04:19 PM] DG#6934
@ABP brewmaster  please post your log here...for what I see marketmaker doesn't starts right?


[22-Nov-18 04:26 PM] ABP brewmaster#0177
I just tried to restart marketmaker and this happened ```root@vultr:~/SuperNET/iguana/dexscripts# cd ~/SuperNET/iguana/dexscripts && source userpass
root@vultr:~/SuperNET/iguana/dexscripts# ./client_my && sleep 10
curl: (7) Failed to connect to 127.0.0.1 port 7783: Connection refused
nohup: redirecting stderr to stdout
root@vultr:~/SuperNET/iguana/dexscripts#```


[22-Nov-18 10:20 PM] artem.pikulin#0794
@DG @ABP brewmaster Hi, could you please post the contents of `client_my` script here? Please ensure to remove your passphrase from it.


[29-Nov-18 07:41 AM] luke#8628
hello! I see this in the whitepaper in regard to handing UTXOs (https://docs.komodoplatform.com/whitepaper/chapter6.html?highlight=utxos#trading-on-barterdex): "We are working with our community to simplify this process. Naturally, it is complex and will take time." Is this something that has been improved on already, or is this still a future goal?


[29-Nov-18 07:59 AM] gcharang#6833
There is a marketmaker2.0 in the works. it will have usability improvements


[29-Nov-18 07:59 AM] luke#8628
thanks!


[29-Nov-18 08:06 AM] kmdstudent#8905
@gcharang when are you going to release mm2, could you let me know?


[29-Nov-18 08:07 AM] gcharang#6833
It is a work in progress. There are no concrete release dates.

{Reactions}
üëç (2) 

[11-Dec-18 05:14 AM] siu#3920
With the latest release both in marketmaker server and client atomicdex im getting bad performance on swaps.


[11-Dec-18 05:14 AM] siu#3920
the swap never ends.


[11-Dec-18 05:14 AM] siu#3920
although it might be an issue with the gui and its interaction with latest release


[11-Dec-18 05:15 AM] siu#3920
did something change? @artem.pikulin


[11-Dec-18 05:22 AM] siu#3920
@namhoang28 please, post here any issues you suspect come from the mm


[11-Dec-18 05:22 AM] cipi#4502
@siu does alice or bob have electrum coins enabled? If so, try without electrum coins. I think it is because mm loads UTXOs in the background for all enabled electrum coins and does too much network traffic, which slows down swaps.


[11-Dec-18 05:23 AM] siu#3920
client (alice) is electrum


[11-Dec-18 05:23 AM] siu#3920
server is native


[11-Dec-18 05:23 AM] siu#3920
but @namhoang28 got this on his logs: ```atomicapp:plugins:marketmaker 105
<Binary logs> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 17 254 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 18 254 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 19 254 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 20 254 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 229 97 108 105 99 101 100 101 120 102 101 101 0 254 237 67 105 112 208 215 141 219 250 141 3 28 72 109 186 52 33 61 176 155 46 130 138 48 56 31 94 16 75 0 54 63 91 244 21 122 15 92 0 235 21 122 15 92 24 92 22 69  k.773 error decoding ({"uuid":"7e512f7d8a7b58e73c5b4414d7d168b08e9```


[11-Dec-18 05:24 AM] siu#3920
which he suspects is a error decoding from mm


[11-Dec-18 05:25 AM] cipi#4502
yes, but that is because there are still old mm versions in the network, they produce this decoding errors... as long as you don't trade with them, it should not affect you


[11-Dec-18 05:25 AM] siu#3920
ok


[11-Dec-18 05:25 AM] siu#3920
im sure both server and client are in latest release though.


[11-Dec-18 05:26 AM] siu#3920
with both new releeases


[11-Dec-18 05:26 AM] cipi#4502
yes, this errors are from the other mms, not your alice or bob


[11-Dec-18 05:26 AM] siu#3920
swap never started, server reserved it but didnt connect


[11-Dec-18 05:26 AM] artem.pikulin#0794
@siu Hi, I didn't make any changes to swap code, the electrum tx history background loading in theory can cause the issues, however it's impossible to tell anything without full logs from both sides.


[11-Dec-18 05:27 AM] siu#3920
ok, will test again now and post logs.


[11-Dec-18 05:27 AM] artem.pikulin#0794
If it doesn't connect it's highly likely network issue.


[11-Dec-18 05:27 AM] cipi#4502
yes, no connect happens to me when my network is "overloaded"... eg i have to stop my torrent-downloads before trying a swap, else it ends up stuck in connecting


[11-Dec-18 05:27 AM] siu#3920
hmm, that might be an issue with me then


[11-Dec-18 05:28 AM] siu#3920
i might have more than a couple daemons running plus kids watching netflix ;p


[11-Dec-18 05:28 AM] siu#3920
but it worked in similar conditions with an earlier release.


[11-Dec-18 05:28 AM] cipi#4502
the daemons should not be a problem though, netflix is it...


[11-Dec-18 05:29 AM] jl777c#5810
new DHT approach will obsolete these issues, no sense to be fixing what will be fixed with new method


[11-Dec-18 05:29 AM] siu#3920
ok


[11-Dec-18 05:29 AM] jl777c#5810
if netflix is the issue, dont swap and flix at the same time


[11-Dec-18 05:30 AM] jorian#4555
DHT as in bittorrent style DHT? that's nice


[11-Dec-18 05:30 AM] siu#3920
wish me luck getting my kids off netflix


[11-Dec-18 05:30 AM] siu#3920
its either netflix plus work or no netflix and no work üòÇ


[11-Dec-18 05:31 AM] namhoang28#4328
hey guys,
I could not reproduce this bugs on this morning but It happeed last night when I try to make 3, 4 swaps at the same time lastnight. Maybe it‚Äôs network issue


[11-Dec-18 05:32 AM] namhoang28#4328
@artem.pikulin I will PM you the logs from my side


[11-Dec-18 05:37 AM] cipi#4502
just saw some decoding errors from a BEER/COQUI swap...


[11-Dec-18 05:37 AM] siu#3920
mine


[11-Dec-18 05:37 AM] siu#3920
but it seems to be going through today


[11-Dec-18 05:37 AM] siu#3920
lets see if it gets stuck


[11-Dec-18 05:38 AM] siu#3920

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/522044509413179393/unknown.png


[11-Dec-18 05:38 AM] siu#3920
i just noticed, it might also have to do with such slow mining of blocks.


[11-Dec-18 05:42 AM] siu#3920
```2018-12-11 13:37:10 Running KomodoMiner.tromp with 2 transactions in block (467 bytes)
2018-12-11 13:37:10 Running KomodoMiner.tromp with 2 transactions in block (467 bytes)
2018-12-11 13:37:11 UpdateTip: new best=0a353849ac8ccacb4f8291e463450cf2954ed6958d0ce85c5ae51a46f32d06e0  height=240908  log2_work=31.604461  log2_stake=-inf  tx=351992  date=2018-12-11 13:37:05 progress=1.000000  cache=2.3MiB(199tx)
2018-12-11 13:37:12 ERROR: ContextualCheckBlock: block height mismatch in coinbase
```


[11-Dec-18 05:42 AM] siu#3920
i think the issue might actually be in the COQUI chain.


[11-Dec-18 05:59 AM] siu#3920
but either way, seems like the slow block creation makes the swap get stuck


[11-Dec-18 05:59 AM] siu#3920
i got stock in `waiting for bobdeposit`


[11-Dec-18 06:17 AM] Deleted User#0000
@siu  You will need to force thorugh blocks... MM by default needs 3 blocks, but AC OnDemand only mines a single... and as all of us that were force mining empty bocks on AC pretty much stopped... The chains that are onDemand will now get stuck.


[11-Dec-18 06:17 AM] siu#3920
yeah, understood. I just had not realized this üòÇ


[11-Dec-18 06:18 AM] Deleted User#0000
Yeah it wasnt an issue for some time.. but after awhile and with so many chains, the extra space on Notary node wasnt worth it for the tiny amounf of use on the chains.


[11-Dec-18 06:19 AM] siu#3920
also the bear


[11-Dec-18 06:20 AM] Deleted User#0000
that too I guess... at least for me, that wasn't a factor in my desision to stop cpu mining every single AC via stratum... it wsa costing me $0 ... but my SSD's and everyone elese were just getting fileld for no reason üòÇ


[11-Dec-18 06:25 AM] siu#3920
hehehe


[11-Dec-18 09:17 AM] tolken#2655
Can a bdex communicate with a daemon that‚Äôs installed on another machine, assuming proper ports are designated, or does it have to be on same machine as bdex?


[11-Dec-18 09:19 AM] tolken#2655
I was going to configure ZEC,  but realize now they only have a Linux daemon. Would prefer to run it on a Linux box, then have bdex communicate with it via RPC, should that work?


[11-Dec-18 09:30 AM] ComputerGenie#7004
https://winzec.com/


[11-Dec-18 09:56 AM] tolken#2655
Thanks @ComputerGenie running my marketmaker primarily on macos for now.


[11-Dec-18 09:57 AM] tolken#2655
Will switch all Linux when I have time. üòÉ


[11-Dec-18 09:59 AM] ComputerGenie#7004
https://guarda.co/desktop

{Embed}
https://guarda.co/desktop
Web Multi-currency Wallet | Guarda
Guarda is a web-based light wallet for top blockchains: Ethereum, Bitcoin, Litecoin and lots more. Clear design, built-in exchange, full control and security over your funds.
https://images-ext-2.discordapp.net/external/zEcHJF6ywaofr_ol2MfEcGA049aKxhB9mO1pySCAnlM/https/guarda.co/assets/poster.png


[11-Dec-18 09:59 AM] ComputerGenie#7004
https://www.exodus.io/releases/

{Embed}
https://www.exodus.io/releases/
Download Exodus
All-in-one wallet to secure, manage and exchange blockchain assets.
https://images-ext-2.discordapp.net/external/gk0Pgx6H-JapkALztSscRmJ3uly901xN0tVX_LW-O68/https/www.exodus.io/img/fb-meta-rect.png


[11-Dec-18 09:59 AM] ComputerGenie#7004
they both support ZEC on Mac


[12-Dec-18 12:24 AM] tolken#2655
I figured those were lite wallets, I‚Äôll check them out, thanks again @ComputerGenie


[15-Dec-18 01:40 AM] jl777c#5810
@artem.pikulin there is no need to update the coins file for sapling activations. I made a code change the other day that does this


[15-Dec-18 02:14 AM] artem.pikulin#0794
@jl777c Thanks! I can see that PR was created and merged in my fork. The release with these changes was published 10 hours ago: https://github.com/artemii235/SuperNET/releases/tag/v1.0.1045.


[16-Dec-18 06:31 AM] siu#3920
why was that this happened? ```autochange BTC validateaddress -> getaddressinfo
BTC importaddress 1BSGtQC6iuWt58iebnJoPwPoM8EGmwetBn from  failed, isvalid.0
cant importprivkey.BTC 1BSGtQC6iuWt58iebnJoPwPoM8EGmwetBn -> ({"error":"couldnt import"}), abort session
```


[16-Dec-18 06:31 AM] siu#3920
i dont remember.


[16-Dec-18 06:34 AM] siu#3920
@artem.pikulin


[16-Dec-18 06:37 AM] jl777c#5810
there is some rare case that causes some memory issues on startup. just start again should fix it


[16-Dec-18 06:37 AM] jl777c#5810
well it will still happen rarely, but you avoid it by starting again


[16-Dec-18 06:58 AM] siu#3920
i have restarted various times, still get the same issue


[16-Dec-18 06:58 AM] siu#3920
also tried using the artem release marketmaker and the same happens.


[16-Dec-18 07:02 AM] jl777c#5810
somehow it says it is invalid.0 address, but it is a valid address. no idea why


[16-Dec-18 07:05 AM] siu#3920
```bitcoin-cli validateaddress 1BSGtQC6iuWt58iebnJoPwPoM8EGmwetBn
{
  "isvalid": true,
  "address": "1BSGtQC6iuWt58iebnJoPwPoM8EGmwetBn",
  "scriptPubKey": "76a9147278eb033b2f54d2af3b82f9d1372d57db73323b88ac",
  "isscript": false,
  "iswitness": false
}
```


[16-Dec-18 07:07 AM] jl777c#5810
I dont use the more recent BTC core as they broke almost all the vital rpc calls


[16-Dec-18 07:07 AM] jl777c#5810
intentioanally


[16-Dec-18 07:07 AM] jl777c#5810
you can put it in backward compatible mode, but i dont know the syntax


[16-Dec-18 07:07 AM] siu#3920
ahh... that might be the issue, im using the PPA version, so it might be the latest.


[16-Dec-18 07:07 AM] jl777c#5810
likely they made it so some key functionality of rpc call that was working for almost 10 years is totally changed


[16-Dec-18 07:08 AM] jl777c#5810
like signtransaction no longer working the way it used to


[16-Dec-18 07:08 AM] jl777c#5810
or getinfo being deprecated


[16-Dec-18 07:08 AM] jl777c#5810
or validateaddress having new functionality, but some other "new" rpc call behaving as validateaddress has been working


[16-Dec-18 07:08 AM] jl777c#5810
on and on I can go


[16-Dec-18 07:09 AM] jl777c#5810
BTC core is intentioanally breaking the rpc


[16-Dec-18 07:09 AM] jl777c#5810
torvalds said it best about not breaking userspace


[16-Dec-18 07:09 AM] siu#3920
what advantage this brings?


[16-Dec-18 07:09 AM] siu#3920
for them


[16-Dec-18 07:09 AM] jl777c#5810
it allows them to pretend that only they know how to write code?


[16-Dec-18 07:09 AM] jl777c#5810
since the entire installed base is broken


[16-Dec-18 07:10 AM] jorian#4555
validateaddress is indeed one of the changes in btc 0.17


[16-Dec-18 07:10 AM] jl777c#5810
such practices gave us the removal of double spend prevention. since basically the entire point of blockchain is to prevent doublespend, this campaign of "optimizing" bitcoin is breaking everything


[16-Dec-18 07:11 AM] jl777c#5810
i guess the advantage is that nobody would understand the idiocy of such practices, so they wont get any heat over it and it allows them to be "in control"


[16-Dec-18 07:11 AM] jorian#4555
@siu building from source is piece of cake now, might be better to get that into your system


[16-Dec-18 07:12 AM] siu#3920
yeah, will do that. thanks.


[16-Dec-18 07:31 AM] ComputerGenie#7004
`building from source is piece of cake now`
heh deb8 is like pulling teeth to get the proper qt installed


[16-Dec-18 07:33 AM] jorian#4555
who needs qt when you have cli


[16-Dec-18 07:38 AM] ComputerGenie#7004
is there a `make --no-qt` that I missed?


[16-Dec-18 07:47 AM] jorian#4555
yes


[16-Dec-18 07:47 AM] jorian#4555
--without-gui


[16-Dec-18 07:47 AM] jorian#4555
or --with-gui=no


[16-Dec-18 07:47 AM] ComputerGenie#7004
üòé


[16-Dec-18 07:47 AM] jorian#4555
that's when you do configure


[20-Dec-18 05:04 AM] Prax_Professor#9328
Good morning, I can't log into hyperdex because it is saying unable to connect to marketmaker.  Please advise.


[20-Dec-18 05:17 AM] ComputerGenie#7004
@Prax_Professor try in #dex-hyperdex


[21-Dec-18 08:35 AM] bartwr#6773
I try to do this marketmaker call:

```coin: "KMD"
method:"sendrawtransaction"
signedtx:"01000000011725568d18633e8061e94b61a1b530ae15b18c28e68d8f1a11e3d98c0091a0bc000000006a4730440220630333479e454493e5cf9892ca7ef786187732849013647dcf8f01e4350bfe4e02207a052c15a4758dc93a6da533f4bd716caa8acedcc2674eaea213026d70516190012102c8324f56695193c78304702f164c72295a08c33e9496eaf1175a70d8152721fcffffffff0200c2eb0b000000001976a914a6d8f02eca1bc3e8d1e182f2683667a6459d45cd88ac8915af2f000000001976a9142bf3d2dc685b5cbe92bd7e60fe5364784867aca588ac050f1d5c"
userpass:"XX"```
, but get as response:

```{"jsonrpc":"2.0","error":{"code":1,"message":"the transaction was rejected by network rules.\n\n16: tx-overwinter-active\n```
I use the latest Linux marketmaker from here https://github.com/KomodoPlatform/BarterDEX/tree/dev/assets/bin/linux64

What could the reason be?

{Embed}
https://github.com/KomodoPlatform/BarterDEX/tree/dev/assets/bin/linux64
KomodoPlatform/BarterDEX
üìà BarterDEX: Decentralised Exchange and Cryptocurrency Market - KomodoPlatform/BarterDEX
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[21-Dec-18 08:37 AM] jl777c#5810
likely the komodoplatform repo has not been updated, that is a version 1 tx

{Reactions}
üëç 

[21-Dec-18 08:43 AM] bartwr#6773
So I don't have to update the marketmaker binary, but the transaction itself?


[21-Dec-18 08:45 AM] jl777c#5810
using the updated repo (mine or artems) will update the type of tx it makes


[21-Dec-18 08:46 AM] bartwr#6773
Ok. I have to get the `marketmaker` binary from your or artems repository. (I'm using the dicoapp-e repo atm). Thanks üòÉ


[21-Dec-18 08:52 AM] jl777c#5810
no binaries in my repo


[21-Dec-18 08:53 AM] jl777c#5810
use artems to build, i am not actively maintaining it, so better bet with artem


[21-Dec-18 09:08 AM] bartwr#6773
These binaries work great: https://github.com/artemii235/SuperNET/releases/tag/v1.0.1045 :]

{Embed}
https://github.com/artemii235/SuperNET/releases/tag/v1.0.1045
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[28-Dec-18 07:53 AM] bartwr#6773
I'm testing KMD/CC swaps.

In the last 5 hours I did 30 swaps, of which 3 swaps succeeded. 

One of the common errors is the following, of which cipi and I do not have an explanation for:

```Could not find tx out: 868ebfc6a614fd95faac5a799b0cda9c15b67f9a8fa6e58e69d70aa9472d422a 0
alice not eligible 3.50995533 -> dest 0.17602593 0.05015048 (0.18528519 0.00077831) 868ebfc6a614fd95faac5a799b0cda9c15b67f9a8fa6e58e69d70aa9472d422a/v0 3941c9be6be6da509b8a885a49bce9646959768741f105801413dcecf1327157/v1```
It's strange that this error exists, because the tx's it referencing have more than 300 confirmations already.

Does anyone know an explanation for this error? /cc @jl777c


[28-Dec-18 07:54 AM] jl777c#5810
which repo?


[28-Dec-18 07:58 AM] bartwr#6773
I use a dicoapp fork based on this one by particle4dev https://github.com/particle4dev/dicoapp-e, with some modifications added. This exact repo I'm using: https://github.com/CoinCollect/dicoapp-e

It seems the errors do not have anything to do with the client. It's updated to the latest marketmaker build by @artem.pikulin https://github.com/artemii235/SuperNET/releases and the coin config is defined so it uses the Sapling fork https://github.com/CoinCollect/dicoapp-e/commit/3399917329aa65b581ade6b5a0ac3cafb0274b28

{Embed}
https://github.com/CoinCollect/dicoapp-e
CoinCollect/dicoapp-e
CoinCollect dICO app - a SPV lightweight GUI wallet with barterDEX swap capabilities - CoinCollect/dicoapp-e
https://images-ext-2.discordapp.net/external/ZShQb1BU2QXF0LcYUJbxzNp5AxtxY6yWDSF7VXMq6_8/%3Fs%3D400%26v%3D4/https/avatars0.githubusercontent.com/u/42971229

{Embed}
https://github.com/artemii235/SuperNET/releases
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Embed}
https://github.com/CoinCollect/dicoapp-e/commit/3399917329aa65b581ade6b5a0ac3cafb0274b28
Updated tokenconfig so CC Sapling blocks are recognized ¬∑ CoinCol...
https://images-ext-1.discordapp.net/external/SzNkVxkarqA41FlpV6PazbAFL0ek-iRXTw1nJAk8HAw/%3Fs%3D200%26v%3D4/https/avatars3.githubusercontent.com/u/899234


[28-Dec-18 08:02 AM] bartwr#6773
Example logs of bob's marketmaker: https://pastebin.com/raw/01mFqUQb


[28-Dec-18 08:03 AM] bartwr#6773
Random other example: https://pastebin.com/raw/WiHHFBBJ


[28-Dec-18 08:03 AM] jl777c#5810
it seems the utxo might be locked?


[28-Dec-18 08:03 AM] jl777c#5810
i suggest to transition to mm2


[28-Dec-18 08:05 AM] bartwr#6773
In this example there's no locked UTXO:

```Could not find tx out: 1a910f3e14742561f37eddb67d56aa1a319269a91e681f75001a499a2f49c889 1
alice not eligible 9.18444177 -> dest 0.46306296 0.05041819 (0.63972243 0.25010000) 1a910f3e14742561f37eddb67d56aa1a319269a91e681f75001a499a2f49c889/v1 637a949d78bf13b03b5112cd068999ad456f9613b392476306655af7ab8ec6f5/v0```

It's this tx: https://kmdexplorer.io/tx/1a910f3e14742561f37eddb67d56aa1a319269a91e681f75001a499a2f49c889
and it has over 9000 confirmations. I'm not sure what it is, both cipi, barv and I can't find out..


[28-Dec-18 08:06 AM] bartwr#6773
__

> _i suggest to transition to mm2_

~~Is there a mm2 binary that I can use to replace the existing one?~~


[28-Dec-18 08:07 AM] bartwr#6773
~~Or do I have to build a binary, using the https://github.com/artemii235/SuperNET/tree/mm2-dice repo for example?~~

{Embed}
https://github.com/artemii235/SuperNET/tree/mm2-dice
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[28-Dec-18 08:08 AM] bartwr#6773
I see that I can build mm2 like this: https://github.com/artemii235/SuperNET/tree/mm2-dice#cmake-build-of-marketmaker-with-linked-etomic-lib-for-etherc20-atomic-swaps. **Is this the most recent mm2 repo?**

{Embed}
https://github.com/artemii235/SuperNET/tree/mm2-dice
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[28-Dec-18 08:31 AM] cipi#4502
i have another problem with v1.0.1045 on bob.... bob shows
`1 wait for bobdeposit bFQpRVkrZKGS12WiAbtPQpCg1odHU48BAk numconfs.3 CC fcb9707054baddf3307eaa051dabc0f10be38aa358dee13a95fae9ce2f21665e`
but this tx already has 10 confirmations: https://ccl.kmdexplorer.io/tx/fcb9707054baddf3307eaa051dabc0f10be38aa358dee13a95fae9ce2f21665e
and bob should be able to see it
```curl -s --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"getcoin\",\"coin\":\"CC\"}" | json_pp
{
   "result" : "success",
   "disabled" : 2,
   "coin" : {
      "installed" : true,
      "balance" : 284804.39839145,
      "wiftype" : 188,
      "txfee" : 1000,
      "smartaddress" : "RV6YDG8pe8EaqTFUSs41QUF5obm2rqZuBb",
      "rpc" : "127.0.0.1:20849",
      "coin" : "CC",
      "pubtype" : 60,
      "p2shtype" : 85,
      "KMDvalue" : 14240.21991957,
      "height" : 76000,
      "status" : "active"
   },```


[28-Dec-18 08:31 AM] cipi#4502
tx is included in block 75991 and bob shows `"height" : 76000`


[28-Dec-18 08:32 AM] cipi#4502
strange, the swap continues... it took more then 10 confirmations on bobdeposit before bob saw it


[28-Dec-18 08:33 AM] artem.pikulin#0794
MM2 is not really usable currently, it lacks ETH/ERC20 and Electrum support. New swap functions don't currently save the state of swap to filesystem so in case of abortion swap will be stuck. It's planned to finish ETH and Electrum support on next week. So I think we will have something testable in January. The guide  https://github.com/artemii235/SuperNET/tree/mm2-dice#cmake-build-of-marketmaker-with-linked-etomic-lib-for-etherc20-atomic-swaps is outdated.
Actually we have "old style ETH/ERC20/Electrum" nightly builds here: http://195.201.0.6/etomic/, however these might contain same issues as actual release build from my fork.

{Embed}
https://github.com/artemii235/SuperNET/tree/mm2-dice
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[28-Dec-18 08:34 AM] bartwr#6773
@artem.pikulin Thank you very much for all this information. Great to hear that it is so far already!


[28-Dec-18 08:36 AM] bartwr#6773
(if you have additions, please share. there can't be enough shared about mm2 )


[28-Dec-18 08:40 AM] artem.pikulin#0794
@bartwr You're welcome, just to be more clear: http://195.201.0.6/etomic/ - you can try the latest build from here, it was done `before` swap protocol refactor and ETH/Electrum support removal. Also some UTXO validation on order matching is removed in these so maybe `alice not eligible` won't happen. But anyway: `use at your own risk`.

{Reactions}
üëç 

[28-Dec-18 09:00 AM] cipi#4502
i think the problem that bob waits that long for bobdeposit is because of the changes to the "confirmations" field in komodod... it waits for a notarization... which is ok, but it means the swaps take 15 minutes to complete... a possible solution is modifying mm to look after "rawconfirmations" instead of "confirmations"

{Reactions}
üîç 

[28-Dec-18 09:31 AM] bartwr#6773
@artem.pikulin Do you maybe know why the _current_ marketmaker sais things like:

```Could not find tx out: 6ac750fa6eac02b33fd5edf51c84b83d6721a2648107fab20e9521825812c5c3 1
alice not eligible 25.71211893 -> dest 1.28794365 0.05009092 (1.29091002 0.02545044) 6ac750fa6eac02b33fd5edf51c84b83d6721a2648107fab20e9521825812c5c3/v1 0f71aba4266f890cc6c374ed3e3e82bc632c096a810780b271ba966d5c1ecb12/v1
quote CC/KMD validate error -3```
? I'm so curious... Can't find it.


[29-Dec-18 03:51 AM] artem.pikulin#0794
@bartwr Hi, the Bob doesn't recognize that Alice utxo is available for some reason. It's hard to say more without debugging, MM2 won't have this issue for sure because we're removing utxo selection/validation from ordermatching at all. How much time do you have to wait for MM2?


[30-Dec-18 01:21 AM] tolken#2655
I‚Äôll be here for testing Artem, can‚Äôt wait üòÉ

{Reactions}
üòÄ (3) 

[31-Dec-18 02:35 AM] bitcoinsfacil - pedro#0336
How many confirmations should i wait till smartaddress shows my balance?


[31-Dec-18 04:55 PM] PTYX#6840
It should show it after 1 confirmation.

{Reactions}
üëå 

[04-Jan-19 11:40 PM] bitcoinsfacil - pedro#0336
I am getting this error on barterdex testing an integration ```broadcast error.({"result":null,"error":{"code":-26,"message":"16: mandatory-script-verify-flag-failed (Signature must be zero for failed CHECK(MULTI)SIG operation)"},"id":"jl777"}
)```


[04-Jan-19 11:40 PM] bitcoinsfacil - pedro#0336
These transaction script malleability flags must be enforced for segwit and lightning network to function and are standard/mandatory on most coins already


[04-Jan-19 11:41 PM] bitcoinsfacil - pedro#0336
Am i looking at this wrong?


[04-Jan-19 11:57 PM] jl777c#5810
what coin? there is no segwit for komodo chains


[05-Jan-19 12:18 AM] bitcoinsfacil - pedro#0336
ECA and MYCE i am trying to integrate @jl777c they share a similar code from pivx


[05-Jan-19 12:19 AM] bitcoinsfacil - pedro#0336
It's the SCRIPT_VERIFY_NULLFAIL flag you can see enforced here
https://github.com/myceworld/myce/blob/cltv_csv/src/main.cpp#L1437

{Embed}
https://github.com/myceworld/myce/blob/cltv_csv/src/main.cpp
myceworld/myce
A blockchain enabled network built to hyper-connect token economies with people. - myceworld/myce
https://images-ext-1.discordapp.net/external/OMG9u174JdlGE-mOwtSXdx4htVTEjNbBqkOqIkh70oA/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/34510750


[05-Jan-19 12:20 AM] bitcoinsfacil - pedro#0336
This is the error i get while testing on atomic swap on barterdex >
https://github.com/myceworld/myce/blob/cltv_csv/src/script/script_error.cpp#L81

{Embed}
https://github.com/myceworld/myce/blob/cltv_csv/src/script/script_error.cpp
myceworld/myce
A blockchain enabled network built to hyper-connect token economies with people. - myceworld/myce
https://images-ext-1.discordapp.net/external/OMG9u174JdlGE-mOwtSXdx4htVTEjNbBqkOqIkh70oA/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/34510750


[05-Jan-19 01:15 AM] bitcoinsfacil - pedro#0336
@jl777c the error comes from the integrated coin not from komodo but those


[05-Jan-19 05:16 AM] Master Den#8523
@jl777c who can assist us on solving this issue which @bitcoinsfacil - pedro mentioned ?


[05-Jan-19 05:38 AM] SHossain#0007
@cipi


[05-Jan-19 06:40 AM] jl777c#5810
that one might require @artem.pikulin to solve

{Reactions}
üëçüèΩ (2) 

[05-Jan-19 06:42 AM] Master Den#8523
@bitcoinsfacil - pedro  ^^ üëÜ


[05-Jan-19 06:50 AM] bitcoinsfacil - pedro#0336
@artem.pikulin This is the official description of the script flag so it‚Äôs strange that komodo atomic swap script doesn‚Äôt comply with the latest implementation of bitcoin scripting


[05-Jan-19 06:55 AM] ComputerGenie#7004
That Myce fork of PIVX fork of Dash fork of Bitcoin doesn't work on given try x doesn't mean that "komodo atomic swap script doesn‚Äôt comply with the latest implementation of bitcoin scripting"


[05-Jan-19 06:55 AM] ComputerGenie#7004
it could be as simple as your wallet isn't properly signing the tx


[05-Jan-19 06:57 AM] bitcoinsfacil - pedro#0336
Don't get aroused @ComputerGenie I am not badmouthing komodo, not here to fight, just worded wrongly. Looking for to help and for help. Talked with @cipi a lot before raising this concern


[05-Jan-19 06:58 AM] ComputerGenie#7004
fwiw, I'm not saying you're wrong either, just saying that it could be any one of a bajillion things


[05-Jan-19 07:02 AM] bitcoinsfacil - pedro#0336
any specific pointer i could get @ComputerGenie or @artem.pikulin , Have you seen this appear before?


[05-Jan-19 07:02 AM] ComputerGenie#7004
I haven't, but I haven't used that breed


[05-Jan-19 07:04 AM] artem.pikulin#0794
@bitcoinsfacil - pedro Hi, Segwit is not supported currently, it's planned to support it in later in MM2 (but it's not a first priority task), it's enough to send standard P2SH outputs usually. I see this error for first time and suspect that MYCE is doing custom script validation that appears to be not backward-compatible. I'll need some time to debug this issue, going to do it when MM2 alpha is released.


[05-Jan-19 07:12 AM] bitcoinsfacil - pedro#0336
Thanks @artem.pikulin will look into this


[05-Jan-19 07:13 AM] Master Den#8523
@artem.pikulin when will the MM2 alpha released ? Any ETA ?


[05-Jan-19 07:22 AM] artem.pikulin#0794
@Master Den Hi, we don't have precise ETA, nightly builds with some parts rewritten in Rust are already available here: http://195.201.0.6/etomic/, however these do not differ a lot from MM1. I think we will have a version with significant changes in January (but it will be far away from being ready for production usage), it will include:
1. Libtorrent DHT as networking layer for swap.
2. New simplified swap protocol (no need for 212% for bob side).
3. No need for ETOMIC for ETH/ERC20 swaps.
4. Many other changes in codebase: less C, more Rust.
It won't have a lot of features of MM1 but basic trading functionality will be available.

{Reactions}
üòç (5) üíØ (5) üëçüèΩ (7) üëå (2) üëç (2) Komodo (3) shexy 

[07-Jan-19 12:20 PM] wbradt#2043
Where in the ResDEX code are messages from other nodes processed?


[11-Jan-19 12:18 AM] crypto999#4866
Hi, just checking if there is any update on MM2? Also, what do you mean by:

3) No need for ETOMIC for ETH/ERC20 swaps.


[11-Jan-19 07:14 AM] bartwr#6773
Q: Is it true that all order books are empty atm? I don't get an orderbook for any pair: not in BarterDEX, not in the dicoapp, and not via https://dexstats.info/ => "Orderbooks".

{Embed}
https://dexstats.info//
Dexstats Dashboard - BarterDEX and Komodo ECO System
Key Data and statistics for BarterDEX, KMD and the Komodo Eco System.


[11-Jan-19 08:04 AM] bartwr#6773
Right now the order books loads again. Still curious to why it didn't load. It looked like it was Komodo-wide


[11-Jan-19 08:11 AM] jl777c#5810
loads: https://dexstats.info/gui/index.php?base=SUPERNET&rel=KMD


[11-Jan-19 08:26 AM] bartwr#6773
Yes, it loads orders again. When I looked in the last half an hour, I did not get any orders on that same URL. Strange. I tried connecting from 4 different IP addresses & 4 apps that integrate the marketmaker. Good that ther're orders visible again - all good now!


[11-Jan-19 09:31 AM] CryptoNinjaa#5350
@crypto999 Check out this weeks tech Tuesday there is a MM 2.0 update there - https://www.komodoplatform.com/tt2019-2-microtransaction-lightning-poker-location-services/

{Embed}
https://www.komodoplatform.com/tt2019-2-microtransaction-lightning-poker-location-services/
Tech Tuesday Development Update - 2019 Week 2: Microtransaction Li...
Komodo Platform is starting a weekly briefing on the progress the Komodo Dev Team is making. It's called Tech Tuesday Update. Here's another update!
https://images-ext-1.discordapp.net/external/lDoHMPjUuEIeM53UMeE_JC1KTkF-EDULJJo882LMuvQ/https/www.komodoplatform.com/wp-content/uploads/2018/09/tech-tuesday-update.jpg


[11-Jan-19 10:24 AM] wbradt#2043
That post says "Some of the advanced features of MM1 will not be implemented during this phase but basic trading functionality will be available." What is meant by "advanced features"?


[11-Jan-19 12:14 PM] KomodoWorld#8282
I suppose things like security deposit for 0conf and some order options


[11-Jan-19 02:18 PM] hastrup#8742
https://www.userbenchmark.com/Software

{Embed}
https://www.userbenchmark.com/Software
UserBenchmark: PC Speed Test Tool - Compare Your PC
Free benchmarking software. Compare results with other users and see which parts you can upgrade together with the expected performance improvements.
https://images-ext-2.discordapp.net/external/1Yw1doNJ-sPA_Rp14dKo1ad3hl2i9-TAqNhS3eFgu9s/https/www.userbenchmark.com/resources/img/wri/bench-speed/bench-speed-150.png


[13-Jan-19 02:17 PM] Regnar#6164
Would it be feasible to integrate MM2 into OpenBazaar? They have crypto-crypto buying now, often through an escrow, and as a server it need to be up at all times. There are always listings which seems like there is always liquidity, so if they were running MM2, their users could skip escrow and use atomic swaps to buy, and HyperDEX and BarterDEX would have more liquidity by sharing their order books which gives users someone to trade with.


[13-Jan-19 02:17 PM] Regnar#6164
I don't know how technically difficult it would be to do something like this though


[13-Jan-19 02:37 PM] tolken#2655
Once mm2 is online, there won‚Äôt be much of a liquidity problem.@Regnar


[13-Jan-19 02:54 PM] cipi#4502
@tolken why do you think mm2 would make any difference regarding liquidity? My impression is that there is no liquidity because poeple are not willing/able to rent a server and install mm on it.


[13-Jan-19 02:57 PM] jl777c#5810
mm2 allows nodes behind a NAT to be bob


[13-Jan-19 02:59 PM] SHossain#0007
home users can be bob


[13-Jan-19 02:59 PM] SHossain#0007
no server needed


[13-Jan-19 02:59 PM] cipi#4502
ok, that's true... will be nice to see...


[13-Jan-19 02:59 PM] SHossain#0007
yep üòÉ


[13-Jan-19 03:00 PM] Regnar#6164
Even then, the stats look pretty good for OpenBazaar as a P2P marketplace and escrow makes sense for real world items, but it seems better to use something like mm2 for crypto to crypto (maybe eventually digital assets if that's in the future for us) and providing that service could be  good for liquidity and to help get KMD on their platform.
What I'm looking at for stats. <https://openbazaar.com/discover/stats>


[13-Jan-19 05:53 PM] tolken#2655
@cipi I ran mm for maybe 6 months or longer for virtually all combinations of btc/bch/kmd/eth/ltc/ had couple tokens in there too. Had enough in there for people to trade and was ready to add more. When it got to a point when there were literary days that went by when there was at best 1 trade on bdex followed by days of no trades, that‚Äôs a fairy good sign that liquidity isnt the primary issue. When you have kmd veterans asking to buy kmd otc instead of using bdex despite the fact that I‚Äôd tell them there was plenty in bdex,, liquidity isn‚Äôt the issue. Consistency and stability of trade completion is the primary barrier to adoption. Once that‚Äôs in place; everything else will follow. I only took mine down temporarily as I needed the funds elsewhere, but I plan to get it back up soon.

{Reactions}
üíØ 

[13-Jan-19 06:02 PM] ComputerGenie#7004
After, literally, having completed tens of thousands of swaps, I'd have to disagree with the claim that "trade completion is the primary barrier to adoption"


[13-Jan-19 06:03 PM] tolken#2655
Lots of beer and pizza, assetchain swaps..


[13-Jan-19 06:05 PM] tolken#2655
I‚Äôve completed all of the pairs listed above, but I‚Äôve witnessed many attempts and failures, and a lot of that echoed in HyperDex support. It just doesn‚Äôt work reliably enough yet. It isn‚Äôt difficult to use, it just doesn‚Äôt work consistently for most people.


[13-Jan-19 06:05 PM] ComputerGenie#7004
imo, "the primary barrier to adoption" is that people expect it to be and function in a manner that it isn't and will not
People mentally expect it to work like a CEX and since it doesn't they give up real quick


[13-Jan-19 06:06 PM] ComputerGenie#7004
HyperDex isn't BarterDEX and brings its own issues to the table


[13-Jan-19 06:07 PM] ComputerGenie#7004
and, for the record, only 5 of my swaps were ever BEER or PIZZA outside of the initial testing of them and those swaps weren't even in my count


[13-Jan-19 06:08 PM] ComputerGenie#7004
does mm1 have issues? yes
are those issues broadly related to trade *completion*? no


[13-Jan-19 06:52 PM] Deleted User#0000
Changing to a different networking layer will fix 90% of what Tolkien is talking about


[13-Jan-19 08:29 PM] artem.pikulin#0794
@crypto999 Hi, MM2 is in progress, by `3) No need for ETOMIC for ETH/ERC20 swaps.`I mean that ETOMIC won't participate anymore in ETH/ERC20 swaps. The ETOMIC is used in MM1 as proxy coin, it was the simplest way to integrate ETH as MM1 was designed taking into account UTXOs coins only. So in real there are 2 transactions happening when you swap BEER/ETH for example: ETOMIC transaction is sent first and then ETH/ERC20 with same hash/time lock parameters.


[13-Jan-19 08:34 PM] tolken#2655
@ComputerGenie Your experience was apparently different than mine. I agree, HyperDex came with its own  baggage, but using cli to manually trade was only moderately more successful during my use.  Maybe it‚Äôs what blakjokr eluded to regarding the network. It certainly wasn‚Äôt primarily because of liquidity, that‚Äôs the point I hope to make here.


[13-Jan-19 09:12 PM] Regnar#6164
To clarify here, more liquidity providers was what I was suggesting here in this channel when I asked if it was feasible to have OpenBazaar integrate MM2. But that's outside my expertise, I'm mostly considering the benefits of LPs, shared liquidity, access to their marketplace, KMD integration, marketing and interop elements. Just thought talking about that wouldn't be on topic for this channel.


[14-Jan-19 12:14 AM] jorian#4555
not to be picky, but this ```11:57 PM] jl777c: mm2 allows nodes behind a NAT to be bob
[11:59 PM] SHossain: home users can be bob
[11:59 PM] SHossain: no server needed```, especially what shossain said, was already possible in mm1


[14-Jan-19 12:14 AM] jorian#4555
only there was never a GUI for it to make it easy, other than the reference gui satinder made


[14-Jan-19 12:15 AM] jorian#4555
so mm2 can have a NAT and that's fine and all, but if there is no GUI, there will be less bobs.


[14-Jan-19 12:15 AM] jorian#4555
also bear market


[14-Jan-19 12:17 AM] jorian#4555
```People mentally expect it to work like a CEX and since it doesn't they give up real quick``` a CEX *always* works. if a DEX doesn't work 1/100, people give up and go back to CEX where it always works. In the end, we're talking about financial assets that we're trading. So either we need to educate the masses really well that a DEX might fail sometimes, or we make mm2 so reliable that it practically fails as often as a CEX


[14-Jan-19 06:06 AM] crypto999#4866
@artem.pikulin so for MM2 are ETH/EC20 not managed in a UTXO-dependent manner?


[15-Jan-19 03:53 AM] artem.pikulin#0794
@crypto999 Yes, the swap and coin interaction part is rewritten from scratch, we're getting rid of stric UTXO dependency in code. The goal is to ease the support on any coin independently on underlying technology. And it's  simply done by usage of Rust traits: https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/lp_coins.rs#L80, https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/lp_coins.rs#L161, https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/lp_coins.rs#L194. Particular implementation like UTXO coin or ETH need just to implement few functions and then it almost magically works for whole MM as top level code works with abstractions.

{Embed}
https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/lp_coins.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Embed}
https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/lp_coins.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Embed}
https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/lp_coins.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[15-Jan-19 05:35 AM] crypto999#4866
@artem.pikulin Does that go for the SHA256 coins - as in a move to a balance-based system overall, or just when using non-compatible coins?


[15-Jan-19 05:36 AM] artem.pikulin#0794
@crypto999 Excuse me, I didn't understand your question, how is SHA256 related to discussed topic?


[15-Jan-19 05:40 AM] crypto999#4866
Sorry, probably not explaining myself very well. I meant would MM (so BarterDEX) be using a balance-based system moving forward for all coins or still be UTXO-based for the likes of BTC/LTC/KMD (SHA256/Scrypt coins).


[15-Jan-19 05:46 AM] artem.pikulin#0794
@crypto999 MM2 will work with any coin supporting hash/timelocked transactions. It won't have strict UTXO dependency or balance-based dependency or something else. But for our convenience we use abstract `balance` e.g. for displaying purposes, etc. UTXO coins doesn't have `balance` in same meaning as ETH, but it can be easily calculated by summing address utxos amounts.


[15-Jan-19 05:49 AM] crypto999#4866
@artem.pikulin Thanks!!!


[15-Jan-19 07:03 AM] crypto999#4866
Is MM2 release still looking likely for January?


[15-Jan-19 07:40 AM] artem.pikulin#0794
@crypto999 Yes, please consider this as `very early` alpha that is safe to use with test coins like BEER and PIZZA only. The real production `release` will be much later.


[15-Jan-19 07:43 AM] crypto999#4866
Righty. Understand...


[16-Jan-19 12:03 AM] Mylo#8306
@jorian I think ‚Äúreliably‚Äù is the keyword for bob at home.  How many routers did you try ? üòú


[18-Jan-19 11:09 AM] wbradt#2043
@artem.pikulin You said MM2 "won't have strict UTXO dependency or balance-based dependency." Does this remove the need for UTXOs to match perfectly?


[18-Jan-19 11:11 AM] jl777c#5810
even in mm1 utxo dont have to match perfectly


[18-Jan-19 11:16 AM] wbradt#2043
ok. Will mm2 contain improvements for UTXO splitting?


[18-Jan-19 11:18 AM] jl777c#5810
yes


[19-Jan-19 02:14 AM] artem.pikulin#0794
@wbradt Hi, yes, there is no split in MM2 at all. It selects the UTXO right before sending the required transaction, example in code: https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/utxo.rs#L444, we first get the address unspents from RPC sorted in ascending order. Then we add the UTXO as input to spending transaction until we collect required output amount: https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/utxo.rs#L193. This way we're eager to `merge`utxos instead of split, the address can have single UTXO and trade without additional actions.

{Embed}
https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/utxo.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Embed}
https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/utxo.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Reactions}
üëç (6) ü§ò (2) shexy 

[22-Jan-19 11:33 AM] wbradt#2043
@artem.pikulin Does this mean that the size of the UTXOs in my wallet would not matter? i.e. Could I trade any amount of currency regardless of the sizes of my UTXOs?

Edit: I think this happens at (https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/utxo.rs#L209), right?

{Embed}
https://github.com/artemii235/SuperNET/blob/mm2-coins/mm2src/coins/utxo.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[22-Jan-19 11:40 AM] wbradt#2043
And will traders need to specify if they want to provide or take liquidity before they place a trade?


[22-Jan-19 09:18 PM] artem.pikulin#0794
@wbradt Hi, yes, it's correct, UTXO size doesn't matter, if the collected amount is bigger than required the difference will be transferred back to your address. Native wallets usually generate new `change` address for this purpose, but it's not possible in MM for now.


[22-Jan-19 09:19 PM] artem.pikulin#0794
`And will traders need to specify if they want to provide or take liquidity before they place a trade?` - it will work same as on CEX, e.g. if you put `good till cancelled` order that doesn't immediately match you automatically become `Liquidity Provider`.


[22-Jan-19 09:20 PM] artem.pikulin#0794
If you put an order that matches already existing then you're `Liquidity taker`.


[23-Jan-19 04:55 AM] CHMEX#0686
whoever owns the following addresses:
Address                                    AmountKMD    Count of Deposit
RQLn2QYwXDemFN3DNigU5qv3wUrA3WqquA    12003    3
RHV2As4rox97BuE3LK96vMeNY8VsGRTmBj    11032    5
RBMD5NeNajqxeRw3VeEX9jQmGGERHs26te    2000    1
RPGcUc2kLDwsTafv9T9PTRTKB2vh3KbxcT    1000    1

You have some KMD in 0conf deposits locked and can possibly claim it most are over 12 months old now so it no longer accrues Reward. Full List: dexstats.info/finddeposit.php


[23-Jan-19 05:02 AM] jorian#4555
that's quite some KMD


[23-Jan-19 05:07 AM] ComputerGenie#7004
that moment when you've got so much KMD that you don't even think about 12k on deposit....


[23-Jan-19 05:07 AM] SHossain#0007
i had slightly over 1000 locked in there. claimed them few weeks ago


[23-Jan-19 05:10 AM] jorian#4555
i think one of them is either cipi's or james' node


[23-Jan-19 05:11 AM] jorian#4555
the RQLn2QYwXDemFN3DNigU5qv3wUrA3WqquA one


[23-Jan-19 05:30 AM] cipi#4502
hmmm, i have RB8yufv3YTfdzYnwz5paNnnDynGJG6WsqD and RT9MpMyucqXiX8bZLimXBnrrn2ofmdGNKd on the running LPs... will have to look if it is from some older installations


[23-Jan-19 05:30 AM] jl777c#5810
RQL is mine


[23-Jan-19 05:38 AM] cipi#4502
i think RHV2As4rox97BuE3LK96vMeNY8VsGRTmBj is also yours


[23-Jan-19 05:39 AM] jl777c#5810
already claimed them.


[23-Jan-19 05:40 AM] cipi#4502
could not find RBMD5NeNajqxeRw3VeEX9jQmGGERHs26te and RPGcUc2kLDwsTafv9T9PTRTKB2vh3KbxcT in my docs... pretty sure they are not from me... i write down most of the stuff i do, especially addresses and their wif


[23-Jan-19 06:01 AM] jorian#4555
most pairs had always the same addresses, don't recognise the 2 you mentioned


[23-Jan-19 06:29 AM] wbradt#2043
@artem.pikulin Is "New simplified swap protocol (no need for 212.5% for maker)" in development?


[23-Jan-19 06:30 AM] artem.pikulin#0794
@wbradt It's already done, in testing now.

{Reactions}
üëå (2) 

[23-Jan-19 06:32 AM] wbradt#2043
Great!


[23-Jan-19 03:31 PM] Mylo#8306
@artem.pikulin is this statement true:
```
Marketmaker v2 is in alpha testing with nightly builds.  It removes the 7 step atomic swap design from v1 but remains backwards compatible with it.  Also removed is the need for >100% deposit to market make.
```


[23-Jan-19 08:35 PM] artem.pikulin#0794
@Mylo Hi, all true except `remains compatible`, MM2 is not backwards compatible with MM1, and not only swap protocol is incompatible.


[23-Jan-19 08:36 PM] Mylo#8306
OK. Thank you.


[24-Jan-19 08:36 AM] tolken#2655
Based on ca3333‚Äôs twitter posts on BarterDex 2.0, is it safe to say MM2.0 has moved well beyond porting 1.0 code? Seems like a lot of work has already been done to push it to the next level. @artem.pikulin


[24-Jan-19 10:30 AM] Mark81#4505
Where is mm2.0 taking place? Will there be public test?


[24-Jan-19 09:38 PM] artem.pikulin#0794
@tolken @Mark81 Yes, a lot of work has been done, many parts were ported/refactored/or even implemented from scratch. Please expect announcement very soon. It was said that MM2 early alpha would be available in January (for trading `test only` coins) and  we will keep the promise.

{Reactions}
ü§ò (8) 9756_AppJedi (5) shexy (6) 9176_pepelove (2) 6849_pepeold (2) 3040_suspepe (2) 

[24-Jan-19 10:34 PM] tolken#2655
Love it, so excited to see this coming along!!


[30-Jan-19 08:36 AM] crypto999#4866
Yes, end of January now - can wait to see what MM2 can do...


[30-Jan-19 12:32 PM] crypto999#4866
Can't*


[30-Jan-19 07:54 PM] tolken#2655
Almost end üòõ


[30-Jan-19 09:33 PM] artem.pikulin#0794
MM2 team is happy to announce that first stage of MM2 internal testing is finished and alpha is now live! It's still unsafe to trade assets with real market cost. Also we don't have the GUI for it yet so it's too early to announce `public` tests for the globe. We need to be sure that MM2 works correctly in different environments. Every computer/server is actually unique: OS version, installed updates and applications, different internet providers, etc. 
So we invite you to participate in `private` community testing! The only requirement is you are familiar with CLI and ready to provide detailed report if you find an issue. If you have only old Windows 7 laptop it's fine, we need to cover as more `real user` environments as possible. Your contribution will help to make MM2 `much` better and drive it to release faster. If you can't wait to start playing with MM2 please DM me, I will add you to special `MM2 community tester` group and instruct what to do next. Thanks in advance to everyone, we're doing our best for you!


[30-Jan-19 09:35 PM] artem.pikulin#0794
@tolken @crypto999 @Mark81 @mobipoi I've already added you to `MM2 community tester`. I'll contact you today to discuss what we'll do üôÇ

{Reactions}
üîú (6) üéâ (11) üëç (8) shexy (7) Komodo (7) 

[31-Jan-19 06:40 PM] tolken#2655
Nice!


[31-Jan-19 11:44 PM] Kiruel#2091
You can also add me if you want I can test on Mac os.

{Reactions}
üëå 

[04-Feb-19 05:52 AM] Meyse#0952
Is the "trust" function still in the new market maker? Or is this something separate?


[05-Feb-19 12:37 AM] artem.pikulin#0794
@Meyse Hi, `trust` and `zeroconf` swaps are not implemented in MM2 yet, we will work on it later. We're concentrating on basic trading functionality to work properly.

{Reactions}
üëç 

[05-Feb-19 10:24 AM] kmdstudent#8905
Hi @artem.pikulin could you let me know what libraries or dependancies are required in mm2 currently?


[05-Feb-19 10:26 AM] kmdstudent#8905
```
          /home/test/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.40/src/lib.rs:150: undefined reference to `SSL_library_init'
          /home/test/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.40/src/lib.rs:151: undefined reference to `SSL_load_error_strings'
          /home/test/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.40/src/lib.rs:152: undefined reference to `OPENSSL_add_all_algorithms_noconf'
          /home/test/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.40/src/lib.rs:154: undefined reference to `CRYPTO_num_locks'
          /home/test/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.40/src/lib.rs:164: undefined reference to `CRYPTO_set_locking_callback'
          collect2: error: ld returned 1 exit status
          

error: aborting due to previous error

error: Could not compile `mm2`.
```


[05-Feb-19 10:26 AM] kmdstudent#8905
I just got


[05-Feb-19 10:27 AM] kmdstudent#8905
It seems there are some issues with libcurl-openssl-dev... I installed `libcurl4-openssl-dev` Is that right version?


[05-Feb-19 11:21 PM] artem.pikulin#0794
@kmdstudent Hi, responded in DM.


[16-Feb-19 01:43 AM] CrisF#3405
Hi, can I use `wif` instead of `passphrase` in BarterDEX cli to generate the same address?


[16-Feb-19 02:01 AM] jl777c#5810
yes


[16-Feb-19 02:03 AM] CrisF#3405
Thank you.  
Is one method preferable to the other?
I'm having trouble with an extra space being added. Will try the `wif` and see if that helps.


[18-Feb-19 01:04 PM] at#4177
@artem.pikulin would like to help test mm sent you dm


[18-Feb-19 09:08 PM] PTYX#6840
@artem.pikulin can you add me as well please?


[22-Feb-19 11:48 AM] supermanblockchain#3870
hey @artem.pikulin! I see this answer from you earlier: 

```
artem.pikulin12/26/2018
@crypto999 Hi, swap protocol design discussions took place at 2015-2016: https://bitcointalk.org/index.php?topic=1340621.msg13828271#msg13828271, https://bitcointalk.org/index.php?topic=1364951 when there were just few coins with BIP65 (CLTV) support. The purpose was to allow one side of swap to send standard 2of2 multisig output so at least  Alice can swap the coin without CLTV.
Nowadays most coins have CLTV opcode support so swap protocol will be simplified in MM2, both payments will be hash/time locked outputs, Bob won't need 212% balance to trade anymore.
``` 

I understand about CLTV, but in an attack scenario I don't understand how this mitigates a Bob from "faking it" and accepting a bunch of trades but never filling them. In that scenario, wouldn't there be a bunch of Alice's doing "alicepayments" and locking their funds up when a malicious bob has no intention of actually sending his "bobpayment" (filling the order). This seems like it could cause a lot of trouble on the DEX, especially if a fake bob set a really low exchange rate which beat out other real bob's.


[22-Feb-19 11:48 AM] supermanblockchain#3870
asking again in here as suggested by @KomodoWorld


[22-Feb-19 11:55 AM] jl777c#5810
if bobs are ranked based on total trades completed and percentage, any such bad bob will quickly not get any trades


[22-Feb-19 11:58 AM] jl777c#5810
so it is similar to eBay. if you are a seller with no history, people wont be so eager to trade with you. if you have a bad history then they definitely wont want to trade. Another point is that the dexfee is not going to the bad bob, so this is for no direct economic gain, which means it is not incentivized to actively do this


[22-Feb-19 12:08 PM] supermanblockchain#3870
I see what you mean. But it seems like it would be possible  to programmatically spin up a bunch of bobs with fresh reputations, add orders to the order book with really good prices for every coin pair, and then trick every alice that is attempting a trade to lock their coins up. Would it make more sense to just lower bobdeposit so that it acts sort of like the alicefee in a "protect the network from spam" kind of way?


[22-Feb-19 12:22 PM] jl777c#5810
if the network is attacked by these evil bobs (who dont gain anything), then yes, bob side would need a dexfee to prevent this


[22-Feb-19 02:57 PM] applecider#7505
Yes sometimes people can act out event that seem to have no economical benefit to themselves, but on a different paradigm it might make sense like a competitor trying to cause disruption as their offensive cost is very low.    similar to why a male praying Manits choses to have sex with it eventual killer maybe it that good ,, at least on an evolutionary paradigm it nutrition for off spring production  .... just a rant ......


[22-Feb-19 02:58 PM] jl777c#5810
if it is a problem, we can add more fees, but I think having a historical ranking of pubkeys will be sufficient. it seems to work ok for eBay


[22-Feb-19 03:13 PM] applecider#7505
@jl777c what if that was the plan , (competitor using Game theory) ,  doing such knowing you will increase the fees  until  it much higher than they offer to gain lower fee advantage ,


[22-Feb-19 03:16 PM] jl777c#5810
well, the mm1 way of big bob deposit, people did not like and we did not get many bobs


[22-Feb-19 03:16 PM] jl777c#5810
so we need to try this more symmetric approach with feedbacks on bob history.


[22-Feb-19 03:17 PM] jl777c#5810
if people avoid those with no/bad history, it seems this annoyance attack wont even be so annoying


[22-Feb-19 03:17 PM] jl777c#5810
and alice can also use the KMD on deposit by the bob to rank desirability of bob


[22-Feb-19 03:17 PM] jl777c#5810
let us not make problems out of non-economic "attacks"


[22-Feb-19 03:19 PM] applecider#7505
aha yes  I digress although I think the rep ranking should be enough , people care a-lot about their reputation apparently one of the highest cause of suicide .


[22-Feb-19 03:21 PM] jl777c#5810
and yes, someone could create a lot of sybil accounts and trade with themselves to create a good ranking and then start the bad behavior. so with such an investment, then the annoying bob will get a few alices before their ranking starts to degrade


[22-Feb-19 03:21 PM] jl777c#5810
if they are doing it just 10% of the time, then it isnt that annoying and not much of an "attack"


[22-Feb-19 03:21 PM] jl777c#5810
i think it is very easy to overthink things and try to make it perfect. which is not achievable


[22-Feb-19 03:22 PM] jl777c#5810
what if someone just DDosed the entire internet to shut everything down?


[22-Feb-19 03:22 PM] jl777c#5810
sometimes with amplification attacks that is sort of what happened, but it cant be sustained for a long time and is very expensive. degrading a competitor is not direct revenue


[22-Feb-19 03:23 PM] jl777c#5810
and at first any DEX will be no threat at all


[22-Feb-19 03:23 PM] jl777c#5810
by the time DEX becomes a meaningful volume, then there is a history of good bob behavior that alices can rely on


[22-Feb-19 07:39 PM] Tylor zkFS#8280
Man.... i was just thinking some type of BASIC central device to control UTXOs in and out would be so eas sier.... if anon is anon then it shouldnt matter if there is a control is  there.....you are already storing your data on local host....until it is stored in KV.  . You are still not anon completely.... there is work to be done yet..... i think the buy sell orders could be moved to a more offline KV approch using CC and timelock approaches....if then goto... thats my 6 month theory ....use it


[23-Feb-19 01:58 AM] artem.pikulin#0794
@supermanblockchain Hi, in addition to the above comments: the purpose of swap protocol refactoring is to improve `user experience` (e.g. remove 212% for Bob). Actually `old` protocol had same issues, it didn't prevent order spamming from someone not planning to follow protocol at all. We should separate `atomic swap protocol` from such `security` discussions. From `security` point of view protocol must guarantee that if it's not followed properly both sides won't lose their funds and that's it. Detecting a malicious trader and banning him is responsibilty of other MM2 modules that `interact` with `atomic swap`. Think of it this way: if you implement server on top of `HTTP` protocol, the protocol itself doesn't protect you automagically from `HTTP flood`, it's responsibility of your application to detect and ban someone trying to send malicious requests (DDos or other attacks).


[23-Feb-19 05:52 AM] jl777c#5810
agreed


[24-Feb-19 06:22 PM] Tylor zkFS#8280
Damn it.


[25-Mar-19 01:23 AM] Monetashi#8770
Hi everybody, we are looking at barterdex technology, and the stats at https://dexstats.info/ are up to date. It seems that at the moment liquidity is pretty low, or are we missing something?


[25-Mar-19 01:24 AM] jl777c#5810
we are transitioning to mm2


[25-Mar-19 01:32 AM] Monetashi#8770
Understand @artem.pikulin could you add us to help testing the mm2?


[25-Mar-19 01:41 AM] jl777c#5810
thanks, when everybody that was maintaining mm1 nodes is actively testing mm2, well, priorities and all that. it would be possible to setup the various LP nodes, seed nodes, etc. and get mm1 up and running, but people seem to like an already running set of nodes to plug into


[25-Mar-19 06:03 AM] artem.pikulin#0794
@Monetashi Hi, please check DM.


[25-Mar-19 06:05 AM] Monetashi#8770
Check, just messaged you


[28-Mar-19 02:20 PM] ncjgkr#9875
@artem.pikulin would also like to help test mm2


[30-Mar-19 01:47 PM] Hollowman9000#3344
My chickens have started a #metoo movement


[30-Mar-19 01:47 PM] Hollowman9000#3344
Getting awfully ‚Äúfamiliar‚Äù out there


[30-Mar-19 01:47 PM] Hollowman9000#3344
Need help testing?  This needs to go live yesterday


[30-Mar-19 08:27 PM] jspook16#3059
I'm ready to test as well


[30-Mar-19 08:28 PM] jspook16#3059
Like ready ready


[31-Mar-19 03:32 PM] actionslacks#4072
so ready


[01-Apr-19 02:46 AM] artem.pikulin#0794
@ncjgkr @Hollowman9000 @jspook16 @actionslacks Hi, as of now we have a pool of tasks that should be done to start the public MM2 beta tests. We will invite you to participate in it towards summer, thank you for your interest in MM2!


[01-Apr-19 07:23 AM] jspook16#3059
Copy @artem.pikulin


[20-Apr-19 12:37 PM] Regnar#6164
Hey, I read that 0conf isn't supported in MM2, is that something that will eventually be implemented?


[21-Apr-19 04:33 PM] jspook16#3059
What?!


[21-Apr-19 05:43 PM] PTYX#6840
If it's not included there's probably a better solution.


[21-Apr-19 05:43 PM] PTYX#6840
Maybe the team is working on that


[22-Apr-19 04:47 AM] Mylo#8306
0conf probably come after release.   main apis first, then add the bells & whistles later once core stuff re-implemented in new framework and swapping exceeds original.


[22-Apr-19 05:27 AM] artem.pikulin#0794
@Regnar Hi, yes, 0conf is not supported in MM2 yet. @Mylo is right, we're working on basic features first. 0conf is advanced feature that should be added for sure, maybe it will be `completely` different from what it was before, we will see once we start adding this.

{Reactions}
üëç (3) 

[22-Apr-19 06:28 AM] Regnar#6164
Hopefully still tying optional value added services to KMD usage :)


[27-Apr-19 11:39 PM] AALEXJ#5233
I can see OTC transactions facilitated by exchanges becoming obsolete


[27-Apr-19 11:40 PM] AALEXJ#5233
Why pay them a fee for such a cumbersome processes


[27-Apr-19 11:44 PM] AALEXJ#5233
Barterdex transaction makes more sense

{Reactions}
üíØ 

[28-Apr-19 07:50 AM] Cryptoon#3362
I think that they are working on a type of OTC platform as well... I thought it was @KomodoWorld or @Deleted User working on that, can't remember


[28-Apr-19 07:51 AM] Deleted User#0000
not using MM here yet


[30-Apr-19 05:19 AM] AALEXJ#5233
Not sure why that would necessarily require separate platform


[30-Apr-19 05:20 AM] AALEXJ#5233
Is this fragmentation just on the frontend side or just differnt guis on the same underlying dex?


[30-Apr-19 05:21 AM] AALEXJ#5233
(my experience/knowledge of the dex is pretty much zero)


[30-Apr-19 05:23 AM] KomodoWorld#8282
@AALEXJ the MM engine wans't ready for the Barterlly use case, a direct trade required a vps with fixed ip and home users can't creat that on the fly. Maybe with MM 2.0 it will be possible to find a way. So dwy started with a web based service and will implement a direct p2p method in time, as the tech makes it possible


[30-Apr-19 05:29 AM] jl777c#5810
mm2 works with home users


[30-Apr-19 06:55 AM] mobipoi#5774
At least for now we have something as mm2 gui may take a long while, smart move , unless there is a release in may which I doubt


[30-Apr-19 08:17 AM] AALEXJ#5233
out of all the usd coins to trade on barterdex USDC (circle/coinbase) seems the most reasonable option


[30-Apr-19 08:21 AM] AALEXJ#5233
If you are going to plug into  legacy currencies you might as well do it with the backing of the largest financials institutions


[30-Apr-19 08:21 AM] AALEXJ#5233
Gemini has ridiculous fees


[30-Apr-19 08:23 AM] AALEXJ#5233
True USD has $10k minimums, fee information non existent on their website


[30-Apr-19 08:23 AM] AALEXJ#5233
tether is junk


[30-Apr-19 08:25 AM] AALEXJ#5233
Circle (USDC) has no deposit fees, withdrawal fees or maintenance fees, only $100 account minimum


[30-Apr-19 08:27 AM] AALEXJ#5233
and they have a trading desk on their platform


[30-Apr-19 08:30 AM] AALEXJ#5233
probably best option weighing up counter party risk


[30-Apr-19 08:32 AM] AALEXJ#5233
best option for institutional size participants and best option for the small fish


[30-Apr-19 09:15 AM] mobipoi#5774
All usd stable are fine so long as market decides


[30-Apr-19 09:38 AM] KomodoWorld#8282
I think most of them can be supported, and we'll soon have KSB from the Komodo ecosystem itself


[30-Apr-19 09:11 PM] AALEXJ#5233
The more USD stable coins supported the better

{Reactions}
üëç (2) 

[01-May-19 12:06 AM] artem.pikulin#0794
USDC is ERC20 token, it's supported even in MM1 and was tested some time ago. TrueUSD is also ERC20 token so it should supported by default.  GUSD is also ERC20 so should be supported without any modification (and even on MM1). So all mentioned  stable coins seem to be supported already. Are there any (popular) stable coins that `are not` ERC20? üôÇ


[01-May-19 12:12 AM] artem.pikulin#0794
P.S. USDT has both UTXO-based version and ERC20 - supported too.

{Reactions}
üíØ (3) 

[02-May-19 09:59 AM] wbradt#2043
What is the the best way to track the changes between MM1 and MM2?


[02-May-19 10:00 AM] jorian#4555
https://github.com/artemii235/SuperNET

{Embed}
https://github.com/artemii235/SuperNET
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[02-May-19 10:00 AM] jorian#4555
any update there is a change from mm1


[02-May-19 10:06 AM] wbradt#2043
Is there an upgraded version of the documentation? If not, is my only option to look through the code and GitHub issues to learn the differences?


[02-May-19 10:07 AM] Cryptoon#3362
For now yes, I think all documentation will be updated after most bugs/features are fixed/done


[02-May-19 10:24 AM] cipi#4502
the documentation of the API calls is here: https://github.com/KomodoPlatform/developer-docs/blob/mm/docs/basic-docs/atomic-swap-dex/dex-api.md

{Embed}
https://github.com/KomodoPlatform/developer-docs/blob/mm/docs/basic-docs/atomic-swap-dex/dex-api.md
KomodoPlatform/developer-docs
Contribute to KomodoPlatform/developer-docs development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[02-May-19 10:32 AM] wbradt#2043
Thank you @cipi! That seems to be exactly what I was looking for


[02-May-19 10:41 AM] phm87#7395
Thank you for the link. I added it in my list ^^


[20-May-19 10:33 AM] kenCode#4725
hey guys


[20-May-19 10:34 AM] kenCode#4725
i have a couple questions regarding htlc/accs


[20-May-19 10:35 AM] kenCode#4725
Q: is there a komodo/barterdex/hyperdex dev who would be willing to consult with a couple of the bitshares core devs on atomic swaps and transfers between your atomic order book and the bitshares one? HTLC on bitshares is live now and they are implementing the swaps and transfers stuff and uiux now, would be great to bridge the two communities and all of their currently supported coins (bitshares has over 2000 active assets atm). if so, could you please have them either ping me on telegram @kenCode, or join the @htlcbts telegram group? 
 
my job is with the palmpay point of sale systems and we want to connect to more/as many atomic order books as possible so the customers get the best possible pricing at the cash register. 
 
thanx in advance for any direction you guys can provide üòä

{Reactions}
üî• (3) 

[20-May-19 10:37 AM] jl777c#5810
@kenCode this sounds like a great initiative! contact @artem.pikulin he is the lead dev for barterDEX and is the best one to work out these details with


[20-May-19 10:38 AM] kenCode#4725
perfecto, thank you üòÉ


[20-May-19 10:39 AM] kenCode#4725
pinged him


[21-May-19 08:44 PM] jspook16#3059
great to see some action here


[23-May-19 09:52 AM] Jahan#6742
Hi guys üòÉ


[23-May-19 09:53 AM] Jahan#6742
Recently I learned about Komodo's atomic swap and since then I am looking for a clean and technical-level explaination of it. But I can not find anything.


[23-May-19 09:53 AM] Jahan#6742
Do you have any publicly available resources, such as academic papers or well explained blog posts?


[23-May-19 09:54 AM] Jahan#6742
(I am familiar with similar solutions like cosmos peg system or truebit doge-eth swap)


[23-May-19 09:55 AM] TcH√≥S | 0xnft#5683
Guys I could create a blockchain in the Komodo ecosystem with consensus (POS + Mastenodes)?


[23-May-19 09:56 AM] TcH√≥S | 0xnft#5683
....coin lock for rewards


[23-May-19 09:57 AM] jl777c#5810
https://www.youtube.com/watch?v=PeavTHz8LSA

{Embed}
Komodo Platform
https://www.youtube.com/watch?v=PeavTHz8LSA
Komodo Atomic Swaps Explained
Read Komodo's Ultimate Guide To Atomic Swaps here: https://komodoplatform.com/atomic-swaps/.
https://images-ext-2.discordapp.net/external/WZ8CrIRg8CpKZUGbjD8FnJZHwOxrxQKsY9g3eXKWuCU/https/i.ytimg.com/vi/PeavTHz8LSA/maxresdefault.jpg


[23-May-19 10:01 AM] Jahan#6742
@jl777c Thanks for sharing! 
Awesome high level explaination üòÑ


[23-May-19 10:01 AM] Jahan#6742
But still so much left for me to understand


[23-May-19 10:02 AM] Jahan#6742
For example who setups the addresses and how ?


[23-May-19 10:03 AM] jl777c#5810
both nodes setup a temp address


[23-May-19 10:03 AM] jl777c#5810
for themselves


[23-May-19 10:03 AM] jl777c#5810
and coordinate with the other node directly


[23-May-19 10:04 AM] Jahan#6742
So it's kind of multi-signature address with timelock ?


[23-May-19 10:07 AM] jl777c#5810
https://101blockchains.com/atomic-swaps/


[23-May-19 10:24 AM] Jahan#6742
thanks üòÉ


[25-May-19 05:21 AM] Lennart#9331
looking forward to MM2! üòÉ


[25-May-19 08:15 AM] jspook16#3059
Mobile dex is going into public beta next week. I signed up for the public beta testing, is there anything specific that the team wants? Or do we just trade as wanted and report bugs?


[26-May-19 03:34 AM] hyperDEX#6586
I wonder if there should be a competition or not üòõ


[26-May-19 03:37 AM] ComputerGenie#7004
only if there's a way for people with real phones and no micro-PCs to have a chance to win


[26-May-19 03:37 AM] ComputerGenie#7004
üòõ


[26-May-19 04:13 AM] hyperDEX#6586
Maybe we should just have a random drawing of users rather than most xyz


[26-May-19 04:13 AM] hyperDEX#6586
So like each trade is a ticket


[26-May-19 04:13 AM] hyperDEX#6586
So the more you do the better chances of winning


[26-May-19 04:30 AM] hastrup#8742
@hyperDEX that sound like a good idea üëç


[26-May-19 05:44 AM] Coin2stable#1872
Hello I have a question about the beta mobile Dex


[26-May-19 05:45 AM] Coin2stable#1872
Do you have to register to join the public beta, or will it be open ,


[26-May-19 05:46 AM] Coin2stable#1872
and which coins will be tradable , will there be stable coins allowed?


[26-May-19 05:46 AM] Coin2stable#1872
cheers


[26-May-19 05:56 AM] SHossain#0007
@Coin2stable check this https://discordapp.com/channels/412898016371015680/412915799251222539/581861351446675456


[26-May-19 05:56 AM] SHossain#0007
the latest post in #üì¢‚îÉannouncements announcement channel


[26-May-19 08:16 AM] Coin2stable#1872
we are a merchant company and looking to offer liquidity on the stable (tusd) coin side for the DEX ,


[26-May-19 08:22 AM] Coin2stable#1872
Thanks @SHossain


[26-May-19 08:28 AM] jspook16#3059
Is it a coincidence that bartelly is going into beta too?


[26-May-19 08:52 AM] ComputerGenie#7004
yes


[27-May-19 02:05 AM] Lennart#9331
are we now in "next week"? üòÉ


[27-May-19 02:06 AM] Lennart#9331
anyways I'll wait patiently


[27-May-19 05:50 AM] SadykovT#2123
next Tuesday üòâ


[27-May-19 08:25 PM] Mylo#8306
The more you do the more chances @hyperDEX ..... that‚Äôs a lot of tickets!
1+ month ago when I last tested the mobile dex, I was doing 3-5 swaps at the same time...always working.  It‚Äôs an impressive offering.  I think any competition will make >100k swaps in a week quite easily.


[28-May-19 03:02 AM] hyperDEX#6586
Im happy to donate to a prize pool


[28-May-19 03:05 AM] hyperDEX#6586
Will the beta only be for android users or will there be s desktop app too?


[28-May-19 07:54 AM] Mylo#8306
you gotta ask ca that, he's on top of that roadmap - i think hyperdex will be go-to desktop app for takers for a few months


[29-May-19 12:02 AM] jspook16#3059
Hyperdex will support mm2.0?


[29-May-19 12:33 AM] hyperDEX#6586
@jspook16 Eventually it will


[29-May-19 02:00 AM] KomodoWorld#8282
I've read in the past that mm2.0 has some abstraction layer that will make possible to add support for non-Bitcoin based coins. Are there more details about this? If a non-bitcoin based coin wants to start studying how to integrate, where to start?


[29-May-19 08:11 AM] jspook16#3059
@hyperDEX outstanding. I really like hyperdex


[29-May-19 09:22 PM] Mylo#8306
@KomodoWorld any particular coin you want to know?


[30-May-19 12:03 AM] KomodoWorld#8282
@Mylo I was thinking about a project still in the works: AVA that uses the new Avalanche consensus. It's still in testnet and I've read they haven't yet decided how to distribute the coins. It seems a good case for a dICO


[30-May-19 12:04 AM] KomodoWorld#8282
I can propose to send someone our way to enquire, I would like to have a little more to say


[30-May-19 12:17 AM] KomodoWorld#8282
https://avalabs.org/


[01-Jun-19 12:46 AM] Lennart#9331
hello I wanna be a tester


[01-Jun-19 12:50 AM] SHossain#0007
Please DM me your Google Play store associated gmail address and I'll add you to the list.


[01-Jun-19 08:53 AM] ncjgkr#9875
Hello, I would also like to be a tester


[01-Jun-19 11:48 AM] SHossain#0007
you are in the list


[02-Jun-19 01:26 AM] mrflibble#5320
Hi, can I be a tester please?


[02-Jun-19 01:36 AM] SHossain#0007
Please DM me your Google Play Store associated gmail address and I'll add you to the list.


[02-Jun-19 09:14 AM] jspook16#3059
@SHossain I sent @artem.pikulin  my info a while back. Are you working off the same list or do I need to send you my email as well?


[02-Jun-19 09:23 AM] SHossain#0007
Please DM me your Google Play Store associated gmail address


[02-Jun-19 09:23 AM] SHossain#0007
@jspook16 ^^


[02-Jun-19 09:27 AM] jspook16#3059
Done. Thank you


[02-Jun-19 09:29 AM] SHossain#0007
you will be invited


[08-Jun-19 03:58 PM] jspook16#3059
Were additional non-test coins added to atomixdex?


[10-Jun-19 08:51 PM] jacman#4756
Does this work with a hardware wallet?


[17-Jun-19 09:18 AM] wbradt#2043
Has the order matching algorithm been changed between MM1 and MM2? Specifically, my main concern with MM1's algo was an order could be filled by only one other trader. Is this changed or is there any plan to?


[17-Jun-19 09:23 AM] gcharang#6833
@wbradt this is the protocol:
```
A has BTC, B has KMD. They agreed on swap price `1 BTC = 100 KMD`

A is the maker, B is the taker.

1) B pays the dex fee so that A will start the process by locking his coins.

2)
A picks randomNumber: `secret_A`

A creates a utxo on the Bitcoin blockchain with 
value: 1 BTC 
encumbrance: the value can be claimed by A after 20 hours or by B if he knows the secret `secret_A`

3)
After seeing the above utxo, B creates the following utxo on the KMD blockchain:
value: 100 KMD
encumbrance: the value can be claimed by B after 10 hours or by A if he knows the secret `secret_A`

4)
When A takes the KMD, he reveals the secret `secret_A` which will allow B to claim BTC

The times can be adjusted based on requirements of security and "ease of use"

Normally, A should have a longer locktime so that B can have sufficient time to get his coins back if A don't reveal the secret `secret_A`
```

Ofcourse, once the order is matched and the swap starts, you will only be dealing with one other person


[17-Jun-19 10:06 AM] wbradt#2043
That doesn't answer my question


[17-Jun-19 10:06 AM] wbradt#2043
Rephrased, I am asking if in MM2, can 1 order lead to multiple swaps (each one with a different person)?


[17-Jun-19 09:06 PM] gcharang#6833
@wbradt 
before the order is matched, you can advertise the same coins in many different pairs
Ex: If you have 1 btc, you can have orders up for selling it for ETH, KMD, LTC etc., at the same time

but if any one of the orders is matched, the same BTC can't be used by anyone until the swap goes through or times out

```
 my main concern with MM1's algo was an order could be filled by only one other trader. Is this changed or is there any plan to?
```
honestly, I don't understand what you are asking for here


[17-Jun-19 09:29 PM] dan.#2473
i think hes asking, if he wants 1k kmd will it auto execute multiple swaps (if needed) to get 1k kmd


[17-Jun-19 09:30 PM] dan.#2473
i havent tried mm2 but if utxos are auto magic now i would guess its possible


[18-Jun-19 12:11 AM] Mylo#8306
Had to delete some msgs I wrote incorrectly.


[18-Jun-19 12:17 AM] Mylo#8306
Yes.  Multiple swaps to fill order.  Auto UTXO mgmt.


[18-Jun-19 12:18 AM] Mylo#8306
Mm2 does things a bit more like what a trader on a CEX is familiar.


[18-Jun-19 01:58 AM] artem.pikulin#0794
@wbradt Hi, MM2 still makes a little difference between taker and maker orders, so the order placed by `buy/sell` call is currently `fill` only (it's planned to change in near future). But if it's not matched in 30 seconds it's automatically changed to `maker` order which can be matched with several other orders until it's filled.


[18-Jun-19 01:58 AM] artem.pikulin#0794
Also you can still place the `maker-only` order by using `setprice` call.


[18-Jun-19 08:21 AM] wbradt#2043
@artem.pikulin Thanks! I guess that explains `impl Into<MakerOrder> for TakerOrder` (https://github.com/artemii235/SuperNET/blob/09b82076135f0bcfc05a364bd1b61d796e5cfa7e/mm2src/lp_ordermatch.rs#L148). I was hoping it was for this purpose.

{Embed}
https://github.com/artemii235/SuperNET/blob/09b82076135f0bcfc05a364bd1b61d796e5cfa7e/mm2src/lp_ordermatch.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[18-Jun-19 08:22 AM] wbradt#2043
Not well-versed in Rust so I wasn't able to easily understand when it is used.


[18-Jun-19 08:23 AM] artem.pikulin#0794
https://github.com/artemii235/SuperNET/blob/09b82076135f0bcfc05a364bd1b61d796e5cfa7e/mm2src/lp_ordermatch.rs#L320 - here, timed out and not matched taker's order is converted to maker one.

{Embed}
https://github.com/artemii235/SuperNET/blob/09b82076135f0bcfc05a364bd1b61d796e5cfa7e/mm2src/lp_ordermatch.rs
artemii235/SuperNET
Contribute to artemii235/SuperNET development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[18-Jun-19 08:24 AM] wbradt#2043
Thanks!


[18-Jun-19 08:24 AM] wbradt#2043
I guess another part of my question is: Can 1 taker order fill multiple maker orders?


[18-Jun-19 08:26 AM] artem.pikulin#0794
Not now, but it will be done for sure, this part is still inherited from MM1.


[18-Jun-19 08:45 AM] wbradt#2043
Thanks, really helpful!

{Reactions}
Komodo 

[19-Jun-19 10:08 AM] costa2439#3771
Hello, can I be a tester please?


[20-Jun-19 09:03 AM] costa2439#3771
@SHossain


[25-Jun-19 09:11 AM] wbradt#2043
Will the functionality described in this issue https://github.com/artemii235/SuperNET/issues/328 be similar to getendpoint from MM1's API? @artem.pikulin

{Embed}
https://github.com/artemii235/SuperNET/issues/328
Push swap status update events to client using Websocket endpoint ...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[25-Jun-19 09:12 AM] artem.pikulin#0794
@wbradt Hi, no, the MM2 API is very different already so when we implement a kind of push notifications from MM2 to GUI the messages format will be different.


[25-Jun-19 09:13 AM] wbradt#2043
Thanks


[25-Jun-19 12:36 PM] dan.#2473
has the networking improved in mm2? do Bobs still crap out after X Alice connections


[25-Jun-19 12:37 PM] dan.#2473
or is scale something yet to be tested


[25-Jun-19 12:47 PM] jl777c#5810
networking massively improved


[25-Jun-19 01:13 PM] dan.#2473
cool


[25-Jun-19 01:13 PM] jl777c#5810
they got even mobile to mobile swaps working


[25-Jun-19 01:14 PM] dan.#2473
is there a plan for the chicken and egg problem in terms of users?


[25-Jun-19 01:16 PM] jl777c#5810
all the recent regulations combined with easy to use GUI, i am more worried about handling the scaling


[25-Jun-19 01:16 PM] dan.#2473
are there are any other Mobile DEXs? Sorry for the plethora of questions


[25-Jun-19 01:16 PM] jl777c#5810
but we have tech in progress to handling arbitrary scaling


[25-Jun-19 01:17 PM] jl777c#5810
i am not aware of any other cross chain atomic swap mobile DEX


[25-Jun-19 01:17 PM] dan.#2473
thats interesting. that should not be understated then


[25-Jun-19 01:17 PM] dan.#2473
something gone mobile that is well executed, opens up a whole market


[25-Jun-19 01:18 PM] jl777c#5810
yes, we work hard on tech that can get actual usage


[26-Jun-19 08:12 AM] wbradt#2043
For the order_status response, will the keys of "matches" be the same as the elements of "started_swaps"? (For maker orders specifically)


[26-Jun-19 04:40 PM] Tylor zkFS#8280
Can I please test?


[27-Jun-19 01:02 AM] Oszy#5734
just a note from me, when building mm2 near the end or` cargo build`  
`cmake` it threw and error and halted for `-j 4` as unknown argument. 
it compiled without it fine.


[27-Jun-19 01:10 AM] gcharang#6833
`-j4` without spaces
tells the compiler number of threads to use (optional)


[27-Jun-19 01:16 AM] Oszy#5734
`-j 4` it was like that in the code from git


[27-Jun-19 01:16 AM] Oszy#5734
so that has to be changed then

{Reactions}
üëç 

[27-Jun-19 02:27 AM] Oszy#5734
params for MORTY chain same as RICK?


[27-Jun-19 02:31 AM] CHMEX#0686
Other than the name yes


[27-Jun-19 02:34 AM] Oszy#5734
ty


[27-Jun-19 05:01 AM] cipi#4502
all coin params should be here: https://github.com/jl777/coins/blob/master/coins
if not, make a PR

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[27-Jun-19 10:29 PM] artem.pikulin#0794
@wbradt `
For the order_status response, will the keys of "matches" be the same as the elements of "started_swaps"? (For maker orders specifically)` - yes, the keys of matches are same as `started_swaps` for now as swap uuid is equal to taker request uuid. But I think it won't be like this forever as we plan to allow partial match of taker order so we will have to use something different for swap uuid as current approach will produce same uuid for different swaps.

{Reactions}
üëå 

[27-Jun-19 10:30 PM] artem.pikulin#0794
So you shouldn't treat this like potential uuid of swap if order is matched successfully - it's uuid of `ongoing match` and that's it.


[28-Jun-19 11:06 AM] sindresorhus#8187
@artem.pikulin Do you plan to implement the `portfolio` endpoint (from mm v1) in the near future?


[29-Jun-19 05:25 AM] artem.pikulin#0794
@sindresorhus Hi, as of now it's not planned to implement it in near future and there's no ETA for it.


[29-Jun-19 08:09 AM] sindresorhus#8187
@artem.pikulin Is it possible to get the same data through other (maybe multiple) new mm v2 endpoints or would we have to implement our own Electrum communication?


[29-Jun-19 09:03 AM] artem.pikulin#0794
@sindresorhus Our goal is to prevent GUIs from directly accessing coin RPC as we can have many different coin protocols supported and these can have very different APIs. As starting point to replicate the old `portfolio` call you may use `my_balance` - https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#my_balance.

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[29-Jun-19 09:03 AM] artem.pikulin#0794
Also it's easy to add a call that will return all balances of enabled coins, but this call will take some time to run as MM2 will request the balance on demand from RPCs, caching is not implemented yet


[29-Jun-19 09:03 AM] artem.pikulin#0794
Could you please clarify what info do you require from portfolio?


[29-Jun-19 09:30 AM] sindresorhus#8187
We use the `portfolio` endpoint for the balance, and price for currencies not on Coingecko.


[29-Jun-19 09:33 AM] sindresorhus#8187
So the missing thing is to get an endpoint to get the price.


[29-Jun-19 09:47 AM] artem.pikulin#0794
So for coins not present on coingecko you need to get the exchange rate with some known coin (presumably BTC or KMD)? And it will be best price available on current orderbook, correct?


[29-Jun-19 09:48 AM] sindresorhus#8187
Yes, we currently use the `price` field here: https://github.com/KomodoPlatform/KomodoPlatform/wiki/BarterDEX-API-Summary-by-Category#portfolio

{Embed}
https://github.com/KomodoPlatform/KomodoPlatform/wiki/BarterDEX-API-Summary-by-Category
KomodoPlatform/KomodoPlatform
Contribute to KomodoPlatform/KomodoPlatform development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[29-Jun-19 09:49 AM] sindresorhus#8187
It would also be useful with an endpoint to get a list of the enabled currencies. We already have this locally, but there's a risk of the app getting out of sync with mm. Would be nice if mm could be the source of truth for that.


[29-Jun-19 09:49 AM] sindresorhus#8187
I'm happy to open issues for these suggestions if you want?


[29-Jun-19 09:49 AM] artem.pikulin#0794
Sure, let's start with this simple one, getting list of all enabled coins will be easy to add.


[29-Jun-19 09:53 AM] jl777c#5810
if mm2 isnt already getting prices externally, it seems to make more sense for the gui to be getting prices from external sites

{Reactions}
üíØ 

[29-Jun-19 09:53 AM] jl777c#5810
maybe the best orderbook price can be returned, but that wont necesarily be the best price


[29-Jun-19 09:55 AM] sindresorhus#8187
@jl777c What did mm v1 use as the basis for the `price` field for coins not on CMC/Coingecko?


[29-Jun-19 09:55 AM] jl777c#5810
it used internal prices


[29-Jun-19 09:55 AM] jl777c#5810
that is sees on the network


[29-Jun-19 09:56 AM] jl777c#5810
but that can be easily manipulated


[29-Jun-19 09:56 AM] jl777c#5810
i would suggest using an external reference


[29-Jun-19 09:58 AM] sindresorhus#8187
But we can't realistically hook up the app to separate APIs for each coin, so we have to use an API like Coingecko. So the result then is that we don't support prices for such coins.


[29-Jun-19 09:59 AM] jl777c#5810
it is hard to have a function that uses internal if external is not available?


[29-Jun-19 10:00 AM] sindresorhus#8187
That's what we already do. We use Coingecko whenever possible and fall back to the price given by mm.


[29-Jun-19 10:01 AM] artem.pikulin#0794
As I understand the main purpose is approximate estimation of total portfolio value in USD, for coin not present on CMC/Gecko we can add a kind of `bestprices` call that will return just best price if there're any orders.


[29-Jun-19 10:01 AM] artem.pikulin#0794
But also you can get this info from the corresponding `orderbook`.


[29-Jun-19 10:02 AM] sindresorhus#8187
@artem.pikulin Correct


[29-Jun-19 10:02 AM] sindresorhus#8187
A `bestprices` endpoint would be very useful.


[29-Jun-19 10:04 AM] artem.pikulin#0794
So is it like `bestprices(KMD)` to get the best prices of all enabled coins in pair with KMD?


[29-Jun-19 10:07 AM] sindresorhus#8187
Yes, the current API also returns the price relative to KMD.


[29-Jun-19 10:11 AM] sindresorhus#8187
I opened a couple of issues about these things.


[29-Jun-19 10:11 AM] sindresorhus#8187
Just wanted to say that the mm v2 is looking very good and it's super fast.


[29-Jun-19 10:13 AM] artem.pikulin#0794
Thanks! `enabled_coins` is very easy so will be done right after weekend, `bestprices` will require a bit more effort, but I guess I will have some time for this on next week.


[29-Jun-19 10:14 AM] sindresorhus#8187
Thanks üòÉ


[29-Jun-19 10:16 AM] sindresorhus#8187
@artem.pikulin Is `order_status` the correct endpoint to track updates for a swap? I'm trying to replace the mm v1 websocket code we have for tracking swap progress. Was not clear if it's that one or `my_swap_status` (what is the difference?)


[29-Jun-19 10:20 AM] artem.pikulin#0794
Swap is result of matching `the order`, so these are different entities. As of now if you're acting as `taker` there's really not that much differerence between order and swap. Taker request is `fill` only and swap uuid will be equal to uuid of the order - only 1 swap can start by matching the taker request.


[29-Jun-19 10:21 AM] sindresorhus#8187
Ok, thanks.


[29-Jun-19 10:21 AM] artem.pikulin#0794
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#response-maker-order - but maker order can already have multiple matches so you need to track the `order_status` at least to know  what swaps has been started by it.

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[29-Jun-19 10:23 AM] artem.pikulin#0794
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md - and also Taker order status response already has `matches` - we will allow taker order to partially match and start multiple swaps in the near future.

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[29-Jun-19 10:25 AM] sindresorhus#8187
So if I do a `buy` order, I get a response with a `uuid` back. I tried using that `uuid` for `order_status`, but the order is not found. I must be missing something.


[29-Jun-19 10:25 AM] artem.pikulin#0794
If the order is matched it's removed immediately, please try to call `my_swap_status` with same uuid.


[29-Jun-19 10:31 AM] artem.pikulin#0794
It's a bit tricky situation as of now, MM2 doesn't persist the order history yet, `order_status` returns the active order info, but if it's matched it's not active anymore.


[29-Jun-19 10:32 AM] artem.pikulin#0794
And it matches quite fast usually so yes, you might not have enough time to catch the `order_status` üôÇ


[29-Jun-19 10:34 AM] artem.pikulin#0794
But if it's not matched it will stay online for 30 seconds and then be recreated as maker order.


[29-Jun-19 10:34 AM] sindresorhus#8187
I see. So I cannot really rely on `order_status` then, since I have to be sure I catch it.


[29-Jun-19 10:35 AM] sindresorhus#8187
Is persistence of `order_status` something that will be implemented in the short term?


[29-Jun-19 10:36 AM] artem.pikulin#0794
Maybe after `enabled_coins` and `bestprices` üôÇ


[29-Jun-19 10:36 AM] sindresorhus#8187
Ok, thanks.


[29-Jun-19 10:42 AM] artem.pikulin#0794
We will have to persist the `order_history` sooner or later so it'll be done for sure. As of now you have to follow these steps: create order -> check order_status -> if there's no order check my_swap_status with same uuid -> if swap is not found there's something unexpected.


[29-Jun-19 10:43 AM] artem.pikulin#0794
Hopefully it doesn't add too much code.


[29-Jun-19 10:43 AM] sindresorhus#8187
Ok, thanks for talking me through this.


[29-Jun-19 10:45 AM] artem.pikulin#0794
You're welcome! I'm going offline now, please leave your questions here if needed, I will respond when I come back online.


[29-Jun-19 11:16 AM] ca333#0333
@sindresorhus check out `my_recent_swaps` - it is very reliable for order status tracking.


[01-Jul-19 11:31 AM] Solicitor Rick#8992
Guys, sorry if this is a noob question, but let's say I wanted to experiment with running mm2, where should I start? Can I even, before the Dex is officially out? 
Totally comfortable with CLI, just not sure where the latest & greatest information is at...


[01-Jul-19 11:33 AM] phm87#7395
I'm also interested to be Tester of mm2


[01-Jul-19 01:45 PM] Tylor zkFS#8280
MME2


[02-Jul-19 06:18 AM] sindresorhus#8187
@ca333 Thanks. I managed to get it working with that.

{Reactions}
üëç 

[04-Jul-19 08:57 AM] Rtg#7500
@SHossain Hello üëã,

I work with the Chaincoin community and one of our devs is interested in the new atomic api announced today. 

How can I get more information or documentation to share with them. They built our explorer and are looking to build atomic swap capabilities into the explorer.

Thanks for sharing and for building an open framework with shared liquidity!üí™üèªüëçüèª


[04-Jul-19 10:13 AM] SHossain#0007
@Rtg the API doc is available here https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[04-Jul-19 10:18 AM] Rtg#7500
Thanks @SHossain!


[04-Jul-19 12:22 PM] jajabanks#1894
how does one become a Markermarker for usdc on atomicdex


[04-Jul-19 12:27 PM] jorian#4555
<https://github.com/artemii235/SuperNET/> clone, build, start marketmaker, set price. that's it in a nutshell


[04-Jul-19 12:28 PM] jorian#4555
there's much more to it, we are soon releasing a GUI where you can be marketmaker


[04-Jul-19 12:30 PM] jajabanks#1894
when? @jorian and a guide for mac os will be appreciated if  you have a link thanks


[04-Jul-19 12:33 PM] jorian#4555
not an exact date yet, but it's a matter of weeks


[04-Jul-19 12:33 PM] jorian#4555
the readme of that repository i linked to has some information


[04-Jul-19 12:33 PM] jorian#4555
once you have done all that is in the readme, go read this: <https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md>


[04-Jul-19 12:33 PM] jajabanks#1894
ok thanks weeks meaning less than 4 weeks or it will be a month


[04-Jul-19 12:34 PM] jorian#4555
we're aiming this month, but no promises


[04-Jul-19 12:34 PM] jajabanks#1894
ok


[08-Jul-19 01:05 AM] sindresorhus#8187
@artem.pikulin I noticed the Linux build name has a shorter Git hash than Windows and macOS:

mm2-e31bd72-Linux.zip
mm2-e31bd721f-Windows_NT.zip
mm2-e31bd721f-Darwin.zip

At http://195.201.0.6/mm2/

Could you make them have the exact same hash? It's weird that they differ and it makes it slightly harder to make a build script that downloads them.


[08-Jul-19 03:10 AM] artem.pikulin#0794
@sindresorhus Hi, you may download the latest nightly by special links: http://195.201.0.6/mm2/mm2-latest-Linux.zip, http://195.201.0.6/mm2/mm2-latest-Darwin.zip, http://195.201.0.6/mm2/mm2-latest-Windows_NT.zip.


[08-Jul-19 03:10 AM] sindresorhus#8187
@artem.pikulin And for Linux and macOS build ZIP files, can you remove the directory nesting? `./target/debug/mm2` => `./mm2`?


[08-Jul-19 03:10 AM] sindresorhus#8187
We don't want the latest. We want to lock it to a tested version for reproducible builds.


[08-Jul-19 03:11 AM] sindresorhus#8187
We will have something like this in package.json to define the mm2 version to download at build-time:

```
"marketmaker": {
        "version": "e31bd721f",
        "hashes": {
            "macos": "a8e998a16faf3092ececacc525f34a1319cfea6a0d71a746d6dca6ae40d7ae875123963abe992bb2d95a7dd7e7a14e882ec53c3fcf1377dc1c190894759e3679",
            "linux": "e45a132cccf805e7f331c91f1e1b400a181494b0fbe351cabf9ec19e5ea0b496cd3738625f2b5bdf7df97756d68c6d9dd4f96a0f41f720294ec7d7625c57db78",
            "windows": "de2ac267dbda882d5a3024de615950d64e454d3fd6a9a668628013ff31032d2dda3f39e1606172347810415f4013f794e0d98896e3d79b92b62abd59b2cba941"
        }
    }
```


[08-Jul-19 03:12 AM] artem.pikulin#0794
The commit hash is received from `git rev-parse --short HEAD`, the git version on Linux CI agent is different so it provides shorter result.


[08-Jul-19 03:12 AM] sindresorhus#8187
I see


[08-Jul-19 03:15 AM] artem.pikulin#0794
I will set the `--short=9` explicitly so it will always provide same length commit hash, and ok, directory nesting will be removed too.


[08-Jul-19 03:16 AM] sindresorhus#8187
Thanks üòÉ


[08-Jul-19 03:16 AM] sindresorhus#8187
I could of course do it, but that means everyone will have to take into account those inconsistencies. Better to have it it done at the source.

{Reactions}
üëç 

[08-Jul-19 03:26 AM] artem.pikulin#0794
@sindresorhus http://195.201.0.6/mm2/ - done


[08-Jul-19 03:26 AM] artem.pikulin#0794

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/597735219533053974/unknown.png


[08-Jul-19 03:26 AM] artem.pikulin#0794

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/597735314886230036/unknown.png


[08-Jul-19 03:26 AM] artem.pikulin#0794

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/597735372222627840/unknown.png


[08-Jul-19 03:41 AM] sindresorhus#8187
@artem.pikulin Thanks. Works great.

{Reactions}
ü§ù 

[09-Jul-19 02:54 PM] daemonfox#6136
trying to launch this in Win10


[09-Jul-19 02:54 PM] daemonfox#6136
What is used for syntax to pass the launch args?


[09-Jul-19 02:55 PM] daemonfox#6136
Ive tried a few things but im not sure how it wants to accept args from win cmd line


[09-Jul-19 02:55 PM] daemonfox#6136
mm2.exe {"gui":"MM2GUI", "netid":9999, "userhome":"C:\Users\XXXX\AppData\Roaming\marketmaker", "passphrase":"12345", "rpc_password":"12345"}


[09-Jul-19 02:56 PM] daemonfox#6136
09 21:52:52, mm2:191] mm2:288] couldnt parse.({gui:MM2GUI,).key must be a string at line 1 column 2


[09-Jul-19 02:57 PM] daemonfox#6136
tried same as komodod using -arg=VALUE and tried pointing it to the app data dir with MM2.json and these values lik a komod conf file


[09-Jul-19 03:27 PM] daemonfox#6136
think i almost have it...


[09-Jul-19 03:46 PM] daemonfox#6136
cant get the userhome value to pass escapes


[09-Jul-19 04:38 PM] daemonfox#6136
\"userhome\":\"C:\Users\testuser\AppData\Roaming\marketmaker\"


[09-Jul-19 04:38 PM] daemonfox#6136
not sure what im doing wrong there... using the \"/${HOME#"/"}\" value it acts like it wants to start but says it cant find the COINS file


[09-Jul-19 04:39 PM] daemonfox#6136
Not sure what default directory it is looking for in Win10


[09-Jul-19 06:13 PM] artem.pikulin#0794
@daemonfox Hi, `it wants to start but says it cant find the COINS file` - https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html#setting-up-the-coin-list, MM2 looks for `coins` file in it's working dir. The recommended coins file to use is https://github.com/jl777/coins/blob/master/coins

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html
DEX Walkthrough | AtomicDEX Documentation
Documentation for developers building on AtomicDEX

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[09-Jul-19 06:15 PM] artem.pikulin#0794
Please try to download/copy this file and put it in MM2 directory.


[09-Jul-19 06:18 PM] artem.pikulin#0794
You may also remove the `userhome` arg from JSON, I think we will deprecate it soon.


[09-Jul-19 06:20 PM] artem.pikulin#0794
`tried same as komodod using -arg=VALUE and tried pointing it to the app data dir with MM2.json and these values lik a komod conf file` MM2 doesn't parse the command line arguments passed in `-arg=VALUE` way. Please also make sure that MM2.json file contains the `json`, komodo conf format is `ini` so this won't be accepted by MM2.


[09-Jul-19 06:29 PM] daemonfox#6136
without the userhome arg, where would the default directory be in Win10?


[09-Jul-19 06:37 PM] daemonfox#6136
omg... disregard its just dumb Windows "start in" related crap... once I moved to actually be in the directory instead of just launching with full path, it started just fine.


[09-Jul-19 06:43 PM] daemonfox#6136
SUCCESS! {"address":"RLE1WnJj9eggyZwhebVgRquywMGZEAR57t","balance":"0","coin":"RICK","result":"success"}

{Reactions}
Komodo 

[09-Jul-19 06:49 PM] artem.pikulin#0794
As I can see `userhome` arg is not really used now and should be deprecated. It was used only for `native` mode, but as of now MM2 will look for daemon config (like `komodo.conf`) in user home directory by default.


[09-Jul-19 08:02 PM] daemonfox#6136
Yes it appears my issue was working directory... oddly enough i can call mm2.exe help from any current directory in cmd... but to launch the actual running daemon in Win10 I had to cd to the folder with the coins file (which also held the binaries) and it launched just fine.


[11-Jul-19 08:20 AM] sindresorhus#8187
@artem.pikulin Is support for ETH/ERC20 in Electrum mode in mm v2 planned?


[11-Jul-19 08:31 AM] sindresorhus#8187
@artem.pikulin mmv1 had a `kickstart` endpoint. I assume that's not needed anymore? I noticed in mmv2 that when I quit during a swap, it automatically resumes when it's started again.


[11-Jul-19 08:45 AM] sindresorhus#8187
@artem.pikulin In mmv2 there's a `enable` endpoint, but the inverse is missing. Any plans to add a `disable` endpoint? (This was there in mmv1)


[11-Jul-19 09:43 AM] cipi#4502
`curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"enable\",\"coin\":\"ETH\",\"urls\":[\"http://eth1.cipig.net:8555\",\"http://eth2.cipig.net:8555\",\"http://eth3.cipig.net:8555\"],\"swap_contract_address\":\"0x8500AFc0bc5214728082163326C2FF0C73f4a871\",\"gas_station_url\":\"https://ethgasstation.info/json/ethgasAPI.json\"}"`


[11-Jul-19 09:45 AM] sindresorhus#8187
@cipi Can you explain that?


[11-Jul-19 09:45 AM] sindresorhus#8187
@cipi Regarding https://github.com/jl777/coins/commit/88a8de8cf2ae46b0ad35f35478056b2fdd8a2fbf, why was PIZZA and BEER removed in favor of MORTY? Having only one test currency means it's not actually possible to trade between two test currencies. And shouldn't https://www.atomicexplorer.com/#/faucet be updated?

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer


[11-Jul-19 09:46 AM] cipi#4502
that is the command to enable ETH, or any other ERC20 token


[11-Jul-19 09:47 AM] cipi#4502
we habe RICK and MORTY as testcoins, you can trade between the two, there are orderbook-entries


[11-Jul-19 09:47 AM] sindresorhus#8187
@cipi The mmv2 docs says it's not supported: https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
> Electrum mode is available for utxo-based coins only; this includes Bitcoin and Bitcoin-based forks. Electrum mode is not available for ETH/ERC20.

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[11-Jul-19 09:48 AM] cipi#4502
because electrum refers to coins, not ot erc20-tokens


[11-Jul-19 09:48 AM] sindresorhus#8187
Oh, ok. I misunderstood. So ETOMIC is not needed anymore?


[11-Jul-19 09:48 AM] cipi#4502
no, no ETOMIC needed


[11-Jul-19 09:51 AM] sindresorhus#8187
Great. Thanks üòÉ


[11-Jul-19 10:01 AM] sindresorhus#8187
@cipi Shouldn't https://www.atomicexplorer.com/#/faucet be updated to RICK and MORTY?

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer


[11-Jul-19 10:02 AM] cipi#4502
sure, but i don't know who is in charge, maybe @ca333


[11-Jul-19 10:02 AM] sindresorhus#8187
@cipi And are there any block explorers for RICK and MORTY?


[11-Jul-19 10:41 AM] cipi#4502
@sindresorhus https://rick.kmd.dev and https://morty.kmd.dev

{Embed}
https://rick.kmd.dev
Komodo Explorer
Komodo Insight. View detailed information on all komodo transactions and block. {{ $root.title + $root.titleDetail }}

{Embed}
https://morty.kmd.dev
Komodo Explorer
Komodo Insight. View detailed information on all komodo transactions and block. {{ $root.title + $root.titleDetail }}


[11-Jul-19 10:44 AM] SHossain#0007
@sindresorhus RICK & MORTY fauces are already there

{Reactions}
‚úÖ 

[11-Jul-19 10:44 AM] SHossain#0007
for both coins since the coin launch


[11-Jul-19 10:44 AM] SHossain#0007
https://www.atomicexplorer.com/#/faucet/morty
https://www.atomicexplorer.com/#/faucet/rick

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer


[11-Jul-19 10:47 AM] Tylor zkFS#8280
you replaced PIZZA and BEER with Rick and Morty?  nice!

{Reactions}
üëçüèº 

[11-Jul-19 02:52 PM] ca333#0333
as aforementioned by shossain we have explorers and faucets in place since the launch. dexstats.info is hosting explorers too: https://morty.explorer.dexstats.info/ and https://rick.explorer.dexstats.info/

{Embed}
https://morty.explorer.dexstats.info/
Komodo Explorer
Komodo Insight. View detailed information on all komodo transactions and block. {{ $root.title + $root.titleDetail }}

{Embed}
https://rick.explorer.dexstats.info/
Komodo Explorer
Komodo Insight. View detailed information on all komodo transactions and block. {{ $root.title + $root.titleDetail }}


[11-Jul-19 02:55 PM] phm87#7395
@ca333  I didn't suscribe yet to atomicDEX beta. The hardfork is in few days. Will have I the time to register after hardfork or is it more safe to register right now and try it after hardfork ?

{Reactions}
üëçüèº 

[11-Jul-19 02:56 PM] phm87#7395
(I began to read the API docs but I didn't register)


[11-Jul-19 03:20 PM] ca333#0333
no problem @phm87 feel free to sign up whenever you can - the earlier you register the sooner you will be invited to the beta program.


[11-Jul-19 07:02 PM] artem.pikulin#0794
@sindresorhus Hi!
` Is support for ETH/ERC20 in Electrum mode in mm v2 planned?` - as `cipi` explained electrum is not applicable to ETH/ERC20, and yes, there's no need for proxy tokens anymore.
`mmv1 had a kickstart endpoint. I assume that's not needed anymore? I noticed in mmv2 that when I quit during a swap, it automatically resumes when it's started again.` - yes, MM2 kickstarts swaps by itself upon restart, but it needs some help - coins should be enabled to continue the swaps, please call the https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#coins-needed-for-kick-start and enable the returned tickers asap on MM2 start.

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
DEX API | AtomicDEX Documentation
Documentation for developers building on AtomicDEX


[11-Jul-19 07:13 PM] artem.pikulin#0794
`In mmv2 there's a enable endpoint, but the inverse is missing. Any plans to add a disable endpoint? (This was there in mmv1)` - disabling a coin is possible, but will require some effort as we need to take account of following:
1. If there're ongoing swaps with coin the `disable` should be denied for sure.
2. If there're active orders using a coin, what should we do? Cancel them? Or deny `disable` till the orders explicitly canceled by user?


[11-Jul-19 10:00 PM] rainbro7#4735
Artem is pro


[12-Jul-19 03:38 AM] sindresorhus#8187
>  yes, MM2 kickstarts swaps by itself upon restart, but it needs some help - coins should be enabled to continue the swaps, please call the 

Thanks. Will do.


[12-Jul-19 03:39 AM] sindresorhus#8187
> 2. If there're active orders using a coin, what should we do? Cancel them? Or deny disable till the orders explicitly canceled by user?

I think the API should return an error explaining that there's an order in progress so the user needs to cancel that before disabling the coin.


[12-Jul-19 03:41 AM] sindresorhus#8187
I opened an issue for this: https://github.com/artemii235/SuperNET/issues/459

{Embed}
https://github.com/artemii235/SuperNET/issues/459
Add `disable` endpoint ¬∑ Issue #459 ¬∑ artemii235/SuperNET
Per discussion in Discord. disabling a coin is possible, but will require some effort as we need to take account of following: If there&#39;re ongoing swaps with coin the disable should be deni...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[12-Jul-19 03:45 AM] sindresorhus#8187
@artem.pikulin Is it possible to cancel a swap? I tried using the `cancel_order` endpoint using the swap UUID I got from `my_recent_swaps`, but I'm just getting an error:

> Order with uuid 02744126-bf1b-431b-bbae-f0cf397b1ee6 is not found

I assume there's a difference between a swap UUID and order UUID? But how do I convert between the two?

I also noticed `my_recent_swaps` is missing a `cancellable` property to indicate whether it can be cancelled. `my_orders` has this property. Is this intentional or just forgotten?


[12-Jul-19 03:54 AM] artem.pikulin#0794
Swap cancel is possible on some stages, it's possible to add RPC method to abort swap if it's not on critical stage, however it will require some effort and refactoring, I think it won't be implemented in near future.


[12-Jul-19 04:00 AM] artem.pikulin#0794
It's not very hard to cancel it on the node, but to provide good UX we should also notify the other node that we canceled the ongoing swap, because if we don't have such notification the user might think that app doesn't work and then maybe even submit a bug report about failed swap. And this part is not easy because we don't have such `canceled` notifications between swap participants.


[12-Jul-19 09:18 AM] sindresorhus#8187
@artem.pikulin Okey. So for what stages does `cancel_order` currently work? Does it work at all currently? I need to know what stages to disable the cancel button on a swap or if I need to just hide at all together for now.


[12-Jul-19 11:24 AM] artem.pikulin#0794
@sindresorhus Hi, `cancel_order` works when cancellable == true, which actually means that order is not being matched right now. Please note also that swap is not order, it's different entity - the result of matching the order with another order.  In your situation when you call `buy/sell` you create the `TakerOrder` that is getting matched and deleted immediately, created swap takes the uuid of the order (it will be changed in the future as current TakerOrder is always `fill`, but the goal is to allow multiple matches for TakerOrder).


[12-Jul-19 11:26 AM] artem.pikulin#0794
The MakerOrder is already allowed to have multiple matches, to track swaps created by this order please check https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#response-maker-order, it has 
```
"started_swaps":[
                "60aaacca-ed31-4633-9326-c9757ea4cf78"
            ],
```

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[12-Jul-19 11:27 AM] artem.pikulin#0794
To catch the `cancellable == true` with `buy/sell` you should create the order that is not matching to any existing in the orderbook, it will wait for 30 seconds and then it will be converted to MakerOrder.


[12-Jul-19 11:30 AM] artem.pikulin#0794
Summary: when you call `buy/sell` following happens:
1. TakerOrder is created.
2. If order is matched and filled swap is created. Swap takes the uuid of the order. Order is deleted.
3. If order is not matched it can be cancelled. If it's not matched and not cancelled in 30 seconds it's converted to MakerOrder.


[12-Jul-19 11:36 AM] artem.pikulin#0794
4. MakerOrder can be matched with several TakerOrders until it's filled. It might be not cancellable if it has unfinished match(es) - got matching TakerOrder, but swap is not started yet.


[12-Jul-19 10:27 PM] t0sma#0368
@CHMEX Is there an update of Atomic swap stats with the launch of AtomicDex? (mm2.0) on dexstats.info ?


[12-Jul-19 10:36 PM] CHMEX#0686
@t0sma To my knowledge mm2.0 does not provide an api atm to get the counts. It will be possible to show the orderbook and prices


[14-Jul-19 04:40 AM] t0sma#0368
OK. Thanks


[14-Jul-19 05:00 AM] michelvankessel#7656
Hello! I have a quick question and would like to know if someone knows the answer. I am from the Blackcoin community and we are listed on BarterDEX v1. We would like to know if we get listed on BarterDEX v2 or if we have to be added to the list (again).  the community noticed BLK not being present on this list - https://www.atomicexplorer.com/#/coins

{Embed}
https://www.atomicexplorer.com/
Atomic Explorer
Atomic Explorer


[14-Jul-19 07:39 AM] sindresorhus#8187
@artem.pikulin Thanks for elaborating. I don't think it's worth having a "Cancel" button in HyperDEX if it only works in such a narrow situation. I'll just hide the cancel buttons until https://github.com/artemii235/SuperNET/issues/463 is implemented at some point.

{Embed}
https://github.com/artemii235/SuperNET/issues/463
Add ability to cancel a swap at any non-critical step ¬∑ Issue #46...
Currently, the cancel_order endpoint is not very useful as it only really works if you&#39;re a maker and only for the first 30 seconds. Swap cancel is possible on some stages, it&#39;s pos...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[14-Jul-19 07:41 AM] sindresorhus#8187
> 2. If order is matched and filled swap is created. Swap takes the uuid of the order. Order is deleted.

@artem.pikulin#0794 I think it's awkward that the order is deleted right after being matched. The current way everything works feels a bit inconsistent. It would be nicer if an "order" existed from you do a buy/sell order all the way until it's done, no matter what. Will that be the case when https://github.com/artemii235/SuperNET/issues/451 is fixed?

{Embed}
https://github.com/artemii235/SuperNET/issues/451
Persist order history ¬∑ Issue #451 ¬∑ artemii235/SuperNET
Just opening this so I can track when it&#39;s implemented. It&#39;s a bit tricky situation as of now, MM2 doesn&#39;t persist the order history yet, order_status returns the active ord...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[14-Jul-19 07:57 AM] jorian#4555
@michelvankessel read this: https://github.com/jl777/coins

{Embed}
https://github.com/jl777/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[14-Jul-19 07:57 AM] jorian#4555
```{
    "coin": "BLK",
    "name": "lore",
    "fname": "Blackcoin",
    "isPoS": 1,
    "rpcport": 15715,
    "pubtype": 25,
    "p2shtype": 85,
    "wiftype": 153,
    "txfee": 100000
  },
```


[14-Jul-19 07:58 AM] jorian#4555
these are the coin parameters right now


[14-Jul-19 07:58 AM] jorian#4555
if you want to correct them, read the readme to try and test it yourself by changing the parameters to the correct ones if they are wrong. if you get a working swap, you can make a pull request to the repository to be added


[14-Jul-19 07:59 AM] jorian#4555
the AtomicDEX (beta) is a product from Komodo Platform, you'll need to talk to the platform team members to be added


[14-Jul-19 08:00 AM] jorian#4555
like any other GUI such as HyperDEX or Chainswap


[14-Jul-19 08:00 AM] jorian#4555
usually these GUIs use the coins repository for their coin parameters


[14-Jul-19 08:00 AM] michelvankessel#7656
@jorian thank you!


[14-Jul-19 08:01 AM] jorian#4555
üëç


[14-Jul-19 08:13 AM] sindresorhus#8187
@artem.pikulin I'm confused how to now enable a ETH/ERC20-based coin. The docs only says how to enable ETH.

I have this for the `enable` endpoint:

```
{
    method: 'enable',
    coin: 'MYTH',
    urls: [
        'http://eth1.cipig.net:8555',
        'http://eth2.cipig.net:8555',
        'http://eth3.cipig.net:8555',
    ],
    swap_contract_address: '0x8500AFc0bc5214728082163326C2FF0C73f4a871', // Swap smart contract on the ETH mainnet
    mm2: 1
}
```

Where do I put in the `MYTH` contract address? I'm clearly misunderstanding how this all works.

Here's the MYTH token: https://etherscan.io/token/0x277ab4b9dde09a8e710fd755deeb9d0d9532d047


[14-Jul-19 09:17 AM] cipi#4502
@sindresorhus the contract address is in the coins file: https://github.com/jl777/coins/blob/master/coins#L1260 (example for BAT)
every ERC20 coin on the ETH chain can be enabled with the same urls (`eth1-3.cipig.net:8555`)

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[14-Jul-19 09:58 AM] sindresorhus#8187
@cipi Thanks, that did it. I was fooled into thinking that didn't work initially as some tokens don't work at all: https://github.com/artemii235/SuperNET/issues/464

{Embed}
https://github.com/artemii235/SuperNET/issues/464
Can't enable some ETH/ERC20 coins ¬∑ Issue #464 ¬∑ artemii235/SuperNET
I get an error when I try to enable this ETH/ERC20 token: coins.js (passed to mm2): { coin: &#39;MYTH&#39;, name: &#39;Unicoin&#39;, decimals: 18, etomic: &#39;0x277ab4b9dde09a8...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[14-Jul-19 10:01 AM] cipi#4502
you need to use `0x277AB4b9DDE09A8E710fd755deeB9d0d9532d047` as MYTH contract address (some chars are upper case)


[14-Jul-19 10:02 AM] cipi#4502
take the value shown on the page https://etherscan.io/address/0x277ab4b9dde09a8e710fd755deeb9d0d9532d047 under `Contract` as contract address, not the address as in the URL


[14-Jul-19 10:05 AM] sindresorhus#8187
@cipi Then a lot of the coins in https://github.com/jl777/coins/blob/master/coins are incorrect too. Many of the ones I tested that failed are taken directly from there. For example: https://github.com/jl777/coins/blob/4ecd07f4991ce27eb067e3a025fc2fd593ea7f0f/coins#L1049-L1053

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559

{Embed}
https://github.com/jl777/coins/blob/4ecd07f4991ce27eb067e3a025fc2fd593ea7f0f/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[14-Jul-19 10:12 AM] sindresorhus#8187
@cipi https://github.com/jl777/coins/issues/332

{Embed}
https://github.com/jl777/coins/issues/332
Many of the `etomic` addresses are invalid ¬∑ Issue #332 ¬∑ jl777/...
They are in lowercase-only format, which means they&#39;re not checksummed, but mm2 requires checksummed smart contract addresses. For example: coins/coins Line 1052 in 4ecd07f &quot;etomic...
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[14-Jul-19 10:15 AM] cipi#4502
wen need to test all the coins that worked with mm1 again with mm2... if they are working, they get the setting `"mm2": 1` in the coins file, like in this PR: https://github.com/jl777/coins/commit/97fce4f0f15bed19cf705329985805574cfd59c6
if you find contract addressess that are not working, please make a PR to the above repo

{Embed}
https://github.com/jl777/coins/commit/97fce4f0f15bed19cf705329985805574cfd59c6
VIA is mm2 compatible ¬∑ jl777/coins@97fce4f
https://images-ext-1.discordapp.net/external/DEpA_yVWgnDGALxS6REG6mxdIdhRpohnMBi-sUxykW0/%3Fs%3D200%26v%3D4/https/avatars2.githubusercontent.com/u/32116761


[14-Jul-19 10:30 AM] sindresorhus#8187
@cipi I would argue this is unrelated. Testing all the coins is going to take forever. This can be fixed pretty easily. If there are lowercase addresses, they need to be changed to the checksummed one.


[14-Jul-19 10:38 AM] cipi#4502
sure, but you need to test the coins anyway before using them in mm2


[14-Jul-19 10:41 AM] cipi#4502
erc20 tokens can change contract address or move to own chain, or some are not working like in mm1, eg USDT... it needs to be tested


[14-Jul-19 10:41 AM] sindresorhus#8187
@cipi I'll do a PR with the smart contract fixes tomorrow.


[14-Jul-19 10:42 AM] sindresorhus#8187
@artem.pikulin Why is the `avevolume` property of the `orderbook` endpoint marked as deprecated? It's a useful property we use in HyperDEX. Any chance it could be kept?


[14-Jul-19 10:43 AM] cipi#4502
it was related to average size of the utxos and those are deprecated


[14-Jul-19 07:01 PM] artem.pikulin#0794
@sindresorhus Hi, the `cancel_order` endpoint goal is to cancel the not matched Order, not swap. Please do not mix these definitions as these are different entities - Order is orderbook record which might match with other order and then Swap will be created upon successful matching. https://github.com/artemii235/SuperNET/issues/463 - it works not only for first 30 seconds:
1. `buy/sell` creates TakerOrder, it stays alive 30 seconds if it's not filled. Then it's converted to MakerOrder. 30 seconds is not about cancelability, it's TakerOrder timeout.
2. MakerOrder then stays active until it's filled or cancelled. It might turn no `cancellable = false` if it's matching right now. But if it starts new swap and not completely filled it will stay active and become cancellable again.

{Embed}
https://github.com/artemii235/SuperNET/issues/463
Add ability to cancel a swap at any non-critical step ¬∑ Issue #46...
Currently, the cancel_order endpoint is not very useful as it only really works if you&#39;re a maker and only for the first 30 seconds. Swap cancel is possible on some stages, it&#39;s pos...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[14-Jul-19 07:10 PM] artem.pikulin#0794
As `cipi` mentioned `avevolume` doesn't make any sense now as it means `average utxo size` which is not applicable to MM2 at all. MM2 doesn't need UTXO splitting, it can work if address has only 1 UTXO. So this field will be removed.


[18-Jul-19 02:25 AM] sindresorhus#8187
@cipi https://github.com/jl777/coins/pull/333 üòÉ

{Embed}
https://github.com/jl777/coins/pull/333
Ensure all the `etomic` addresses are using their checksummed vers...
Fixes #332
// @cipig
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[18-Jul-19 03:02 AM] jansako#3330
Hi all, trying to set up an LP node on Ubuntu 18.04, downloaded the pre-compiled MM2. I think I have everything in the right place, but when I run the startup command stdbuf -oL ./mm2 "{\"gui\":...other stuf..., I get this:

mm2:160] mm2:192] expected value at line 1 column 1


[18-Jul-19 03:03 AM] jansako#3330
I set the password & passphrase correctly


[18-Jul-19 03:03 AM] jansako#3330
MLK if this is the wrong channel üòÉ


[18-Jul-19 03:04 AM] jl777c#5810
```"{\"gui\":...```


[18-Jul-19 03:04 AM] jansako#3330
just did not want to past e the whole line...


[18-Jul-19 03:04 AM] jansako#3330
I can


[18-Jul-19 03:04 AM] jl777c#5810
backslash in front of " ?


[18-Jul-19 03:05 AM] jansako#3330
sorry what? this is the exact command, without the passphrase:


[18-Jul-19 03:05 AM] jansako#3330
stdbuf -oL ./mm2 "{\"gui\":\"MM2GUI\",\"netid\":0, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"XXX\", \"rpc_password\":\"somethingelse\"}" &


[18-Jul-19 03:06 AM] jansako#3330
copy/pasted from here: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html#initiate-marketmaker-2-0

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html
DEX Walkthrough | AtomicDEX Documentation
Documentation for developers building on AtomicDEX


[18-Jul-19 03:08 AM] jansako#3330
I see what you are saying now @jl777c . Discord seems to strip the backslashes...


[18-Jul-19 03:10 AM] jansako#3330
any help would be appreciated! https://imgur.com/a/gBCVmGJ

{Embed}
https://imgur.com/a/gBCVmGJ
https://images-ext-1.discordapp.net/external/Iu9s-dQOOLgNnBFhmVyiPXkrA9ZJByniQ3QvUn99KLg/https/i.imgur.com/cQx6fHvh.jpg


[18-Jul-19 03:30 AM] jansako#3330
thanks @TonyL


[18-Jul-19 03:32 AM] TonyL#3577
it looks like this part of documentation is a little bit outdated and now MM2.json using config instead of CLI params.
Create MM2.json in same directory with mm2 binary with such content:
```
{
"gui":"MM2GUI",
"rpc_password":"yourpassword",
"rpcip":"127.0.0.1",
"netid":9999,
"userhome":"pathtoyourhomedir",
"passphrase":"yourseed",
"rpc_local_only":true
}
```


[18-Jul-19 03:33 AM] jansako#3330
OK


[18-Jul-19 03:33 AM] jansako#3330
what exactly does the userhome looks like? an example, if you have one


[18-Jul-19 03:34 AM] TonyL#3577
then launch mm2 just as `./mm2` or `stdbuf -oL ./mm2 &` if you want to issue calls in same terminal window


[18-Jul-19 03:35 AM] TonyL#3577
`what exactly does the userhome looks like? an example, if you have one`
you can check it by `echo $HOME`


[18-Jul-19 03:35 AM] TonyL#3577
or just specify `$HOME` as userhome field attribute


[18-Jul-19 03:35 AM] jansako#3330
üëç


[18-Jul-19 03:37 AM] smkhound#7640
@jansako I pushed this last night, should help CLI interaction with mm2 - https://github.com/smk762/pytomicDEX
Let me know if you run into any problems.

{Embed}
https://github.com/smk762/pytomicDEX
smk762/pytomicDEX
Contribute to smk762/pytomicDEX development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6xcX3Z50JaMIMuZ9mAXOpQv_L8FfDr-TLGFP0GMRbbU/%3Fs%3D400%26v%3D4/https/avatars3.githubusercontent.com/u/35845239


[18-Jul-19 03:39 AM] jansako#3330
Just put those files into the MM@ folder? Any dependencies? I only have an (updated) base install of 18.04


[18-Jul-19 03:40 AM] jansako#3330
@smkhound your MM2.json does not have the userhome, is that OK?


[18-Jul-19 03:41 AM] jansako#3330
or is the atomicDEX-cli supplying those?


[18-Jul-19 03:43 AM] smkhound#7640
worked for me testing, home is defined in the python. Not saying it might not be a problem, but not that I found yet.


[18-Jul-19 03:43 AM] jansako#3330
got it. THX!


[18-Jul-19 03:44 AM] smkhound#7640
it should give you messages if anything missing. as long as you have coins file, config and mm2 in that folder it should work


[18-Jul-19 03:44 AM] smkhound#7640
will need to install a few python things also probably.


[18-Jul-19 03:45 AM] smkhound#7640
requests / subprocess / json


[18-Jul-19 03:45 AM] smkhound#7640
some might be part of standard install. not yet tested on a fresh VPS


[18-Jul-19 03:46 AM] jansako#3330
the documentation is talking about the coins & userpass files being in different folders. is it OK to keep them together with mm2 now?


[18-Jul-19 03:46 AM] smkhound#7640
I run with all in same folder


[18-Jul-19 03:47 AM] smkhound#7640
Download mm2 binary from https://github.com/KomodoPlatform/atomicDEX-API/releases

"Use 'wget https://raw.githubusercontent.com/jl777/coins/master/coins' to download coins file

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/releases
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[18-Jul-19 03:47 AM] jansako#3330
OK, last one for now. If I run the coin daemon in Agama-verus SPV mode (because I like GUI), will that work, or do they all need to run native?


[18-Jul-19 03:48 AM] jansako#3330
I got the coins file, thanks!


[18-Jul-19 03:49 AM] smkhound#7640
theres a mm2coins.py file, which you can specify electrums for SPV, or specify 'native'
` 'activate_with':'electrum',`
or
` 'activate_with':'native',`


[18-Jul-19 03:49 AM] jansako#3330
thank you!


[18-Jul-19 03:50 AM] smkhound#7640
additional electrum params available here - https://github.com/jl777/coins/tree/master/electrums

{Embed}
https://github.com/jl777/coins/tree/master/electrums
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[18-Jul-19 03:50 AM] jansako#3330
I think I will stick with native for now.


[18-Jul-19 03:51 AM] smkhound#7640
for non-smartchains, might need to add `    "confpath": "USERHOME/.coin/coin.conf",` in `coins` file if not already there


[18-Jul-19 03:51 AM] smkhound#7640
let me know if problems, should be able to help


[18-Jul-19 03:51 AM] jansako#3330
üëç


[18-Jul-19 04:10 AM] jansako#3330
@smkhound this is a really silly question, but with your wrapper, can you skip the start of MM@ altogether? as in start with enabling coins right away?


[18-Jul-19 04:14 AM] smkhound#7640
use `./atomicDEX-cli start` üëçüèº


[18-Jul-19 04:16 AM] smkhound#7640
it logs the mm2 console output, you can tail it in another terminal window


[18-Jul-19 04:33 AM] jansako#3330
OK. having trouble enabling native coins. the mm2coins.py is all electrums. I edited it such:
'tag': 'DEX,
'api-id': 'DEX',
'min swap': 0.1,
'activate_with': 'native',
'rpcport': 11890


[18-Jul-19 04:34 AM] jansako#3330
getting a'connection refused'


[18-Jul-19 04:34 AM] jansako#3330
I have the rpc password set in the coin conf and


[18-Jul-19 04:34 AM] jansako#3330
in MM2.json


[18-Jul-19 04:35 AM] jansako#3330
do I need to set 'rpcuser' in the mm2coins.py as well?


[18-Jul-19 04:36 AM] smkhound#7640
I dont think so. I'll try a native on my end and see. Maybe need the userhome for that afterall


[18-Jul-19 04:37 AM] jansako#3330
where would it go? MM2.json?


[18-Jul-19 04:37 AM] smkhound#7640
`"userhome":"/home/smk762",
`


[18-Jul-19 04:49 AM] hyperDEX#6586
Great job @sindresorhus


[18-Jul-19 12:03 PM] CMaurice#1685
Is there any reason I shouldn't run this on a LABS NN? I guess I'd need to run kmd to another datadir


[19-Jul-19 01:43 AM] CMaurice#1685
disturbingly lightweight and unobtrusive so far


[19-Jul-19 02:39 AM] smkhound#7640
you can just use electrum too


[19-Jul-19 03:29 AM] jansako#3330
Hi all, having trouble starting MM2 on Ubuntu 18.04.  when issuing ./mm2, the result is:
"mm2:160] mm2:192] expected value at line 1 column 1"

My setup:
mm2 folder on the desktop of Ubuntu, contains coins, mm2 and MM2.json files.

Contents of MM2.json:
(not sure how to paste here so it looks like a code)

{
"gui":"MM2GUI",
"rpc_password":"yourpassword",
"rpcip":"127.0.0.1",
"netid":9999,
"userhome":"pathtoyourhomedir",
"passphrase":"yourseed",
"rpc_local_only":true
}


[19-Jul-19 03:30 AM] jansako#3330
userhome is set to "/home/a/"
password & passphrase are unique


[19-Jul-19 03:31 AM] jansako#3330
coins & mm2 files are dwnloaded form Github, I did not compile mm2.


[19-Jul-19 04:03 AM] artem.pikulin#0794
@jansako Hi, `coins` file was failed, to parse, please ensure that it contains valid json. How did you create the `coins` file?


[19-Jul-19 04:03 AM] jansako#3330
I did not, downloaded from   https://raw.githubusercontent.com/jl777/coins/master/coins


[19-Jul-19 04:04 AM] jansako#3330
ah... I see I think. I just copied the contents & pasted into a text file, then removed the TXT extension.


[19-Jul-19 04:05 AM] artem.pikulin#0794
You could occasionally add some white space upon copy-pasting so it's not valid json now.


[19-Jul-19 04:06 AM] artem.pikulin#0794
Please just `wget https://raw.githubusercontent.com/jl777/coins/master/coins` at MM2 dir and it should work. Have just worked for me.


[19-Jul-19 04:06 AM] jansako#3330
yess!

{Reactions}
KMD 

[19-Jul-19 04:07 AM] jansako#3330
I am so sorry @smkhound for wasting your time on this! (you did say use wget before) üò¶


[19-Jul-19 04:08 AM] smkhound#7640
lol, no worries mate, glad it sounds like you got it working


[19-Jul-19 04:08 AM] ComputerGenie#7004
`not sure how to paste here so it looks like a code`
\`\`\`
stuff
\`\`\`


[19-Jul-19 04:08 AM] jansako#3330
is everybody using the netid 9999 only, or is the default 0 active as well?


[19-Jul-19 04:08 AM] smkhound#7640
9999 is the testing netid


[19-Jul-19 04:09 AM] jansako#3330
```
Thanks @ComputerGenie üë¥üèºüì¢#7004 
```

{Reactions}
üëçüèΩ 

[19-Jul-19 04:09 AM] jansako#3330
üòÉ


[19-Jul-19 04:09 AM] smkhound#7640
you can use any, but might not see orders on the list otherwise


[19-Jul-19 04:09 AM] smkhound#7640
I'm using a custom one to trade with myself üòÉ


[19-Jul-19 04:09 AM] jansako#3330
right, that is what I am asking, where are the orders (where should I put them for people to see them)


[19-Jul-19 04:09 AM] smkhound#7640
I believe mobile app is using 9999 so most action would be there


[19-Jul-19 04:09 AM] jansako#3330
people = gen pop testers


[19-Jul-19 04:10 AM] jansako#3330
OK


[19-Jul-19 04:10 AM] ComputerGenie#7004
\`\`\`json
\`\`\`
will also give it formatted üòâ 
```json
{
"gui":"MM2GUI", 
"rpc_password":"yourpassword",
 "rpcip":"127.0.0.1",
 "netid":9999,
 "userhome":"pathtoyourhomedir",
 "passphrase":"yourseed",
 "rpc_local_only":true 
}
```


[19-Jul-19 04:11 AM] jansako#3330
now that is too much coder for me sir! I have my GUI jockey dignity...

{Reactions}
üòÑ 

[19-Jul-19 04:11 AM] ComputerGenie#7004
üòõ


[22-Jul-19 06:58 AM] gcharang#6833 (pinned)
@jansako https://docs.komodoplatform.com/mmV2/LP/walkthrough.html
if you still need it

{Embed}
https://docs.komodoplatform.com/mmV2/LP/walkthrough.html
Komodo Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-1.discordapp.net/external/Fs-vPlJfnb4W7WoJ0kvFpad_pzTAisgMJBd4-j5CIjE/https/raw.githubusercontent.com/KomodoPlatform/developer-docs/master/docs/.vuepress/public/KMD_Mark_Black.png


[22-Jul-19 07:01 AM] gcharang#6833
Pinned a message.


[22-Jul-19 09:07 AM] jansako#3330
thanks @gcharang, my node has been running (& making trades actually! üòÉ )since last week, thanks to smk762. 
The documentation is nice & clear. As a suggestion, I would include a 'best practices' section, with things like:
- placing multiple buys/sells on the same pair without auto-cancelling
- that it is OK to place an order with'the same coins' on multiple pairs (because they are not used up until the trade is initiated)
- security considerations (e.g. Firewalls etc)

that stuff would help not just end users but also devs making the GUI wrappers for MM2,


[22-Jul-19 09:12 AM] gcharang#6833
@jansako thanks for the suggestions.
will add these in the coming days


[22-Jul-19 09:16 AM] jansako#3330
!kmdtip @smkhound 10

{Reactions}
awthanks 

[22-Jul-19 09:16 AM] KMD TipBot#0077

{Embed}
TipBot
@jansako (jansako#3330)
You tipped @smkhound **10 KMD**


[23-Jul-19 04:02 AM] Mylo#8306
anyone know how to reduce a marketmaker2 docker image from 6GB?


[23-Jul-19 04:03 AM] Mylo#8306
@jansako thanks for those tips, will incorporate into some docs, cheers!!


[23-Jul-19 04:04 AM] Mylo#8306
!kmdtip @jansako 5


[23-Jul-19 04:04 AM] KMD TipBot#0077

{Embed}
TipBot
@Mylo (Mylo#8306)
You tipped @jansako **5 KMD**


[23-Jul-19 04:06 AM] jansako#3330
Thank you!


[23-Jul-19 02:38 PM] Jackieboy#4494
Hey guys, where can I find some debug outputs for mm2?

I have the output going to terminal but do not read anything worthwhile.

I am swapping 1 coin for another, the order is made and established, then a couple seconds later, the order disappears. The order is being made to myself if that makes a difference.


[23-Jul-19 03:01 PM] cipi#4502
`curl --url "http://127.0.0.1:7783" --data "{\"method\":\"my_swap_status\",\"params\":{\"uuid\":\"d14452bb-e82d-44a0-86b0-10d4cdcb8b24\"},\"userpass\":\"$userpass\"}"`
where `d14452bb-e82d-44a0-86b0-10d4cdcb8b24` should be replaced by the uuid of the swap you want to examine
more info: https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#my_swap_status

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[23-Jul-19 04:11 PM] Jackieboy#4494
Thanks @cipi I‚Äôll check it out


[24-Jul-19 09:12 AM] artemciy_dice#0049
@Mylo , to reduce the final image you can try removing the Rust compiler and source code (/root/.rustup, /mm2 and /root/.cargo) and build that image with `--squash`.


[24-Jul-19 09:14 AM] artemciy_dice#0049
If your Docker version doesn't have the `--squash` yet then you'll need to combine the RUN steps into a single RUN step, removing said paths at the end of it.


[24-Jul-19 09:18 AM] artemciy_dice#0049
https://docs.docker.com/develop/develop-images/multistage-build/ can also be used, returing to just the Ubuntu layer with the mm2 binary at the end.

{Embed}
https://docs.docker.com/develop/develop-images/multistage-build/
Use multi-stage builds
Multi-stage builds are a new feature requiring Docker 17.05 or higher on the daemon and client. Multistage builds are useful to anyone who has struggled to optimize Dockerfiles while keeping...
https://images-ext-1.discordapp.net/external/PCdDm6urnPkiAPvp45QDT_2Y3DllavgTjTRnm7_yg9w/https/docs.docker.com/favicons/docs%402x.ico


[24-Jul-19 10:26 AM] jansako#3330
Does anyone know if a 'setprice' will match another setprice order? Example: there is a maker order on the books selling 1 KMD for 1 BTC. If I post another setprice selling say 1.1 BTC for 1 KMD, will they match?


[24-Jul-19 10:26 AM] jl777c#5810
probably not


[24-Jul-19 10:27 AM] jansako#3330
so there will just be an arb opportunity for someone else?


[24-Jul-19 10:27 AM] jl777c#5810
probably


[24-Jul-19 10:27 AM] jl777c#5810
you would want to fill any such order first


[24-Jul-19 10:29 AM] jansako#3330
so you really want to do a buy/sell order first, and let it auto-convert if it does not fill?


[24-Jul-19 10:37 AM] jl777c#5810
seems so


[24-Jul-19 10:37 AM] jl777c#5810
unless you dont mind giving up some profits


[24-Jul-19 11:03 AM] jansako#3330
THX!


[24-Jul-19 11:14 AM] jansako#3330
A weird one: Why would one use the 'sell' over the 'buy' command? they both seem to do the same thing just with the opposite pair. I mean you can just swap the base pair and use only sell, or only buy. So what is the use case of one over another?


[24-Jul-19 11:17 AM] jl777c#5810
conveniences


[24-Jul-19 11:24 AM] jansako#3330
making a code more complex for the sake of convenience? does not sound like you... #just saying...


[24-Jul-19 11:25 AM] jl777c#5810
i didnt do the mm2


[24-Jul-19 11:26 AM] jl777c#5810
i remember having it just one way and making the other direction just invert it


[25-Jul-19 08:54 AM] jansako#3330
Hi folks. So I am watching the printout from MM2 as the swaps are running. (CLI tail on Ubuntu) It seems the time stamp is one hour off from my PC time. Does MM2 just use a specific time zone (looks like GMT?) for everyone or is it s configuration issue? I can see a possible issue if an application needs to keep track of swaps for tax purposes etc. (so the trades can be placed into the correct tax period in example) You don't want to put your profit cashing pout swap into an wrong tax year...


[25-Jul-19 08:54 AM] jl777c#5810
UTC


[25-Jul-19 08:54 AM] jl777c#5810
adjust your calcs for UTC


[25-Jul-19 09:00 AM] jansako#3330
so everyone in the world will trade in UTC?
THX!


[25-Jul-19 09:01 AM] jl777c#5810
no sense to add confusion with timezones, savings time, leap seconds, etc.

{Reactions}
‚òù 

[25-Jul-19 09:01 AM] jl777c#5810
your timezone is an issue local to your node


[25-Jul-19 09:02 AM] jl777c#5810
for global trading there needs to be some standard timestamp, unixtime, which is UTC


[25-Jul-19 09:02 AM] jansako#3330
that was not a complaint, just a clarification request. Pretty sure a smart GUI can compensate for it üòÉ


[25-Jul-19 09:03 AM] jansako#3330
By the way, really nice work on MM2. it has been running for a week nonstop, no hiccups like MM1!  Swaps are happening too!


[25-Jul-19 09:18 AM] jansako#3330
Question:
If I create a maker order with the 'max' parameter for the trade volume, will this adjust dynamically? As in if I place an order for both buy and sell side with a spread, will they 'dynamically refill each other' as swaps happen, or will MM2 just place an order with a fixed MAX depending on how much I have available at the moment??


[25-Jul-19 09:19 AM] jansako#3330
In other words, is the 'max' parameter a specific number set at the time of order creation, or 'max at the time a swap is being initiated'?


[25-Jul-19 09:22 AM] cipi#4502
atm, it uses the amount you have by the time the order is created, but there is already an issue open for this: https://github.com/KomodoPlatform/atomicDEX-API/issues/417
i personally update the orders every 30s, because prices change anyway, so it does not bother me :-)
when you call setprice again old orders are being deleted by default

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/417
Properly track the balance updates when using max:true for orders....
As of now MM2 doesn&#39;t track the balance updates when using &quot;max&quot;:true on setprice orders. It requests the balance once upon order creation and then if balance increases wo...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[25-Jul-19 09:26 AM] jansako#3330
Thanks cipi. What is the recommended max number of pairs running off of the same mm2? So far I only tried 3 'coins' + KMD, with a couple of orders on each pair, so 6 orders total...


[25-Jul-19 09:28 AM] jansako#3330
I know it can do much more, but how much more? (I am on a 100meg fibre network...)


[25-Jul-19 09:32 AM] cipi#4502
i don't know... i have over 50 coins/pairs active atm


[25-Jul-19 09:47 AM] jansako#3330
good enough! üòÉ


[25-Jul-19 09:49 AM] Mylo#8306
@artemciy_dice thanks, i found some good rust docker image size results.   from 6.25GB to 557MB.   yes, removing .cargo and using a temporary builld image
```
FROM ubuntu:18.04 as build
ENV BUILD_PACKAGES="build-essential git llvm-3.9-dev libclang-3.9-dev clang-3.9 cmake libssl-dev pkg-config jq curl"
RUN apt-get update && \
  apt-get install -y $BUILD_PACKAGES
RUN curl https://sh.rustup.rs -sSf | sh -s -- -y
RUN /bin/bash -c "source $HOME/.cargo/env && rustup install nightly-2019-06-26 && rustup default nightly-2019-06-26 && rustup component add rustfmt-preview"
RUN git clone https://github.com/KomodoPlatform/atomicDEX-API --branch mm2 --single-branch 
RUN cd atomicDEX-API && /bin/bash -c "source $HOME/.cargo/env && cargo build --features native -vv"


#RUN cd /atomicDEX-API/target/debug && wget https://raw.githubusercontent.com/jl777/coins/master/coins
#CMD ["/bin/bash"] 

#RUN rustup install nightly-2019-06-26
#RUN rustup default nightly-2019-06-26
#RUN rustup component add rustfmt-preview

FROM ubuntu:18.04
RUN apt-get update && \
  apt-get install -y git jq wget curl nano
#RUN git clone https://github.com/KomodoPlatform/atomicDEX-API --branch mm2 --single-branch 
#RUN mkdir -p /atomicDEX-API/target/debug && cd /atomicDEX-API/target/debug && wget https://raw.githubusercontent.com/jl777/coins/master/coins
RUN cd /usr/local/bin && wget https://raw.githubusercontent.com/jl777/coins/master/coins
COPY --from=build /atomicDEX-API/target/debug/mm2 /usr/local/bin
COPY /scripts/* /usr/local/bin/
COPY /scripts/userpass.txt /
CMD ["/bin/bash"] 
```

{Reactions}
üëç 

[25-Jul-19 09:49 AM] jl777c#5810
1BTC of liquidity can act as 50BTC


[25-Jul-19 10:04 AM] artemciy_dice#0049
We have two kind of logs, GUI logs, intended for the user (our UI doesn't share them yet, but I keep hoping that it will), and debugging logs which are not intended for end users, but should be shared with the developers when things go rogue. The GUI logs are using the local time ( https://github.com/KomodoPlatform/atomicDEX-API/blob/a5b1d5776428ddc254cc1c3a0baf24bea6abe293/mm2src/common/log.rs#L295 ) but the debugging logs are using the UTC ( https://github.com/KomodoPlatform/atomicDEX-API/blob/a5b1d5776428ddc254cc1c3a0baf24bea6abe293/mm2src/common/log.rs#L168 ) in order for the devs to make sense of when the things have actually happened.

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/a5b1d5776428ddc254cc1c3a0baf24bea6abe293/mm2src/common/log.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/a5b1d5776428ddc254cc1c3a0baf24bea6abe293/mm2src/common/log.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[25-Jul-19 07:22 PM] hyperDEX#6586
@dcprevere you might be interested in this channel


[26-Jul-19 09:33 AM] wbradt#2043
From the mm2 DEX API docs (https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#my_recent_swaps) I had assumed that after an ‚Äúerror event‚Äù occurs, a swap fails. Yesterday I was looking at lp_swap.rs and found that swaps seem to be able to recover after an error event  (https://github.com/KomodoPlatform/atomicDEX-API/blob/a5b1d5776428ddc254cc1c3a0baf24bea6abe293/mm2src/lp_swap.rs#L622). Could someone explain the "save swap" process to me? Do any error events prevent the swap from being saved? Does the swap uuid change? Is the last event (even after an error) in my_swap_status always "Finished"?

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/a5b1d5776428ddc254cc1c3a0baf24bea6abe293/mm2src/lp_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[26-Jul-19 03:29 PM] hyperDEX#6586
@artemciy_dice


[26-Jul-19 03:45 PM] artemciy_dice#0049
Thanks for the ping, @hyperDEX.

> and found that swaps seem to be able to recover after an error event

I might very well be mistaken, but I don't see how this follows from the link. `SavedSwap` is used to continue with the SWAP after the MarketMaker was stopped. This might be particularly useful on mobile, where the operating systems are free to kick us out whenever, and the ability to continue with the SWAP gives us a chance to finish it when the user returns to the app.


[26-Jul-19 03:49 PM] artemciy_dice#0049
---
`> Do any error events prevent the swap from being saved?`

I think not. Events are serialized regardless of whether they are good or bad.

`> Does the swap uuid change?`

No.

`> Is the last event (even after an error) in my_swap_status always "Finished"?`

It should be, though it might be finished with error.
If the SWAP is never finished, it might indicate a condition we don't know how to handle yet, or a bug.

{Reactions}
üëç (2) 

[27-Jul-19 08:18 PM] allbits#5898
Noob alert! I successfully completed a Rick and Morty swap via cli following the fine documentation of "AtomicDEX Walkthrough". I'll note that, following instructions, the marketmaker is installed in ~/atomicDEX-API, but the documentation makes a few references to commands to be issued in ~/komodoplatform.  This ought to be changed.

{Reactions}
KMD üëå 

[27-Jul-19 10:00 PM] allbits#5898
Update: I followed the API page and was able to successfully enable real coins, and to set up bobs.  Thanks for the great documentation.  Fyi, on the setprice API, in the #Command (with volume), I believe you are missing a close quote (") at the end of the line


[28-Jul-19 03:37 AM] Angelina#6231
@allbits thanks for the feedback. We're on it üôÇ


[28-Jul-19 05:19 AM] gcharang#6833
@allbits can you tell us where it refers to `~/komodoplatform` ?


[28-Jul-19 06:38 AM] allbits#5898
Hmmm I don't see it there anymore. All looks fine to me now

{Reactions}
üëç 

[28-Jul-19 12:55 PM] wbradt#2043
@artemciy_dice You're right, I misunderstood the meaning of "SavedSwap." Looking over the code again, it seems that after an error occurs, the "Finished" event is saved (as you said).

{Reactions}
rum 

[30-Jul-19 01:05 AM] jansako#3330
Morning folks.  I would like a bit of clarification on two scenarios:
1. orders appear to persist on the books when MM2 is stopped and restarted. I see this with the CLI and the Chainmakers app. 
- set a 'setprice' order
- issue the 'mm2 stop' command, see the confirmation
- wait a while, issue MM2 start order
- check orderbooks, the original order is still there.
Questions 
- is this expected?
- if yes, how to properly clear orders from the orderbook? 
- are these orders fillable?
- If we get people creating orders, then shutting down their MM2 (using AtomicDex, i.e.), we will have a ton of garbage orders in the books with no way of knowing which ones are real


[30-Jul-19 01:08 AM] TonyL#3577
Hello @jansako ! Yes, it's expected behaviour that mm2 recreating orders on startup and these orders are fillable as long as your maker is online.
To clear orders:
cancelling all orders: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#cancel-all-orders
cancelling specific order: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#cancel-all-orders

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
DEX API | AtomicDEX Documentation
Documentation for developers building on AtomicDEX


[30-Jul-19 01:09 AM] jansako#3330
OK. Will the order disappear from the books if your MM is shut down?


[30-Jul-19 01:10 AM] TonyL#3577
Yes, it should dissapear I think. If you can test this case and share the results it would be very great contribution


[30-Jul-19 01:11 AM] jansako#3330
I will try. Thank you!


[30-Jul-19 01:17 AM] jansako#3330
Second scenario:
- have 100KMD
- create two setprice orders for to buy two different coins for 99.9 KMD each
- one order is filled, now my KMD balance is 0.01 (less tx fees), but I still have a buy order on the other coin for 99.9 KMD
- the second order is now not fillable (cause I have no balance), but still shows on the books (so it is a 'fake' or 'dummy' order)

Q: what is the expected behavior of MM2 in this case?


[30-Jul-19 01:18 AM] TonyL#3577
This trade will fail on maker transaction sending


[30-Jul-19 01:19 AM] jansako#3330
that is what I thought. a larger number of these will cause user experience issues because the users will not know why orders are failing etc...


[30-Jul-19 01:19 AM] jansako#3330
Doo you know if this is being addressed on the dev side?


[30-Jul-19 01:20 AM] TonyL#3577
```- create two setprice orders for to buy two different coins for 99.9 KMD each
- one order is filled, now my KMD balance is 0.01 (less tx fees), but I still have a buy order on the other coin for 99.9 KMD
- the second order is now not fillable
- the second order is now not fillable (cause I have no balance), but still shows on the books (so it is a 'fake' or 'dummy' order)```
if order still displaying in orderbook in such case I think it should be improved and you can open issue on GH to get feedback from mm2 devs


[30-Jul-19 01:20 AM] jansako#3330
it is displaying, and i am getting attemplted connections from time to time


[30-Jul-19 01:20 AM] TonyL#3577
`Doo you know if this is being addressed on the dev side?` I know that improvements of such cases and protocol reputation system in roadmap


[30-Jul-19 01:21 AM] jansako#3330
I think this at this point I can bring down trading on any pair with this... I am sure you can see how, but I am happy to DM if not üòÉ


[30-Jul-19 01:22 AM] jansako#3330
what is a GH to open issue on?


[30-Jul-19 01:23 AM] TonyL#3577
https://github.com/KomodoPlatform/atomicDEX-API/issues

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[30-Jul-19 01:23 AM] jansako#3330
ahh... GitHub... dooh


[30-Jul-19 01:23 AM] jansako#3330
not convinced this should be filed publicly...


[30-Jul-19 01:31 AM] jl777c#5810
we need to have the mm2 node periodically scan all its offers and make sure they are all fully funded and if not to reduce the volume


[30-Jul-19 01:32 AM] jl777c#5810
this should not be hard to do and very necessary part of liquidity multiplier. only the edge case when 2 open orders for the same funds are starting a swap at the same time should there be any error


[30-Jul-19 01:33 AM] jl777c#5810
actually, whenever an order is started that uses up funds. immediately all other orders needs to be adjusted. there is no need for polling


[30-Jul-19 01:36 AM] jansako#3330
Would be great if it can be done the other way around as well (increase the order size if more funds become available)


[30-Jul-19 01:37 AM] jansako#3330
only with orders that have the max flag active, of course...


[30-Jul-19 01:43 AM] jl777c#5810
make an issue this is an important function


[30-Jul-19 01:43 AM] jansako#3330
OK


[30-Jul-19 01:45 AM] jansako#3330
Maybe update of github is needed too... says MM1 bug:https://imgur.com/a/bZTLeu8

{Embed}
https://imgur.com/a/bZTLeu8
https://images-ext-2.discordapp.net/external/5G9IJ6u6FxWAfWd0ftZhOKPoWGfRPhO7qR29IJrPFdA/https/i.imgur.com/T9E4livh.jpg


[30-Jul-19 01:53 AM] jansako#3330
https://github.com/KomodoPlatform/atomicDEX-API/issues/503

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/503
Adjust open order sizes based on available funds ¬∑ Issue #503 ¬∑ ...
Filed on JL&#39;s request in the dev-marketmaker channel. When a setprice or other BOB order exists with the &#39;max&#39; variable set, automagically adjust the order size when any swa...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[02-Aug-19 07:31 AM] allbits#5898
I am bob in the following swap f8ce9b0e-9318-46a5-a524-f9a15d21ca12

Maker and taker payments seem stuck in the b address.  My_swap_status returns all success events up to and including finished.  This is DEX/KMD so should be quite fast. Thoughts?


[02-Aug-19 07:38 AM] cipi#4502
there is no info about this swap on the seed nodes, so it looks like it never started. you need to look on your nodes.


[02-Aug-19 07:39 AM] cipi#4502
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#my_swap_status

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[02-Aug-19 07:45 AM] miles#6381
hi - been trying a KMD > DEX swap using HyperDex - seems stuck ID: f8ce9b0e-9318-46a5-a524-f9a15d21ca12 - anything you can see you end? Hyperdex team had a look and advised i check here - anything that can be seen / done to un stick / complete it?


[02-Aug-19 07:47 AM] cipi#4502
call `my_swap_status` and look what the problem is


[02-Aug-19 07:56 AM] miles#6381
hi @cipi - am gui grandma - not sure how to debug tbh


[02-Aug-19 08:03 AM] allbits#5898
As I said my_swap_status returns all success events up to and including finished. Both parties have sent their full payments to b addresses but have received nothing.


[02-Aug-19 08:05 AM] cipi#4502
without the infos from the json_files or my_swap_status nothing can be said


[02-Aug-19 08:05 AM] cipi#4502
you can open a github issue and post the contents from the swap_status there


[02-Aug-19 08:06 AM] allbits#5898
What info are you looking for from my_swap_status?


[02-Aug-19 08:06 AM] cipi#4502
but because this swap-info is not available on the seed nodes, i suspect the swap never started


[02-Aug-19 08:06 AM] allbits#5898
Of course the swap started


[02-Aug-19 08:06 AM] allbits#5898
Please read above


[02-Aug-19 08:09 AM] cipi#4502
then open a github-issue https://github.com/KomodoPlatform/atomicDEX-API/issues and attach the json-files from the swap

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[02-Aug-19 08:10 AM] allbits#5898
If it failed along the route is expected behavior that funds will be refunded from swap address after four hours?


[02-Aug-19 08:10 AM] miles#6381
does this info from the swap debug function in hyperdex help? https://pastebin.com/8JuLyXKf

{Embed}
https://pastebin.com/8JuLyXKf
{  	"uuid": "f8ce9b0e-9318-46a5-a524-f9a15d21ca12",  	"timeStarted...
https://images-ext-1.discordapp.net/external/lZwHlcJYEP_-CeL744a7RSWVnhrIifPJgiIcmKkDuJY/https/pastebin.com/i/facebook.png


[02-Aug-19 08:11 AM] cipi#4502
@allbits yes, failed swaps should be refunded after 4h


[02-Aug-19 08:13 AM] allbits#5898
@miles I suggest we wait until four hours have elapsed until reporting


[02-Aug-19 08:13 AM] cipi#4502
@miles looks like the swap was interrupted... it never finished
both maker and taker should start mm2 and enable both involved coins


[02-Aug-19 08:14 AM] allbits#5898
My mm2 is still running. Do I need to restart? Or perhaps just @miles  restarts


[02-Aug-19 08:14 AM] allbits#5898
Thanks @cipi


[02-Aug-19 08:15 AM] miles#6381
thanks - i have restarted as there was an error that restarted - so look like i just need to wait for the 4hrs to kick in


[02-Aug-19 08:16 AM] cipi#4502
@allbits if it is already running and both coins are activated, you don't have to do anything, just wait


[02-Aug-19 08:17 AM] allbits#5898
K


[02-Aug-19 08:22 AM] cipi#4502
did the maker die during swap execution?
both maker and taker-payment were sent
makerpayment: https://dex.kmdexplorer.io/tx/f7160576c9bb4f2b0246194f9d8c210159f92e964ecb3a79b6fd2279176c7b88
takerpayment: https://kmdexplorer.io/tx/bd72f11e06e42d031c8cf5b10e251427cdb6ad82f527bfb24fdf68f3cfff8dd7
the swap should have continued with maker spending the takerpayment, but that never happened, so it looks like the maker died after that


[02-Aug-19 08:24 AM] allbits#5898
My maker doesn't show dead. It's responding to my calls. Should I restart it and reenable?


[02-Aug-19 08:25 AM] cipi#4502
strange... i would leave it running, see what happens after some time has passed


[02-Aug-19 08:25 AM] allbits#5898
Ok

{Reactions}
KMD 

[02-Aug-19 08:26 AM] allbits#5898
I'm afk for a couple of hours. I'll check back in. Thanks for digging into this for a couple of noobs


[02-Aug-19 10:04 AM] allbits#5898
As a follow up, I tested my own Bob by using Atomicdex mobile to swap with the Bob. Everything worked as expected so it's clear my Bob is working fine.  Of course, it was a different pair because DEX/KMD is not available on mobile yet


[02-Aug-19 11:01 AM] allbits#5898
Further update. Over four hours has passed and there is no return of funds from the b addresses.


[02-Aug-19 11:02 AM] allbits#5898
This now seems like a critical issue for marketmaker, right?


[02-Aug-19 11:08 AM] allbits#5898
Both maker and taker have lost funds on this swap. Taker was using hyperdex.  Maker was using atomicDEX-API.


[02-Aug-19 11:21 AM] cipi#4502
my maker has always refunded when a swap was interrupted. Which version do you use?


[02-Aug-19 11:25 AM] cipi#4502
question remians also why the swap info is not on the seed nodes? Do you use a different netid? We are on `\"netid\":9999`. If you are using a different netid, are there seed nodes on this netid running?


[02-Aug-19 11:29 AM] allbits#5898
See above. I tested this bob on a vrsc/kmd swap using my own mobile Atomicdex. It was fine. I'm on the main netid


[02-Aug-19 11:30 AM] cipi#4502
there is no info about the version used... but anyway, looks like we need to wait for @artem.pikulin to return so he can have a look at this


[02-Aug-19 11:30 AM] allbits#5898
Yes


[02-Aug-19 11:32 AM] cipi#4502
you can also look into `my_swap_status` again... could be there was an error with makerpaymentrefund


[02-Aug-19 11:33 AM] allbits#5898
This is atomicDEX-API that I downloaded according to documentation one week ago. It was performed fine on numerous other swaps both as maker and taker.


[02-Aug-19 11:34 AM] cipi#4502
downloaded from here?  https://github.com/KomodoPlatform/atomicDEX-API/releases

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/releases
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[02-Aug-19 11:34 AM] allbits#5898
Yes it says "makerpaymentrefundfailed"


[02-Aug-19 11:34 AM] cipi#4502
aha... and what is the error?


[02-Aug-19 11:35 AM] allbits#5898
I don't know where to look


[02-Aug-19 11:36 AM] cipi#4502
call `my_swap_status` with the id of the swap or look in the filesystem... every swap produces a json_file which is saved in `DB/c3f710deb7320b0efa6edb14e3ebeeb9155fa90d/SWAPS/MY/41f1964e-2344-4df1-8238-7c91871b05ed.json` where `c3f710deb7320b0efa6edb14e3ebeeb9155fa90d` is your nodeid and `41f1964e-2344-4df1-8238-7c91871b05ed` is the swapid


[02-Aug-19 11:37 AM] allbits#5898
https://pastebin.com/nKvSFXTx

{Embed}
https://pastebin.com/nKvSFXTx
"result": {      "error_events": [        "StartFailed",        "N...
https://images-ext-1.discordapp.net/external/lZwHlcJYEP_-CeL744a7RSWVnhrIifPJgiIcmKkDuJY/https/pastebin.com/i/facebook.png


[02-Aug-19 11:37 AM] allbits#5898
That's the result of my_swap_status


[02-Aug-19 11:40 AM] cipi#4502
```        "event": {
          "data": {
            "error": "timeout (2690.3 > 2690.0)"
          },
          "type": "TakerPaymentValidateFailed"```
so the maker was unable to see TakerPayment
but this is the original error from the swap, MakerPaymentRefundfailed is not there


[02-Aug-19 11:41 AM] allbits#5898
Oh ok


[02-Aug-19 11:41 AM] allbits#5898
No refund has occurred


[02-Aug-19 11:46 AM] cipi#4502
i am not sure how long it takes till maker tries to spend his own MakerPayment... i thought it was 4h, maybe i am wrong


[02-Aug-19 11:47 AM] cipi#4502
is DEX still active on your maker and on the right chain?


[02-Aug-19 11:51 AM] allbits#5898
Yes active. On electrum. Also monitoring b address on explorer.


[02-Aug-19 12:01 PM] cipi#4502
MakerPayment was just returned to the maker: https://dex.kmdexplorer.io/address/bKZzZA59yhixwSw9gWzFeCKJ2CyijgREBo
looks like it takes 4,5 h


[02-Aug-19 12:04 PM] cipi#4502
TakerPayment still in b-address, think it will stay there till this is fixed: https://github.com/KomodoPlatform/atomicDEX-API/issues/502

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/502
KMD-VRSC swap failed by timeout and not refunding to taker ¬∑ Issu...
mm2 version: 64bfd683c swap uuid: 8f5b267a-efa8-49d6-a92d-ec0523cca891 KMD-VRSC swap stuck by timeout on iOS user side (most probably app was closed or screen shut down what causing mm2 closing) th...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[02-Aug-19 12:08 PM] allbits#5898
K. Thanks so much cipi


[02-Aug-19 12:18 PM] miles#6381
thanks both @cipi and @allbits for looking into this - much appreciated


[02-Aug-19 08:35 PM] webworker01#3884
https://github.com/webworker01/mmtools/

{Embed}
https://github.com/webworker01/mmtools/
webworker01/mmtools
Bash CLI tools for MM2. Contribute to webworker01/mmtools development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/JqkCNte-K1UxC-AtTNMOvrtuTkv6tC4briol7AKNNlg/%3Fs%3D400%26v%3D4/https/avatars3.githubusercontent.com/u/3256000


[02-Aug-19 08:36 PM] webworker01#3884
one thing i added in my scripts is to automatically pull in the coin infos and stratums


[03-Aug-19 01:54 PM] webworker01#3884
the docs are really great btw, nice job


[03-Aug-19 05:28 PM] allbits#5898
I have a very noob question for cli marketmaker.

I'll running it on a vps. I ssh in from my home machine and run the marketmaker. All good. But if I exit that ssh terminal, or shut down my home machine, the marketmaker stops running on my vps. How come? How can I make sure it keeps running on the vps no matter what happens to my home machine?


[03-Aug-19 08:53 PM] cipi#4502
@allbits you need to start it with `nohup`, eg like that `stdbuf -oL nohup ../../target/debug/mm2 "{\"netid\":9999,\"gui\":\"nogui\",\"client\":1, \"userhome\":\"/${HOME#"/"}\", \"passphrase\":\"$passphrase\",\"rpc_password\":\"$userpass\"}" > /tmp/mm.log &`
then mm2 does not exit when the ssh session dies


[03-Aug-19 10:24 PM] allbits#5898
Thanks!


[03-Aug-19 10:26 PM] allbits#5898
@gcharang that might be a useful tidbit to add to documentation

{Reactions}
üëç 

[04-Aug-19 07:21 AM] jansako#3330
Or use 'screen' and run it on a separate screen...


[04-Aug-19 07:31 AM] Deleted User#0000
tmux üòÉ

{Reactions}
üëÜüèΩ 

[04-Aug-19 08:36 AM] allbits#5898
nohup works great - prints output into a file


[04-Aug-19 02:47 PM] webworker01#3884
```$ ./checkorderbooks rick morty
--Bids--
Coin    Address                                           Price           Max Volume            Ask Price
----    -------                                           -----           ----------            ---------
MORTY   RTpwruinq4GLbkGZg8NrJw5YPWUvMWnHYR           0.50000000         960.10476554           2.00000000
MORTY   RT9MpMyucqXiX8bZLimXBnrrn2ofmdGNKd           0.50000000         886.40320698           2.00000000

--Asks--
Coin    Address                                           Price           Max Volume
----    -------                                           -----           ----------
RICK    RTpwruinq4GLbkGZg8NrJw5YPWUvMWnHYR           1.60000000         850.46360688
RICK    RT9MpMyucqXiX8bZLimXBnrrn2ofmdGNKd           2.00000000         976.87179343

$ ./checkorderbooks kmd btc
--Bids--
Coin    Address                                           Price           Max Volume            Ask Price
----    -------                                           -----           ----------            ---------
BTC     12fj3npPKwTNxUgDMN8XcCDcR2Z4DBehj6           0.00009017           0.05756468       11090.62159976
BTC     1JsAjr6d21j9T8EMsYnQ6GXf1mM523JAv1           0.00009067           0.11416780       11028.68600904

--Asks--
Coin    Address                                           Price           Max Volume
----    -------                                           -----           ----------
KMD     RAwv8JhfvmFx2V3QpY7ehiYpBJ1eqxxdxR           0.00009116        1058.01444822
KMD     RT9MpMyucqXiX8bZLimXBnrrn2ofmdGNKd           0.00009168       20774.91495409
KMD     RHy2obsEHhAdTag4fDsC4SfCEqm5ZzTUSH           0.00012000         208.21649055
```


[04-Aug-19 03:54 PM] allbits#5898
Oh that looks good


[05-Aug-19 09:48 AM] LarryB#7202
Could someone point me to what distinguishes seed nodes from non-seed nodes? If I understand correctly, MM2 can now do direct P2P with other MM2 nodes, and it starts by connecting with some MM2s configured as seed nodes. Are the roles of the seed nodes the same as described as full relay nodes in the 2018 whitepaper, like holding the order books and routing messages for non-seed nodes, or have things changed with the P2P support?


[05-Aug-19 09:57 AM] ComputerGenie#7004
seeds give a "starting point" to at least know some peer(s) that know valid peers
otherwise, on 1st run, you'd just be randomly sending out to random addresses on the internet and hoping one of them responds with what you want


[06-Aug-19 12:01 AM] artem.pikulin#0794
Important notice for everyone who builds the atomicDEX-API from source: Rust version was updated https://github.com/KomodoPlatform/atomicDEX-API#how-to-build Please make sure that you install and default the nightly-2019-08-05 before attempting to build the most recent commit.

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[06-Aug-19 12:41 AM] LarryB#7202
Thanks ComputerGenine. It sounds like this aspect is similar to the Bitcoin P2P protocol, but in this case MM2 is trying to find some node who holds the order book. When I did a swap between two of my own MM2s, I didn't see them connect directly with each other, so the seed or some other node was relaying.


[06-Aug-19 01:39 AM] artem.pikulin#0794
@LarryB Hi, you're right, the seednodes also acts as relayers for orderbook messaging, Once swap starts MM2 attempts to use the Libtorrent DHT for swap message exchange falling back to relayers using HTTP protocol in case of DHT exchange timeouts (some providers "don't like" the P2P traffic and might limit it). We won't be able to get rid of "relayers" concept completely as direct communication between nodes is not always possible due to particular networking conditions.


[06-Aug-19 11:02 AM] jansako#3330
is that why I see a ton of "http_fallback:464] transmit... other stuff... time to use the HTTP fallback" and similar messages on swaps?


[06-Aug-19 09:38 PM] LarryB#7202
It makes sense about needing to fall back to seed nodes, thanks for the info. I also saw those messages.

Since you're using the DHT instead of direct P2P, is it like maker and taker MM2s both publish messages using their private keys to the DHT, and they both just subscribe to the opposite's updates in the DHT? That sounds reasonable, and trading partners would only connect directly to seed nodes or DHT nodes, never to each other.


[06-Aug-19 09:39 PM] LarryB#7202
I'm also curious about the seed nodes and order books. Are the IPs of the seed nodes shared like Bitcoin's addrman database, so all MM2s eventually learn of all the seed nodes? Do seed nodes each hold their own order book, or do seed nodes share one synchronized order book database? Are the order books published to the DHT?


[07-Aug-19 11:40 PM] artem.pikulin#0794
@jansako `is that why I see a ton of "http_fallback:464] transmit... other stuff... time to use the HTTP fallback" and similar messages on swaps?` - yes


[07-Aug-19 11:49 PM] artem.pikulin#0794
@LarryB 
`both publish messages using their private keys to the DHT, and they both just subscribe to the opposite's updates in the DHT?` - yes
`Are the IPs of the seed nodes shared like Bitcoin's addrman database, so all MM2s eventually learn of all the seed nodes?` - as of now MM2 uses hardcoded list of seednode IPs, the plan is to add automatic seednode discovery possibly via DHT.
`Do seed nodes each hold their own order book, or do seed nodes share one synchronized order book database?` - as of now seednodes receive the order messages like standard nodes and broadcast them to other connected clients. Every node (seed and non-seed) actually holds it's own orderbook collected from such messages and sometimes it might be out of sync.
`Are the order books published to the DHT?` - no, and maybe we won't use DHT at all for this purpose. We're considering several options for P2P orderbook exchange improvement, mentioned in this issue: https://github.com/KomodoPlatform/atomicDEX-API/issues/373

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/373
p2p for ordermatching, plans ¬∑ Issue #373 ¬∑ KomodoPlatform/atomi...
I&#39;ve learned from Artem that in the ordermatching we&#39;re using a feed of orders. This feed is traditional to exchanges and is transparent to users, we show it in the GUIs. The orders...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[08-Aug-19 12:12 AM] LarryB#7202
Thank you @artem.pikulin , informative and interesting! I'm sure all of this will make it into the next whitepaper.


[09-Aug-19 10:41 AM] allbits#5898
Noob cli question: of been up and running for a couple of weeks. Got some bobs running and they're doing well. I've had some issues doing buy and sell. I try to hit the maker orders but nothing happens. My order shows up in order book but doesn't seem to match the bobs that are there.  I know it's hard for anyone to say what I might be doing wrong because there's so many variables.just putting it out there.


[09-Aug-19 11:42 AM] Oszy#5734
does it work with rick/morty? is there enough liquidity for your buy order on the sell side?


[09-Aug-19 11:43 AM] Oszy#5734
specify which coin so we can try  to replicate


[09-Aug-19 11:53 AM] allbits#5898
Seeking to sell one DEX into the buy order of seven at 33


[09-Aug-19 12:32 PM] Oszy#5734
it works from gui, i don't have my unix fired up atm to check cli,  so how do you call the order?


[09-Aug-19 12:35 PM] Oszy#5734
maybe you swapped base/rel? or volume set too high?


[09-Aug-19 01:05 PM] allbits#5898
My order seemed fine because I checked it in my_orders and there it was, as expected. Just doesn't match with the maker order at same price, that has higher volume.


[09-Aug-19 01:06 PM] allbits#5898
Maybe when you're on cli we can look together. I'll make my order and you can see what you see from your end.  At the moment I'm afk


[09-Aug-19 03:24 PM] Oszy#5734
same. going to bed. laters


[10-Aug-19 12:51 AM] jansako#3330
@allbits that order is mine. You cannot match a bob with a bob, you need to do a 'sell' order, not a 'setprice'. That said, that order is a 7 KMD, NOT 7 DEXes...


[10-Aug-19 12:52 AM] jansako#3330
But if you create a sell order of 1 DEX, it should still partially fill taking all my KMD.


[10-Aug-19 07:40 AM] allbits#5898
I did do a sell order


[10-Aug-19 07:41 AM] allbits#5898
It did not fill. Tried several times. That's what I was asking about upthread


[10-Aug-19 07:42 AM] allbits#5898
Ahhh, 7 kmd!!! That might have been the issue. Will retry later today. Thanks!


[10-Aug-19 08:46 PM] allbits#5898
@jansako yes, the volume was the issue! Thanks :)

{Reactions}
üëç (2) 

[13-Aug-19 09:19 PM] tolken#2655
How‚Äôs mm2 doing reliability wise, have any significant funds been lost or have most / all been recoverable?


[14-Aug-19 02:23 AM] Slyris#2880
Hello as part of the development of mmbot I would like to know the most idiomatic way to launch mm2, I read the developer docs, but I can not find concrete instructions on the launch of the program. (I'm downloading the already build version directly from the github releases as part of my program)


[14-Aug-19 02:30 AM] smkhound#7640
populate MM2.json, in folder with mm2 binary, then run ./mm2

{Reactions}
‚úÖ 

[14-Aug-19 02:30 AM] Slyris#2880
What is the content of the json?


[14-Aug-19 02:30 AM] Slyris#2880
(where i find those informations) ?


[14-Aug-19 02:30 AM] smkhound#7640
https://github.com/smk762/pytomicDEX/blob/master/MM2_example.json

{Embed}
https://github.com/smk762/pytomicDEX/blob/master/MM2_example.json
smk762/pytomicDEX
Contribute to smk762/pytomicDEX development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6xcX3Z50JaMIMuZ9mAXOpQv_L8FfDr-TLGFP0GMRbbU/%3Fs%3D400%26v%3D4/https/avatars3.githubusercontent.com/u/35845239


[14-Aug-19 02:31 AM] Slyris#2880
I want full CLI if it's possible ?


[14-Aug-19 02:32 AM] Slyris#2880
Just need to launch mm2 in background and play with the rpc call's in my case


[14-Aug-19 02:32 AM] Slyris#2880
(i dont know what is the best way to do this)


[14-Aug-19 02:32 AM] smkhound#7640
pytomicDEX repo is python wrapper for CLI usage


[14-Aug-19 02:32 AM] smkhound#7640
use like `./atomicDEX-cli method`


[14-Aug-19 02:32 AM] Slyris#2880
And what about the coins.json ?


[14-Aug-19 02:33 AM] smkhound#7640
if you dont have it in folder, it'll tell you to d/l from jl777/coins repo


[14-Aug-19 02:33 AM] Slyris#2880
But the coins.json file should be in the same directory of the mm2 binary ?


[14-Aug-19 02:33 AM] smkhound#7640
I've actually done some binance API integration last couple of days, will push to git in the next hour or so


[14-Aug-19 02:33 AM] Slyris#2880
i will not use external wrapper, just directly mm2 binary


[14-Aug-19 02:34 AM] smkhound#7640
folder contents -

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/611130565621448705/unknown.png


[14-Aug-19 02:35 AM] smkhound#7640
makerbot will add curl methods to 127.0.0.1:7783?


[14-Aug-19 02:36 AM] smkhound#7640
so far I've just done price grabbing, will be adding buy/sell later in the week


[14-Aug-19 02:38 AM] smkhound#7640

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/611131550008082438/unknown.png


[14-Aug-19 02:49 AM] ca333#0333
just place `mm2` bin in the assets/ or bin/ folder and have makerbot launch it from there. Instead of passing the params through CLI you set up a mm2config.json that has all required parameters. And from there makerbot can easily interact with mm2.


[14-Aug-19 02:49 AM] ca333#0333
@Slyris ^


[14-Aug-19 02:50 AM] Slyris#2880
yeah thank's


[14-Aug-19 02:50 AM] Slyris#2880
i got it


[14-Aug-19 02:54 AM] Slyris#2880
Work's like a charm.


[14-Aug-19 03:05 AM] Slyris#2880
Regarding the electrum method, there is a way to enable all coins very easily?


[14-Aug-19 03:06 AM] smkhound#7640
I'm using an additional json file with the electrum params, and loop the activate method over them


[14-Aug-19 03:07 AM] Slyris#2880
I guess in Makerbot we're going to have to enable all the coins that are present in the coins file


[14-Aug-19 03:40 AM] artem.pikulin#0794
@Slyris Enabling all coins that are present in file in electrum mode requires to know valid electrum server addresses which are known only for few: https://github.com/jl777/coins/tree/master/electrums. Please also note that ETH/ERC20 coins use `enable` method instead with different parameter set: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#enable. Do you also plan to use some specific coin config different from `coins` repo? The attempt to enable all coins from repo will fail for sure as some of them were not tested with MM2 yet (missing mm2 parameter), might have outdated config and have some other issues.

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
DEX API | AtomicDEX Documentation
Documentation for developers building on AtomicDEX


[14-Aug-19 05:09 AM] Slyris#2880
I had in mind to activate a maximum of coins, but if you have the list of supported coins for now it would be much better then @artem.pikulin


[14-Aug-19 05:18 AM] smkhound#7640
coins with a verified swap here https://github.com/jl777/coins/tree/master/swaps
or those with a `"mm2": 1` value in  https://github.com/jl777/coins/blob/master/coins would be reasonable list.

{Embed}
https://github.com/jl777/coins/tree/master/swaps
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[14-Aug-19 05:19 AM] smkhound#7640
might not be all with electrums though (native only), so you might want to filter against https://github.com/jl777/coins/tree/master/electrums

{Embed}
https://github.com/jl777/coins/tree/master/electrums
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[14-Aug-19 05:20 AM] Slyris#2880
Perfect.


[14-Aug-19 05:20 AM] Slyris#2880
Thank's a lot

{Reactions}
üëçüèº 

[15-Aug-19 04:13 PM] artemciy_dice#0049
> What is the content of the json?

@Slyris , `mm2 help` documents some of the JSON fields as well.


[16-Aug-19 03:48 AM] jansako#3330
@smkhound Hi, trying the latest Pytomix DEX build, I added the api_keys.json with my keys. Starting MM2 shows a JSONDecode error:  Expecting Property name enclosed in double quotes: Line 6 column 1 (char 214). 
the position of the error changes if I remove the 'coinspot' lines (I don;t use it) so I expect the error refers to the api_keys.json contents.
Character referred to in the error is the last character in the file "}". I made sure there is nothing in front or after it, so no idea what is happening...


[16-Aug-19 03:51 AM] smkhound#7640
probably a trailing comma on the last key/value pair


[16-Aug-19 03:52 AM] smkhound#7640
like make sure no comma after "value2"
```{
"key1":"value1",
"key2:"value2"
}```


[16-Aug-19 03:54 AM] jansako#3330
Indeed it was!


[16-Aug-19 03:55 AM] jansako#3330
in my defense, YOU put it there üôÇ


[16-Aug-19 03:55 AM] jansako#3330
into the example file


[16-Aug-19 03:55 AM] smkhound#7640
correct, I've just removed it, and the coinspot bits because thier API doesnt seem to work at the moment.


[16-Aug-19 03:56 AM] jansako#3330
no idea what that even is üôÇ


[16-Aug-19 03:56 AM] smkhound#7640
aussie exchange. I also just added some basic copy/paste Graviex api examples, but didnt go much further.


[16-Aug-19 03:58 AM] smkhound#7640
having some issues with the withdraw api on Binance, but its working otherwise. Not sure, I might have to generate a new API key.


[16-Aug-19 03:59 AM] jansako#3330
are the commands related to the exchange API documented? just looking at what it can do


[16-Aug-19 04:00 AM] smkhound#7640
https://github.com/binance-exchange/binance-official-api-docs

{Embed}
https://github.com/binance-exchange/binance-official-api-docs
binance-exchange/binance-official-api-docs
Official Documentation for the Binance APIs and Streams - binance-exchange/binance-official-api-docs
https://images-ext-2.discordapp.net/external/naxh86pq3SSaOZMyHQ3vKYZ6WzWsJhOXdh0xp5J2Qlk/%3Fs%3D400%26v%3D4/https/avatars3.githubusercontent.com/u/32770468


[16-Aug-19 04:00 AM] jansako#3330
I meant can PytomixDEX use it already


[16-Aug-19 04:00 AM] jansako#3330
and how


[16-Aug-19 04:01 AM] smkhound#7640
I've only added a subset of the API to pytomicDEX. There's a pip package that is probably more comprehensive.


[16-Aug-19 04:01 AM] smkhound#7640
will add docs over weekend maybe, hadnt mentioned adding the api on discord yet so you got in early lol.


[16-Aug-19 04:02 AM] jansako#3330
going away for a week so I wanted my bob to have the latest MM2 & whatever you put out


[16-Aug-19 04:03 AM] smkhound#7640
the binance_api.py file is pretty self explanatory. Most important thing to note is that buy/sell orders need to conform to the stepsize for the coin being traded as from  https://api.binance.com/api/v1/exchangeInfo


[16-Aug-19 04:04 AM] smkhound#7640
my bot uses some json to define this, like 
```trading_list = {
    "LTC":{
        "reserve_balance":1,
        "premium":1.xxxx,
        "minQty":"0.01000000",
        "maxQty":"100000.00000000",
        "stepSize":"0.01000000"
    }]```


[16-Aug-19 04:07 AM] smkhound#7640
the      `mm2_balances_table.py`  and  `     mm2_orderbook_table.py` are handy and worth a look. They'll highlight your swaps, coins being traded and coins trading at under market (still tweaking the last one).


[16-Aug-19 04:07 AM] jansako#3330
thanks!


[16-Aug-19 04:16 AM] smkhound#7640
no worries, enjoy the holiday!


[27-Aug-19 07:09 AM] smkhound#7640
having some issues building atomicDEX-api on win10. overcome a few, but stuck on this one 
`thread 'main' panicked at 'Command returned and error status: exit code 1', mm2\src\common\build.rs:720:9`


[27-Aug-19 07:15 AM] artem.pikulin#0794
@smkhound Hi, could you please provide the `full` log of your build with `-vv` option?


[27-Aug-19 07:27 AM] smkhound#7640
np, just gimme a minute to get windows back  open


[27-Aug-19 07:30 AM] smkhound#7640
maybe more than a minute üò©

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/615916080174727208/unknown.png


[27-Aug-19 07:36 AM] artem.pikulin#0794
When you get the full output with `-vv` please submit it as Github issue, let's continue troubleshooting there.


[27-Aug-19 07:37 AM] artem.pikulin#0794
I'm going offline for today, will check it tomorrow, thanks!

{Reactions}
üëçüèΩ 

[29-Aug-19 12:58 AM] Tylor zkFS#8280
There should be a setting to trade through KMD to any coin from any coin.
. Make KMD default LP - most grandmas wont use the order books. - call it "Grandma Mode" or say trade available with a X% DEX fee.... then do the 3 way swap ...


[29-Aug-19 12:59 AM] Tylor zkFS#8280
Alice swaps DGB for KMD then KMD to Etherium Bob swaps Etherium for KMD then KMD to DGB...
Something like that......private swaps will not be popular with shit coins


[29-Aug-19 01:00 AM] Tylor zkFS#8280
Or instead of swapping the first step it could just be a purchace transaction from the LP


[29-Aug-19 01:00 AM] Tylor zkFS#8280
Like etomic except use KMD


[29-Aug-19 02:15 PM] jansako#3330
The main issue I can see is that the end price, and the ability to execute the whole order chain cannot be accurately predicted. It takes some time before the KMD acquired in the first step can be traded again in the next, and there is a risk of the initial order no longer being available. It would take the ability to 'lock' multiple trades at the same time where the output of one would automagically become the input for another... Now imagine the last LP goes offline so the trade is essentially cancelled. How do you refund all the players/ reverse all the trades? Or the buyer could end up with a bunch of coins they do not want.

I think a multi-pair trading bot would be a better solution for this... I want to accumulate this coin for that coin. Now, bot do your magic! üôÇ something like that was already implemented in MM1 if I rememeber correctly.


[29-Aug-19 09:54 PM] Tylor zkFS#8280
If the purchase price was guaranteed on both sides it really wouldnt matter...
I guess you would execute both trades at the same time.....timestamps and all...
I'm sure there's a way using a crypto condition / deposit half the keys into a p2sh address ...or something
I'm sure there is a way.
CC-Liquid / CC-LP
Just needs to be thought out.


[29-Aug-19 09:54 PM] Tylor zkFS#8280
@jansako


[29-Aug-19 09:55 PM] Tylor zkFS#8280
Maybe @jl777c  could clarify the possibility or not


[30-Aug-19 01:22 AM] jansako#3330
I am sure there is a way. Two questions though:

- What is the problem you are trying to solve?
- Is there an easier way to solve it? (Easier means less moving parts = less risk)


[30-Aug-19 09:50 AM] Tylor zkFS#8280
I guess if either Alice or Bob accept KMD ...using it as an option in the Trading Mechanism-  it would be an easy way to make KMD market makers and a 1 click -3 way trade....


[30-Aug-19 09:53 AM] Tylor zkFS#8280
The mechanism would be GUI and not marketmaker. I believe searching for the double trade option to make it easier for grandma....


[02-Sep-19 08:02 AM] Slyris#2880
Hello i have some problem to enable `VRCS` and `FTC` through mm2, someone successfully enabled those 2 coins ? (electrum)


[02-Sep-19 08:06 AM] Slyris#2880
req
```json
{"coin":"FTC","method":"electrum","servers":[{"disable_cert_verification":false,"protocol":"TCP","url":"electrumx-ch-1.feathercoin.ch:50001"},{"disable_cert_verification":false,"protocol":"TCP","url":"electrumx-de-2.feathercoin.ch:50001"},{"disable_cert_verification":false,"protocol":"TCP","url":"electrumx-gb-1.feathercoin.network:50001"},{"disable_cert_verification":false,"protocol":"TCP","url":"electrumx-gb-2.feathercoin.network:50001"}],"tx_history":true,"userpass":"YOUR_PASSWORD_HERE"}
```

resp
```json
{"error":"lp_coins:702] lp_coins:664] utxo:1618] Failed to connect to at least 1 of [ElectrumRpcRequest { url: \"electrumx-de-2.feathercoin.ch:50001\", protocol: TCP, disable_cert_verification: false }, ElectrumRpcRequest { url: \"electrumx-gb-1.feathercoin.network:50001\", protocol: TCP, disable_cert_verification: false }, ElectrumRpcRequest { url: \"electrumx-gb-2.feathercoin.network:50001\", protocol: TCP, disable_cert_verification: false }, ElectrumRpcRequest { url: \"electrumx-ch-1.feathercoin.ch:50001\", protocol: TCP, disable_cert_verification: false }] in 5 seconds."}
```


(i have the same error with SSL) for VRCS and FTC


[02-Sep-19 08:08 AM] Slyris#2880
and there is a way To say to mm2 "i give you this array of server, if you can connect atleast in one, i consider the call successfull" ?


[02-Sep-19 08:08 AM] Slyris#2880
@artem.pikulin  or @artemciy_dice


[02-Sep-19 08:09 AM] Slyris#2880
Basically i'm parsing the coins repository from @jl777c and give the whole bunch of server each time


[02-Sep-19 08:09 AM] artem.pikulin#0794
If at least 1 server connection will be successful you will get successful response.


[02-Sep-19 08:09 AM] Slyris#2880
Ok so VRCS and FTC are down ?


[02-Sep-19 08:09 AM] artem.pikulin#0794
All servers from your list seem to be down, yes.


[02-Sep-19 08:09 AM] Slyris#2880
Erf ok.


[02-Sep-19 08:10 AM] artem.pikulin#0794
Please check MM2 logs for more info, it should contain some error messages.


[02-Sep-19 08:10 AM] Slyris#2880
Ok Thank's for your information


[02-Sep-19 08:11 AM] Slyris#2880
What is the env variable to set to have logs ?


[02-Sep-19 08:11 AM] Slyris#2880
(i run mm2 in background)


[02-Sep-19 08:11 AM] Slyris#2880
@artem.pikulin


[02-Sep-19 08:11 AM] artemciy_dice#0049
https://github.com/KomodoPlatform/atomicDEX-API/blob/1e8f3f5eedf8b00921047e2688fe0b4a785782d4/mm2src/mm2.rs#L139

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/1e8f3f5eedf8b00921047e2688fe0b4a785782d4/mm2src/mm2.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[02-Sep-19 08:11 AM] Slyris#2880
Thank's


[02-Sep-19 08:12 AM] Slyris#2880
It's take the current directory if i didnt specify a full path ?


[02-Sep-19 08:13 AM] artemciy_dice#0049
Yep.


[02-Sep-19 08:14 AM] Slyris#2880
@artemciy_dice  I dont have it in my current mm2 version


[02-Sep-19 08:14 AM] Slyris#2880
02 15:14:37, mm2:142] AtomicDEX MarketMaker 2.0.1009_mm2_b08da3aa9_Darwin


[02-Sep-19 08:15 AM] Slyris#2880
(15 july version)


[02-Sep-19 08:15 AM] Slyris#2880
Ah yes i remember there is a daily build of mm2 if i remember


[02-Sep-19 08:15 AM] Slyris#2880
but i dont have the URL


[02-Sep-19 08:15 AM] Slyris#2880
if someone can send me the URL of snapshot build's


[02-Sep-19 08:16 AM] artem.pikulin#0794
http://195.201.0.6/mm2/


[02-Sep-19 08:16 AM] Slyris#2880
perfect thank's


[02-Sep-19 08:16 AM] artem.pikulin#0794
Also if you have any issues with electrums please check the addresses manually using:
`echo '{"jsonrpc":"2.0","id":"test","method":"server.ping","params":[]}' | nc -v server port`


[02-Sep-19 08:17 AM] artem.pikulin#0794
Example of working server:


[02-Sep-19 08:17 AM] artem.pikulin#0794
```
echo '{"jsonrpc":"2.0","id":"test","method":"server.ping","params":[]}' | nc -v test1.cipig.net 10025
Connection to test1.cipig.net 10025 port [tcp/*] succeeded!
{"jsonrpc": "2.0", "result": null, "id": "test"}
```


[02-Sep-19 08:17 AM] Slyris#2880
Oh great


[02-Sep-19 08:17 AM] artem.pikulin#0794
You get the `{"jsonrpc": "2.0", "result": null, "id": "test"}` from server, it's working.


[02-Sep-19 08:17 AM] Slyris#2880
Ok thank's a lot


[02-Sep-19 08:18 AM] artem.pikulin#0794
But for `electrumx-ch-1.feathercoin.ch:50001`:
```
echo '{"jsonrpc":"2.0","id":"test","method":"server.ping","params":[]}' | nc -v electrumx-ch-1.feathercoin.ch 50001
nc: getaddrinfo for host "electrumx-ch-1.feathercoin.ch" port 50001: Name or service not known
```
Even domain name is not valid anymore.


[02-Sep-19 08:18 AM] artem.pikulin#0794
`Name or service not known`


[02-Sep-19 08:18 AM] Slyris#2880
Great thank's a lot


[02-Sep-19 08:19 AM] Slyris#2880
mm2 is rly easy to use i like it a lot by the way

{Reactions}
KMD (3) 

[02-Sep-19 08:19 AM] Slyris#2880
Rly dev friendly mostly


[02-Sep-19 08:20 AM] artem.pikulin#0794
You're welcome, if you find that some of electrum servers from coins repo don't work please let @cipi know about it.


[02-Sep-19 08:20 AM] Slyris#2880
Ok np !


[02-Sep-19 10:45 PM] Slyris#2880
Hey there is a way to be notified for breaking change in API such as: https://github.com/KomodoPlatform/developer-docs/commit/3fcdb5043a07ec49caff4a6d35f340e6106f3340#diff-6ab44e5ca9208fafccf3568523c09b2e

@artem.pikulin#0794  or @artemciy_dice 

Like we subscribe to a mailing list or smth like. Just lost 30 minutes this morning to understand what appened after updating to the last mm2 ^^'

{Embed}
https://github.com/KomodoPlatform/developer-docs/commit/3fcdb5043a07ec49caff4a6d35f340e6106f3340
Use a JSON string for the orderbook price in order to avoid the ro...
‚Ä¶ing errors

cf. https://github.com/KomodoPlatform/atomicDEX-API/issues/495
https://images-ext-2.discordapp.net/external/pDlCuApmX76fYCqyh5gxhJFMPb4IAHSgUVl-DtEXEjY/%3Fs%3D200%26v%3D4/https/avatars1.githubusercontent.com/u/41847


[02-Sep-19 10:46 PM] Slyris#2880
I think we can do smth with the commit name, so a script can notify if the commit contains `[Breaking]` or smth like this


[02-Sep-19 10:47 PM] Slyris#2880
maybe @TonyL can take care of smth like that


[02-Sep-19 10:48 PM] Slyris#2880
(when a type change in the API basically i would like to be notified since i'm using nightly build of MM2 if there is a change like that it's can break makerbot too


[03-Sep-19 12:32 AM] artemciy_dice#0049
Subscribing to the documentation repo should do the trick


[03-Sep-19 12:53 AM] Slyris#2880
Ah ? we can do that ?


[03-Sep-19 02:43 AM] artem.pikulin#0794
@Slyris We're sending PRs to developer-docs repo when MM2 API is updated. If you start to watch the repo you'll get notification about all PRs and issues created there.


[03-Sep-19 02:43 AM] artem.pikulin#0794

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/618380505477283840/unknown.png


[03-Sep-19 02:43 AM] artem.pikulin#0794
https://github.com/KomodoPlatform/developer-docs

{Embed}
https://github.com/KomodoPlatform/developer-docs
KomodoPlatform/developer-docs
Contribute to KomodoPlatform/developer-docs development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[03-Sep-19 03:27 AM] Slyris#2880
Great thank's a lot


[06-Sep-19 03:39 AM] artem.pikulin#0794
@Slyris @ca333 @siu @hyperDEX please check the PR to coins repo: https://github.com/jl777/coins/pull/370/files, if you're not using the config from `jl777` directly please consider setting the `required_confirmations` field to 2 for all non-test assetchains.

{Embed}
https://github.com/jl777/coins/pull/370/files,
Mention required_confirmations and set to 2 for non-test assetchai...
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559

{Reactions}
üëç 

[06-Sep-19 03:39 AM] hyperDEX#6586
Thanks


[06-Sep-19 03:44 AM] Slyris#2880
Thank's for the update @artem.pikulin


[06-Sep-19 05:34 AM] cipi#4502
@artem.pikulin i see a potential problem with `required_confirmations=2` on chains that do on-demand-mining: on-demand-mining will mine only one block, not 2


[06-Sep-19 05:40 AM] jl777c#5810
usually after the first tx makes a new block, there will be notarization


[06-Sep-19 05:40 AM] jl777c#5810
if this becomes an issue, we might just need to disable on-demand mining


[09-Sep-19 12:32 PM] siu#3920
On demand mining has been an issue for mm for a long time


[09-Sep-19 12:32 PM] siu#3920
For chains with not much usage that is


[09-Sep-19 12:32 PM] siu#3920
Even for transactions, normal ones


[12-Sep-19 01:25 AM] jorian#4555
noticed a BCH electrum doing weird
```12 08:14:33, rpc_clients:1089] V4(203.150.148.49:50001) error Os { code: 111, kind: ConnectionRefused, message: "Connection refused" }
```
after some googling i noticed it's the 2nd one in the list: `bch.loping.net` resolves to the above ip


[12-Sep-19 01:25 AM] jorian#4555
should we remove it from coins repo?


[12-Sep-19 01:26 AM] jorian#4555
<https://1209k.com/bitcoin-eye/ele.php?chain=bch> shows the connection is closed


[12-Sep-19 08:39 AM] cipi#4502
yes, i think it is a good idea to keep the coins repo uptodate
thanks


[13-Sep-19 01:37 AM] jorian#4555
<https://community.binance.org/topic/1758/binance-chain-testnet-archimedes-upgrade-announcement> saw this mentioned in off-topictalk:
>>> A few new BEPs are implemented in this new release:

Atomic Swap and Hash Timelock Contract (HTLC): As explained in BEP3, HTLC has been used for Atomic Swap and cross payment channels between different blockchains. BEP3 defines native transactions to support HTLC on Binance Chain and also proposes the standard infrastructure and procedure to use HTLC for inter-chain atomic swap to easily create and use pegged token.


[13-Sep-19 01:38 AM] jorian#4555
wouldn't this theoretically mean Binance Coin can be supported in atomicdex?


[13-Sep-19 04:53 AM] grewalsatinder#9653
support of HTLC means it should be


[13-Sep-19 04:54 AM] grewalsatinder#9653
@cipi ^^ üôÇ


[17-Sep-19 12:17 AM] allbits#5898
I've been running steady bobs on mm2 for weeks. Is there any reason to update? Everything seems fine and dandy


[18-Sep-19 07:00 AM] artem.pikulin#0794
@allbits Hi, I'm glad to know that it works good for you! As we're still in beta  it's recommended to track MM2 repo and update whenever new commits are pushed to `mm2` branch to be 100% compatible with other nodes.


[18-Sep-19 07:09 AM] artem.pikulin#0794
@ca333 @siu @hyperDEX @Slyris Hi! Please check the most recent change in MM2: https://github.com/KomodoPlatform/developer-docs/pull/126/files. The `rational` number type is added for ordermatching and it's highly recommended to support it as fast as possible. It's backwards-compatible with previous versions, but should solve the issues with numbers like `1/3` which can't be represented as finite decimal. So from now you may create an order with exactly `4/3` price and receive 3 RICK for your 4 MORTY. Please pay attention that `buy`, `sell`, `setprice` will stop accepting decimal numbers soon in requests, but will always display the decimal amounts in responses for readability. I've also left a note regarding the JSON representation used by `num-rational` crate. If you have any questions please let me know.

{Reactions}
üëç (2) üíØ 

[18-Sep-19 07:20 AM] allbits#5898
Thank you


[18-Sep-19 07:36 AM] siu#3920
üëç


[18-Sep-19 07:45 AM] cipi#4502
`Please pay attention that buy, sell, setprice will stop accepting decimal numbers soon in requests`
what does that mean? i get the prices for `setprice` from coinpaprika...


[18-Sep-19 07:48 AM] jl777c#5810
forcing everything to use rational numbers doesnt make sense. this is not a consensus issue and a bit of rounding errors is not any big deal.


[18-Sep-19 07:48 AM] jl777c#5810
i STRONGLY suggest to retain the ability to just use decimal numbers FOREVER


[18-Sep-19 07:48 AM] jl777c#5810
adding support for rational numbers is nice to have, but i dont know why it is prioritized above all the other things that are needed??


[18-Sep-19 07:49 AM] cipi#4502
like https://api.coinpaprika.com/v1/price-converter?base_currency_id=kmd-komodo&quote_currency_id=btc-bitcoin&amount=1
which returns `price    0.00007153638969897673`


[18-Sep-19 07:49 AM] jl777c#5810
traders wont care about a lost 0.0000001


[18-Sep-19 07:49 AM] jl777c#5810
yes, floating point like that needs to be supported, otherwise it will break all things that use mm2


[18-Sep-19 07:50 AM] jl777c#5810
we dont break backward compatibility unless there is some giant reason to do so and supporting ratiional numbers is not any giant reason to throw out normal decimal numbers


[18-Sep-19 08:19 AM] mobipoi#5774
@jl777c  I care


[18-Sep-19 08:20 AM] mobipoi#5774
about my "0.0000001"


[18-Sep-19 08:20 AM] ca333#0333
we could likely keep both options - decimal and rational - where the latter provides "real" precision preventing all these rounding and floating point issues


[18-Sep-19 08:25 AM] cipi#4502
how do you do math with this? What is `0.00007153 * 1.03` in this rational represantation?


[18-Sep-19 08:27 AM] jl777c#5810
7153/100000000 * 103/100


[18-Sep-19 08:28 AM] jl777c#5810
it wil be a giant pain to do all the math in this way


[18-Sep-19 08:28 AM] jl777c#5810
which will hurt adoption


[18-Sep-19 08:29 AM] jl777c#5810
if there are bugs that need rational representation to fix, then it should be implemented internally so the external requests can use normal floating point representation and it is converted to rational numbers internally


[18-Sep-19 08:29 AM] jl777c#5810
"dont break userspace" is a very valid point

{Reactions}
üíØ (3) 

[18-Sep-19 09:28 AM] artem.pikulin#0794
As we can see we already got a feedback that people care about their 1 satoshi. Also from my personal experience it's pretty annoying when you get bunch of such few satoshis dust on exchange like Binance due to rounding. Regarding `giant pain` I'd argue as there're packages available for popular languages:
1. JS - https://www.npmjs.com/package/big-rational
2. Dart - https://pub.dev/packages/rational
3. Python - https://docs.python.org/3/library/fractions.html
4. etc.
And also even if there's no library it's actually not hard programming task to implement such number or provide this as precompiled MM2 library that can be linked to C/C++ project or as WASM module for web environment.

{Embed}
https://www.npmjs.com/package/big-rational
big-rational
An arbitrary length rational number library for Javascript
https://images-ext-1.discordapp.net/external/2wk8OcHCn611djWAWkrbos0ZdT46qDFw0Q3s_CuGp0E/https/static.npmjs.com/338e4905a2684ca96e08c7780fc68412.png

{Embed}
https://pub.dev/packages/rational
rational | Dart Package
The rational package allows you to deal with rational numbers
https://images-ext-1.discordapp.net/external/wyStE7ynimpGIlLTmL8Tv3x7Yzb2hRRZqPeBjTAbYjU/%3Fhash%3Di18bc8g4aa2r6vf85lpgro6ml5ltd13g/https/pub.dev/static/img/dart-logo-400x400.png


[18-Sep-19 09:30 AM] artem.pikulin#0794
Converting to rationals directly won't make sense since decimal can't represent e.g. `1/3` without rounding. The main goal of using rational is to avoid roundings at all. We're dealing with money so having precise calculations is very important.


[18-Sep-19 09:31 AM] jl777c#5810
yes, but it isnt a consensus issue and changing from floating point to rational numbers only, that will be an issue


[18-Sep-19 09:31 AM] jl777c#5810
if you can support both ways, that is much better


[18-Sep-19 09:32 AM] jl777c#5810
for the people that want that extra half satoshi, they can use rational numbers


[18-Sep-19 09:32 AM] jl777c#5810
for those that dont care, they can use floating point


[18-Sep-19 09:34 AM] allbits#5898
Sorry to interrupt your flow. A noob question. I updated with git pull. Started again. Everything works fine. My orders are still there, etc. But when I do method version I get result UNKNOWN. Have I done something wrong or missed a step?  Thanks. Please ignore until you're done your conversation


[18-Sep-19 09:34 AM] artem.pikulin#0794
MM2 supports both ways now and will support until we get the confirmation from all GUI developers and CLI users that they are able to use rational representation without decimals. The conversion between formats introduce rounding errors which might affect ordermatching experience, such as `0.3333 < 1/3` and orders won't match.


[18-Sep-19 09:35 AM] cipi#4502
just add 1% to the price and it will match... it doesn't matter anyway, since the price that is used, is the price set by the maker... so if the taker adds 1% to his price, he will still get the lower price, right?


[18-Sep-19 09:36 AM] jl777c#5810
i can guarantee there will be people that wont be able to adapt to rational numbers, so if we lose ability to use floating point, then we will lose cli users and some gui devs


[18-Sep-19 09:36 AM] jl777c#5810
yes, just adjust price by even 0.1% and that will more than compensate for a satoshi rounding error


[18-Sep-19 09:38 AM] artem.pikulin#0794
Maybe I was just too eager with `rational-only`, let's see how it goes. GUI users won't have to input rational numbers, they will be displayed the rounded amount, e.g. `you will get the 3 RICK for your 4 MORTY`, the price is `~1.33333`


[18-Sep-19 09:39 AM] jl777c#5810
unless the rational numbers can also be input as floating point, this is not an improvement, just an additional barrier to solve a satoshi rounding issue


[18-Sep-19 09:39 AM] jl777c#5810
again, i repeat, again


[18-Sep-19 09:39 AM] jl777c#5810
this is not affecting the blockchain consensus


[18-Sep-19 09:40 AM] jl777c#5810
it only affects if an ordermatch is rejected by a fraction of a satoshi


[18-Sep-19 09:40 AM] jl777c#5810
so, just add/subtract 0.0001%, that will solve the actual issue and not force a much harder to use syntax for numbers, when it isnt needed


[18-Sep-19 09:41 AM] jl777c#5810
if someone really demands exact matching to the fraction of a satoshi, then they can use the rational representation


[18-Sep-19 09:41 AM] artem.pikulin#0794
Noone is forced to use rational by now.


[18-Sep-19 09:41 AM] jl777c#5810
yes, but you announced that it will be required in the future. if the api gets to where you cant just submit "price":1.234, that will be a big step backwards in usability


[18-Sep-19 09:42 AM] jl777c#5810
first, it will break ALL userspace of everything using the api


[18-Sep-19 09:42 AM] artem.pikulin#0794
I personally prefer to avoid magical `addition or subtraction` by software that deals with my money.


[18-Sep-19 09:42 AM] jl777c#5810
that alone makes it a non-starter, so i dont know why we are discussing this


[18-Sep-19 09:42 AM] artem.pikulin#0794
I already said that I was too eager maybe.


[18-Sep-19 09:42 AM] jl777c#5810
i have no problems with a dual-mode


[18-Sep-19 09:42 AM] jl777c#5810
my issue was with breaking all of userspace and forcing a new numerical system unfamiliar to 99%


[18-Sep-19 09:43 AM] jl777c#5810
we are not BTC legacy devs


[18-Sep-19 09:43 AM] artem.pikulin#0794
So i said keeping dual mode it's not a problem and it will be kept depending on user experience.


[18-Sep-19 09:43 AM] jl777c#5810
let us honor backward compatibility and the time people have spent to get things working with the api as much as possible


[18-Sep-19 09:43 AM] jl777c#5810
my user experience with the proposed removal of floating point representation is not good


[18-Sep-19 09:44 AM] artem.pikulin#0794
I honor backward compatibility so I implemented dual mode.


[18-Sep-19 09:44 AM] jl777c#5810
as long as it is dual mode, i am ok


[18-Sep-19 09:44 AM] artem.pikulin#0794
Please stop attacking and read above messages.


[18-Sep-19 09:44 AM] jl777c#5810
i am not attacking, i am stating my position


[18-Sep-19 09:44 AM] artem.pikulin#0794
Your position is already accepted.


[18-Sep-19 09:44 AM] jl777c#5810
you keep saying, "depending on how it is received"


[18-Sep-19 09:45 AM] jl777c#5810
i am saying that exclusively using a rational number syntax that is unfamiliar to most is not a good idea,but you keep raising the possibility of eliminating floating point.


[18-Sep-19 09:47 AM] ca333#0333
Having the dual mode (rational AND decimal) will keep backwards compatiblity and at the same time enable precise systems/GUIs to be developed using mm2 without having to use +0.001% hackarounds (which the less precise implementations can still use) - this should likely resolve all problems and prevent the need for further discussion.


[18-Sep-19 09:47 AM] jl777c#5810
i am ok with dual mode


[18-Sep-19 09:48 AM] cipi#4502
sounds good... as long as i can continue to do `setprice` with 8 decimals, all is fine üôÇ


[18-Sep-19 09:48 AM] jl777c#5810
exactly


[18-Sep-19 09:48 AM] ComputerGenie#7004
_places his order of `œÄ at the price of œÄ`_

{Reactions}
üòÜ 

[18-Sep-19 09:50 AM] Slyris#2880
Interesting.


[18-Sep-19 09:52 AM] Slyris#2880
We can also use the same algorithm for calculation as BC does , means using strings to do all calculation


[18-Sep-19 09:52 AM] ca333#0333
After digging into financial software we came to the conclusion that the rational datatype is the way to go IF we want to offer real precision - financial software usually would prevent using floating points except for representations (UI) - internally and specially IF full precision is required banking software would just use multiplications to treat all numbers as full INTs during arithmetic operations - which in our case isn't possible due to the trading engine's nature (requiring divisions for certain operations).


[18-Sep-19 09:52 AM] Slyris#2880
Real precision with string is the best way


[18-Sep-19 09:52 AM] Slyris#2880
To solve the problem


[18-Sep-19 09:52 AM] ca333#0333
@Slyris BTC doesn't use strings but rather full INTs - similar to how banking/financial software works.


[18-Sep-19 09:53 AM] Slyris#2880
Yeah but use them as string representation


[18-Sep-19 09:53 AM] Slyris#2880
Means no errors.


[18-Sep-19 09:53 AM] Slyris#2880
String as int Can be infinite digits


[18-Sep-19 09:53 AM] ca333#0333
Basically multiplying the amount (often represented as decimal num in the UI) by the base to turn it a full INT. e.g. 1.32 USD would become 132 Pennies (decimal base 10^2).


[18-Sep-19 09:53 AM] ca333#0333
In our case the base is satoshi 10^8


[18-Sep-19 09:54 AM] Slyris#2880
Yeah


[18-Sep-19 09:54 AM] Slyris#2880
Means moving the decimal on the right


[18-Sep-19 09:54 AM] Slyris#2880
Simply.


[18-Sep-19 09:54 AM] Slyris#2880
And add zeros.


[18-Sep-19 09:54 AM] Slyris#2880
Internally the market maker bot use strings


[18-Sep-19 09:55 AM] Slyris#2880
But you can even use the real BC as calculate tools


[18-Sep-19 09:55 AM] Slyris#2880
Which is the most precise tools even used by NASA


[18-Sep-19 09:55 AM] ca333#0333
BTC has the CAmount datatype which is a internal int64_t repr. if not mistaken - so again landing at full int representation for internal arithmetic operations.


[18-Sep-19 09:56 AM] jl777c#5810
yes


[18-Sep-19 09:56 AM] jl777c#5810
string representation is only at the rpc level where it is immediately converted


[18-Sep-19 09:56 AM] jl777c#5810
since any decimal representation can be auto-converted to rational, it seems this is a moot issue


[18-Sep-19 09:56 AM] Slyris#2880
Yeah true also


[18-Sep-19 09:56 AM] Slyris#2880
But what about erc20


[18-Sep-19 09:56 AM] ca333#0333
Anyway - to be fair, i was also voting up a pure rational num utilisation - but i do agree now that a dual mode makes more sense. Issues resolved.


[18-Sep-19 09:57 AM] jl777c#5810
and it makes sense to automate this conversion so we dont have to educate all possible users of mm2 api on a new number representation


[18-Sep-19 09:57 AM] Slyris#2880
And if someone create a protocol with more digits


[18-Sep-19 09:57 AM] ca333#0333
10^18 @Slyris


[18-Sep-19 09:57 AM] ca333#0333
thanks to decimal base its a no-brainer


[18-Sep-19 09:57 AM] Slyris#2880
10 18 is more than uint128t sometimes I believe


[18-Sep-19 09:57 AM] jl777c#5810
regardless of the number of digits, it is trivial to autoconvert it to rational representation. there is no need to force all callers of the api to adopt a new numerical system. that will be error prone and just another barrier to adoption


[18-Sep-19 09:58 AM] Slyris#2880
But yeah rational do the job too


[18-Sep-19 09:58 AM] ca333#0333
bigInt covers that range


[18-Sep-19 09:59 AM] ComputerGenie#7004
`And if someone create a protocol with more digits`
if (coinname=CoinY) {decimalplaces=18 }
else {decimalplaces= 8}


[18-Sep-19 09:59 AM] cipi#4502
i use 8 decimals for all coins, doesn't matter if they have 18 decimals or 1000


[18-Sep-19 10:00 AM] ComputerGenie#7004
or that


[18-Sep-19 10:01 AM] ca333#0333
suboptimal if you want to offer precision - which in financial software should be target #1


[18-Sep-19 10:01 AM] jl777c#5810
when marketmaking there is no 100% precision as it all depends on a moving market price anyway


[18-Sep-19 10:02 AM] Slyris#2880
I worked at the BNP Paribas ans they just use strings everywhere with fast algorithm on strings


[18-Sep-19 10:02 AM] Slyris#2880
That's why I speaked about strings


[18-Sep-19 10:02 AM] jl777c#5810
anyway, we have a dualmode solution, which is acceptable to all

{Reactions}
üëç 

[18-Sep-19 10:02 AM] ca333#0333
I hope you didn't sign an NDA üòÖ @Slyris


[18-Sep-19 10:02 AM] jl777c#5810
sorry to make such a big issue, but backward compatibility is a trigger point for me

{Reactions}
üëç (2) ‚úÖ 

[18-Sep-19 10:03 AM] Slyris#2880
Lol it's not breaking the NDA saying they use strings


[18-Sep-19 10:03 AM] Slyris#2880
But no I didn't anyway

{Reactions}
üíØ 

[18-Sep-19 10:22 AM] allbits#5898
Noob here. I updated with git pull. Then started mm2 again. All works fine. I see all my old orders there.  Only issue so far is that when I do method version I get result UNKNOWN. Have I done something wrong or missed a step?


[18-Sep-19 10:25 AM] ca333#0333
try `git log --pretty=format:'%h' -n 1 > MM_VERSION` before building


[18-Sep-19 10:25 AM] cipi#4502
the version is set at compile time, but only in the CI builds on github, if you compile it yourself, it is not set... my mm2 looks the same


[18-Sep-19 10:25 AM] cipi#4502
or that üôÇ


[18-Sep-19 10:33 AM] jl777c#5810
last 24hrs: ALL (99.10% success) 440/444

{Reactions}
‚òù üíØ (2) 

[18-Sep-19 10:34 AM] jl777c#5810
highest success rate i have seen and the 4 failed swaps were all VRSC swaps. maybe a single user just had some problems


[18-Sep-19 10:36 AM] cipi#4502
that is also what i see in the console output, very few swaps fail... and it looks like the ones that fail do this because one side shuts down his mm2 in the middle of a swap


[18-Sep-19 10:52 AM] allbits#5898
Ok. So after I git pull I have to rebuild?


[18-Sep-19 10:54 AM] ca333#0333
yes - after executing the above `git log` command (https://discordapp.com/channels/412898016371015680/449950331577565194/623932507519188993) just rebuild


[18-Sep-19 10:55 AM] ca333#0333
it basically writes the last commit hash into the `MM_VERSION` file which is used for the version


[18-Sep-19 10:59 AM] allbits#5898
K.Thanks


[18-Sep-19 11:00 AM] allbits#5898
And I rebuild using the same command as in the docs

{Reactions}
‚úÖ 

[18-Sep-19 11:00 AM] allbits#5898
?


[18-Sep-19 11:15 AM] CHMEX#0686
>>last 24hrs: ALL (99.10% success) 440/444
is there a api call in mm2 to get that data? Or is it calculated by somehow looking at the dex fee address? or even parsing the mm2 console output


[18-Sep-19 11:16 AM] CHMEX#0686
I did not find something similar to the old 'ticker' api call in the docs


[18-Sep-19 11:23 AM] Acura#2748
Maybe this https://www.oracle.earth/atomic_stats/?timespan=all


[18-Sep-19 11:31 AM] CHMEX#0686
yes I will ask him how to get that data once he is back...


[18-Sep-19 02:39 PM] TonyL#3577
@CHMEX I've setup prototype API which fetching swaps status data DB from one of the seed nodes (website above fetching data from this API and representing as graphs)


[18-Sep-19 05:57 PM] cipi#4502
@artem.pikulin wanted to ask if we can remove the hardcoded txversion/overwintered settings for KMD ACs from here: https://github.com/KomodoPlatform/atomicDEX-API/blob/558da7d3e7793048a12715f49f71d0b06a520f5c/mm2src/coins/utxo.rs#L1667
it would allow us to add OOT, which is a KMD AC, but without sapling
PART can be removed from there too
in fact everything from line 1667 to line 1674 could be removed
i will then make a PR to the coins repo to include txversion 4 and overwintered 1 to all KMD ACs that have it

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/558da7d3e7793048a12715f49f71d0b06a520f5c/mm2src/coins/utxo.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[18-Sep-19 11:34 PM] artem.pikulin#0794
@cipi Sure, it's planned, will remove the hardcode today and let you know.


[19-Sep-19 12:11 AM] artem.pikulin#0794
@cipi It's done: https://github.com/KomodoPlatform/atomicDEX-API/commit/105ab21a6e93daa2cbb1f4fb7792a30218c8e02a. @ca333 @Slyris @hyperDEX @siu please make sure to update your coins config accordingly, KMD and all ACs using sapling must have `txversion:4` and `overwintered:1` to work properly.

{Reactions}
üëç 

[19-Sep-19 12:12 AM] Slyris#2880
i fetch the coinconfig from jl777 master branch coins


[19-Sep-19 12:12 AM] Slyris#2880
directly from github


[19-Sep-19 12:12 AM] artem.pikulin#0794
Ok, then please wait for cipi PR before using the most recent MM2.


[19-Sep-19 12:12 AM] Slyris#2880
i Use the daily builds


[19-Sep-19 12:13 AM] cipi#4502
https://github.com/jl777/coins/pull/376

{Embed}
https://github.com/jl777/coins/pull/376
add txversion 4 and overwintered 1 to ACs by cipig ¬∑ Pull Request...
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[19-Sep-19 12:13 AM] cipi#4502
thanks a lot... i will try to swap some OOT


[19-Sep-19 12:30 AM] cipi#4502
cool, that worked: https://github.com/jl777/coins/commit/8881c70419003b7f72eb6b81f19fd9257e036225

{Embed}
https://github.com/jl777/coins/commit/8881c70419003b7f72eb6b81f19fd9257e036225
add OOT swap data ¬∑ jl777/coins@8881c70
https://images-ext-1.discordapp.net/external/DEpA_yVWgnDGALxS6REG6mxdIdhRpohnMBi-sUxykW0/%3Fs%3D200%26v%3D4/https/avatars2.githubusercontent.com/u/32116761

{Reactions}
üëç (3) 

[23-Sep-19 10:26 AM] jorian#4555
i'm reading up about the use of rational numbers, but i'm having a difficult time to grasp how a rational number in the orderbook is used. can one of the implementors of the rational numbers in mm2.0 explain why this 11 is represented like this? and why this is a good thing?

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/625744863991955499/unknown.png


[23-Sep-19 10:27 AM] jorian#4555
also, the wording of the pull request of the documentation of rational numbers make it sound like decimal is really going away: <https://github.com/KomodoPlatform/developer-docs/pull/126/files#diff-6ab44e5ca9208fafccf3568523c09b2e>


[23-Sep-19 10:29 AM] jorian#4555
furthermore, i think it would help people not experts in rational numbers with some more examples and not just the example edge cases of 2^32


[24-Sep-19 06:12 AM] artem.pikulin#0794 (pinned)
@jorian Hi, please notice that `price` field is not just `11`, it's a number with many zeros after decimal point. So in rational representation it actually becomes `11000000.... / 1000......` which are huge numbers and do not fit standard integer types. So as mentioned in docs these numbers are represented as array of smaller fixed size integers (uint32) and ordered in little endian. It's actually a common way of big numbers implementation.
As it's impossible to copy-paste from screenshot let me provide a smaller number example:
1. Decimal number representation is `11.00000000000000000000000000000000000000`
2. Rational in fraction form: `1100000000000000000000000000000000000000/100000000000000000000000000000000000000`
3. JSON form `[[1,[0,1760524480,3821695294,999050043,3]],[1,[0,160047680,1518781562,1262177448]]]`
So in JSON implementation we have 2 numbers `[0,1760524480,3821695294,999050043,3]` which is 160 bit integer `1100000000000000000000000000000000000000` and `[0,160047680,1518781562,1262177448]` which is 128 bit integer `100000000000000000000000000000000000000`.

Such arrays can be parsed as (pseudo code):
```
nums = [0,160047680,1518781562,1262177448];
sum = 0;
for i in 0..array.len() {
    sum += nums[i] * 2.pow(32 * i);
}
```
So let's take a look at [0,160047680,1518781562,1262177448]. According to snippet it's 0 * 2^0 + 160047680 * 2^32 + 1518781562 * 2^64 + 1262177448 * 2^96, which is exactly `100000000000000000000000000000000000000`.


But the problem is this huge number can be effectively reduced to just `[[1,[11]],[1,[1]]]`, which wasn't done by MM2, so it's now fixed: https://github.com/KomodoPlatform/atomicDEX-API/commit/87fc4beb3e78f5f75cf235d930ebaa5dc3427327.

And the other problem is: where does `11.0000...` come from? I guess it's intended to be just `11`. Did you create the order by yourself or it's received from other node?


[24-Sep-19 06:31 AM] artem.pikulin#0794
`and why this is a good thing?` this particular example wasn't good thing of course, but it should be fixed now by reducing the fraction. The good thing is:
1. Let's say you have 1 MORTY.
2. You want to buy RICK at 11 MORTY per 1 RICK rate.
3. So your desired amount of RICK is 1/11.
4. 1/11 can't be represented as finite decimal, it's `0.09090909....`.
So if we don't use rational here, how should we handle this case to sell exactly 1 MORTY? Of course we can cut it to just `0.09090909`, but then it leaves 1 annoying satoshi as `0.09090909 * 11 = 0.99999999`. Ok, let's try to slightly increase the price to let's say `11.000002`. But then it becomes that `0.09090909 * 11 = 1.00000017181818` which is larger than required 1 by 17 satoshis (that we might not have by the way).


[24-Sep-19 06:32 AM] artem.pikulin#0794
And also as MM2 is multi-coin tool such calculations might become even more tricky since ETH is using uint256 type internally and 18 decimals.


[24-Sep-19 06:33 AM] artem.pikulin#0794
So it's actually the easiest way to let it be `1/11` and then this value is just truncated to required decimals precision of specific coin: for 8 decimals it will be `0.09090909`, for 18 decimals `0.090909090909090909` and so on.


[24-Sep-19 06:52 AM] artem.pikulin#0794
I also removed the `deprecated` for prices and volumes as decimal strings: https://github.com/artemii235/developer-docs/commit/54cda863b998610227ca2db00021fe2df1c9a4b1. However using rational numbers will be the recommended way to deal with such `1/11` cases.


[26-Sep-19 05:38 PM] allbits#5898
Can I set more than one active bob order on mm2?


[26-Sep-19 10:43 PM] artem.pikulin#0794
@allbits Hi, sure, if you'd like to call `setprice` for same pair several times and have different prices you have to specify `cancel_previous:false` in your request as MM2 cancels all previous orders by default: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#setprice. It was done to keep the previous use case of MM1 working: when the price was repeatedly set for same pair by `setprice` it either created new order or changed the price of existing one.

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[26-Sep-19 10:45 PM] artem.pikulin#0794
Please note that this `cancel_previous` is only actual for `setprice`. `buy` and `sell` do nothing with already existing orders and always create a new one.


[26-Sep-19 11:45 PM] allbits#5898
Thank you


[28-Sep-19 06:52 AM] Patrick Crypto#1546
Is it possible to view recent trades with the mm2 cli?


[28-Sep-19 06:53 AM] gcharang#6833
@Patrick Crypto <https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#my-recent-swaps>


[28-Sep-19 06:58 AM] Patrick Crypto#1546
Other trades though... not my own


[29-Sep-19 01:42 AM] Patrick Crypto#1546
N00b question, I am rather confused about making orders on here. Say I want to place orders to buy VRSC with KMD at .12, .11 and .1 

I edited ./place_order.sh to include cancel_previous: false

But how do I want to write that order out in the cli?

./place_order.sh VRSC KMD .12 50 | jq '.'

Or

./place_order.sh KMD VRSC 8.333 50 | jq '.'


[29-Sep-19 01:52 AM] smkhound#7640
depends how you have the variables defined in the script - you can use raw curl https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html#initiate-a-swap

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[29-Sep-19 01:54 AM] smkhound#7640
does `place_order` use the `buy` method, `sell` method or the `setprice` method?


[29-Sep-19 02:14 AM] Patrick Crypto#1546
setprice


[29-Sep-19 02:14 AM] Patrick Crypto#1546
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setprice\",\"base\":\"$1\",\"rel\":\"$2\",\"price\":\"$3\",
\"volume\":\"$4\",\"cancel_previous\":false}"


[29-Sep-19 02:18 AM] smkhound#7640

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/627796452650778635/unknown.png


[29-Sep-19 02:19 AM] smkhound#7640
the $1, $2, $3, $4 are the order of the script params


[29-Sep-19 02:21 AM] smkhound#7640
so `./place_order.sh KMD VRSC 8.333 50 | jq '.'`
means
`I want to sell KMD for VRSC at 8.333 VRSC per KMD, and I want to sell 50 KMD.`


[29-Sep-19 02:38 AM] Patrick Crypto#1546
Ok, and is there an effective difference between that and the reverse? VRSC KMD .12 50?


[29-Sep-19 02:40 AM] smkhound#7640
`I want to sell VRSC for KMD at 0.125 KMD per VRSC, and I want to sell 50 VRSC.`


[29-Sep-19 02:41 AM] smkhound#7640
in terms of price, the inverse math is right, but the overall trade value is less and what is sold / received is opposite.


[29-Sep-19 02:44 AM] Patrick Crypto#1546
So if I have KMD and want VRSC use the first, and if I have VRSC and want KMD use the 2nd?

{Reactions}
‚úÖ 

[29-Sep-19 02:50 AM] Patrick Crypto#1546
Followup question: I do not have any vrsc in my wallet, but I was able to place an order-- am I misunderstanding something?


[29-Sep-19 03:16 AM] smkhound#7640
should get error msg if insufficient trade balance ü§î


[29-Sep-19 03:16 AM] smkhound#7640
cant sell what you dont have....


[29-Sep-19 03:19 AM] gcharang#6833
maybe it will always fail at the negotiation step?


[29-Sep-19 03:22 AM] smkhound#7640
Ive seen the 'not enough balance' error. dont use the bash or curl tho, so not 100% sure


[29-Sep-19 03:25 AM] smkhound#7640
`curl --url "http://127.0.0.1:7783/" --data "{\"userpass\":\"${userpass}\",\"method\":\"setprice\",\"base\":\"VRSC\",\"rel\":\"KMD\",\"price\":\"0.125\",
\"volume\":\"100000000000000000000000000000\",\"cancel_previous\":false}"`
`{"error":"rpc:272] lp_ordermatch:669] The VRSC amount 100000000000000000000000000000 is larger than available 34.32523143, balance: 34.32523143, locked by swaps: 0.00000000"}`


[29-Sep-19 03:27 AM] smkhound#7640
'
the above is equivalent to `./setprice VRSC KMD 0.125 100000000000000000000000000000`


[29-Sep-19 03:29 AM] smkhound#7640
selling VRSC | buying KMD | 0.125 KMD per VRSC | volume more VRSC than I own


[29-Sep-19 03:31 AM] smkhound#7640
fwiw, I have a python CLI wrapper which may be a little more intuative, and working on a TUI right now which has basic functionality. Haven't done optional params like cancel_previous = false yet tho in the TUI, but I think it is for the pyCLI.


[29-Sep-19 07:29 AM] Patrick Crypto#1546
./place_order.sh VRSC KMD 1 1 | jq '.'
{
  "result": {
    "base": "VRSC",
    "created_at": 1569767304964,
    "matches": {},
    "max_base_vol": "1",
    "min_base_vol": "0",
    "price": "1",
    "rel": "KMD",
    "started_swaps": [],
  }
}


[07-Oct-19 06:36 PM] Mylo#8306
```
the above is equivalent to ./setprice VRSC KMD 0.125 100000000000000000000000000000
selling VRSC | buying KMD | 0.125 KMD per VRSC
```
thank you @smkhound 
good question about rational number @siu  i'm getting very long decimals recently and was pretending to ignore it for the time-being.
@artem.pikulin#0794 thanks for the detailed answer.   interesting set of problems you have to solve in this project üòõ


[07-Oct-19 06:40 PM] Mylo#8306
so for a GUI, is it safe to round up to the nearest 8th decimal place?


[07-Oct-19 06:56 PM] Mylo#8306
Pinned a message.


[08-Oct-19 01:39 PM] allbits#5898
I'm a bit lost on how to update mm2.  I do a git pull and it updated files. Do I have to cargo build again?


[08-Oct-19 02:13 PM] Oszy#5734
cargo clean then build


[08-Oct-19 02:14 PM] Oszy#5734
& save your config files before you clean


[08-Oct-19 02:17 PM] Oszy#5734
also make sure you have latest rust nightly-2019-08-05

`rustup install nightly-2019-08-05
rustup default nightly-2019-08-05
rustup component add rustfmt-preview`
`

cargo clean 
cargo build --features native -vv`


[08-Oct-19 02:28 PM] allbits#5898
Thanks


[08-Oct-19 02:29 PM] allbits#5898
Where are config files?


[08-Oct-19 02:59 PM] allbits#5898
I'll look back at docs


[08-Oct-19 03:00 PM] Oszy#5734
I meant the coins list mostly if you had it personalized


[08-Oct-19 03:16 PM] allbits#5898
K


[08-Oct-19 03:59 PM] allbits#5898
Updated successfully. Thanks!


[08-Oct-19 04:00 PM] allbits#5898
One issue now - the orderbook output is far less clean now.  Specifically, the "max_volume_rat" fields are broken up all over the screen. Any ideas?


[08-Oct-19 08:36 PM] kremer#0658
has anyone seen this error before? im trying to build mm2 from source

error: failed to run custom build command for `common v0.1.0 (/home/kremer/atomicDEX-API/mm2src/common)`

Caused by:
  process didn't exit successfully: `/home/kremer/atomicDEX-API/target/debug/build/common-57231effe17782d2/build-script-build` (exit code: 101)
--- stdout
cargo:rerun-if-changed=/home/kremer/atomicDEX-API/MM_VERSION
cargo:rustc-env=MM_VERSION=UNKNOWN
cargo:rerun-if-changed=/home/kremer/atomicDEX-API/iguana/exchanges/mm.c
cargo:rerun-if-changed=/home/kremer/atomicDEX-API/CMakeLists.txt

--- stderr
thread 'main' panicked at 'Target not (yet) supported: i686-unknown-linux-gnu', mm2src/common/build.rs:447:18
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.
is it possible this is a hardware spec issue? currently on an old laptop
this is the output of cargo build --features native -vv


[08-Oct-19 10:44 PM] Oszy#5734
looks like an OSX related build error


[08-Oct-19 10:45 PM] Oszy#5734
are you trying on an old macbook?


[09-Oct-19 05:30 AM] Patrick Crypto#1546
When I use curl --url "http://127.0.0.1:7783/" --data "{"userpass":"$userpass","method":"my_balance","coin":"VRSC"}"

It only displays my KMD balance for some reason.


[09-Oct-19 05:34 AM] Oszy#5734
so this command shows you KMD balance not VRSC? do you have VRSC activated?


[09-Oct-19 05:34 AM] Patrick Crypto#1546
yes


[09-Oct-19 05:35 AM] Patrick Crypto#1546
shows the KMD balance for BTC too


[09-Oct-19 05:36 AM] Patrick Crypto#1546
I must have soe error in my initialization?


[09-Oct-19 05:36 AM] Oszy#5734
üôÑ


[09-Oct-19 05:36 AM] Patrick Crypto#1546
Of course it's not exactly clear on how to properly initialize the coins so that is pretty likely


[09-Oct-19 05:37 AM] Oszy#5734
what do you have in the "coins" file


[09-Oct-19 05:37 AM] Oszy#5734
mm2 activates those on startup


[09-Oct-19 05:37 AM] Patrick Crypto#1546
It's the coins file from JL777


[09-Oct-19 05:38 AM] Oszy#5734
I just tried the same command and it gives me correct balance for each coin


[09-Oct-19 05:38 AM] Oszy#5734
{"address":"XXXX","balance":"Y","coin":"KMD","locked_by_swaps":"0"}


[09-Oct-19 05:38 AM] Oszy#5734
shows same balance for everything, and coin: "COIN_NAME" is correct in response?


[09-Oct-19 05:39 AM] Patrick Crypto#1546
yeah


[09-Oct-19 05:40 AM] Oszy#5734
what is the mm2 output? not the console


[09-Oct-19 05:40 AM] Oszy#5734
same?


[09-Oct-19 05:40 AM] Patrick Crypto#1546
one moment, I am restarting mm2


[09-Oct-19 05:42 AM] Patrick Crypto#1546
I am not sure what you mean by mm2 activates the coins on startup, because when I just restarted, I get error: no such coin when I try to get the balance


[09-Oct-19 05:42 AM] Oszy#5734
`coins file from JL777` has all available, keep only what you need.


[09-Oct-19 05:43 AM] Oszy#5734
is VRSC in your coins file?


[09-Oct-19 05:43 AM] Patrick Crypto#1546
yes


[09-Oct-19 05:43 AM] Patrick Crypto#1546
KMD as well


[09-Oct-19 05:43 AM] Patrick Crypto#1546
No such coin


[09-Oct-19 05:44 AM] Patrick Crypto#1546
I had to connect to them before


[09-Oct-19 05:44 AM] Oszy#5734
where did you put coins file?


[09-Oct-19 05:45 AM] Oszy#5734
next to mm2 binary?


[09-Oct-19 05:45 AM] Patrick Crypto#1546
/atomicdex/target/debug


[09-Oct-19 05:45 AM] Patrick Crypto#1546
yes same dir


[09-Oct-19 05:46 AM] Oszy#5734
oh okay, connect to electrum


[09-Oct-19 05:46 AM] Patrick Crypto#1546
I followed the 'liquidity provider' tutorial


[09-Oct-19 05:47 AM] Patrick Crypto#1546
how do I do that?


[09-Oct-19 05:47 AM] Oszy#5734
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html#connect-to-the-relevant-coin-networks

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[09-Oct-19 05:48 AM] Oszy#5734
first i thought u were using native


[09-Oct-19 05:48 AM] Patrick Crypto#1546
I don't understand what you mean by connect to electrum though


[09-Oct-19 05:49 AM] Oszy#5734
Execute the following command:

`curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"electrum\",\"coin\":\"RICK\",\"servers\":[{\"url\":\"electrum1.cipig.net:10017\"},{\"url\":\"electrum2.cipig.net:10017\"},{\"url\":\"electrum3.cipig.net:10017\"}]}"`

will connect you to the coin's electrum server so you can see balance / trade


[09-Oct-19 05:49 AM] Oszy#5734
you need to know the electrum URL's


[09-Oct-19 05:50 AM] Oszy#5734
let me check that guide you were following.


[09-Oct-19 05:50 AM] Patrick Crypto#1546
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html#install-marketmaker-software

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[09-Oct-19 05:50 AM] Oszy#5734
`Connect to the KMD network
#Command
./KMDconnect.sh`


[09-Oct-19 05:51 AM] Oszy#5734
this does the same thing but it's scripted for you already


[09-Oct-19 05:51 AM] Patrick Crypto#1546
That is what I did before


[09-Oct-19 05:51 AM] Oszy#5734
Ok so connect KMD and VRSC now


[09-Oct-19 05:52 AM] Oszy#5734
you can only see the balance of what you have connected


[09-Oct-19 05:52 AM] Patrick Crypto#1546
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"electrum\",\"coin\":\"VRSC\",\"servers\":[{\"url\":\"electrum1.cipig.net:1000$


[09-Oct-19 05:52 AM] Patrick Crypto#1546
Is that I used for VRSc


[09-Oct-19 05:52 AM] Patrick Crypto#1546
sorry hard to copy from the terminal


[09-Oct-19 05:53 AM] Oszy#5734
did it connect?


[09-Oct-19 05:53 AM] Oszy#5734
did you get response?


[09-Oct-19 05:53 AM] Patrick Crypto#1546
I edited the kmd connect and replaced kmd with vrsc


[09-Oct-19 05:53 AM] Patrick Crypto#1546
Yes, same balance as KMD


[09-Oct-19 05:53 AM] Oszy#5734
`curl --url "http://127.0.0.1:7783" --data "{"userpass":"$userpass","method":"electrum","coin":"VRSC","ipaddr":"el0.vrsc.0x03.services","port":10000}"
curl --url "http://127.0.0.1:7783" --data "{"userpass":"$userpass","method":"electrum","coin":"VRSC","ipaddr":"el1.vrsc.0x03.services","port":10000}"
curl --url "http://127.0.0.1:7783" --data "{"userpass":"$userpass","method":"electrum","coin":"VRSC","ipaddr":"el2.vrsc.0x03.services","port":10000}"`


[09-Oct-19 05:54 AM] Oszy#5734
this is what i see for VRSC


[09-Oct-19 05:54 AM] Patrick Crypto#1546
"balance":"82.05722569","coin":"VRSC","result":"success"


[09-Oct-19 05:54 AM] Patrick Crypto#1546
Where do you see that?


[09-Oct-19 05:54 AM] Oszy#5734
https://docs.komodoplatform.com/mmV1/coin-integration/electrum-servers-list.html#world-1

{Embed}
https://docs.komodoplatform.com/mmV1/coin-integration/electrum-servers-list.html
Komodo Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/pQcpVLQgfWglPr7tkLLPNfnaXLp21V6nGaMQYJYPkho/https/docs.komodoplatform.com/Dev_Docs_Introduction_small.png


[09-Oct-19 05:54 AM] Oszy#5734
did you not change URL?


[09-Oct-19 05:54 AM] Oszy#5734
if not you activated KMD electrum for VRSC


[09-Oct-19 05:55 AM] Patrick Crypto#1546
The documentation for the API seems to presume everyone reading it will know where to find that info-- doesn't seem to be linked


[09-Oct-19 05:56 AM] Oszy#5734
True that the guide doesn't say what to do apart from KMD/LTC, I hope you okay now


[09-Oct-19 05:56 AM] ComputerGenie#7004
<https://github.com/jl777/coins/tree/master/electrums>
might help


[09-Oct-19 05:58 AM] Oszy#5734
Keep separate .sh files for each coin you want to activate, and change url:"" to the correct electrum servers


[09-Oct-19 05:58 AM] Oszy#5734
then you will see correct balances


[09-Oct-19 05:59 AM] Patrick Crypto#1546
Ok, I changed the URL in my script and now it works. Thank you

{Reactions}
üëç 

[09-Oct-19 05:59 AM] Patrick Crypto#1546
What does the coins file actually do? Anything?


[09-Oct-19 06:01 AM] Oszy#5734
tells mm2 the coins configurations


[09-Oct-19 06:02 AM] Oszy#5734
every coin has different configs, some are same as btc, some are very different, like erc20


[09-Oct-19 06:03 AM] Oszy#5734
it contains all settings for each coins from contract address, to address rules, default txfee, minconfs etc.


[09-Oct-19 08:55 AM] kremer#0658
has anyone seen this error before? im trying to build mm2 from source

`error: failed to run custom build command for ``common v0.1.0 (/home/kremer/atomicDEX-API/mm2src/common)``

Caused by:
  process didn't exit successfully: ``/home/kremer/atomicDEX-API/target/debug/build/common-57231effe17782d2/build-script-build`` (exit code: 101)
--- stdout
cargo:rerun-if-changed=/home/kremer/atomicDEX-API/MM_VERSION
cargo:rustc-env=MM_VERSION=UNKNOWN
cargo:rerun-if-changed=/home/kremer/atomicDEX-API/iguana/exchanges/mm.c
cargo:rerun-if-changed=/home/kremer/atomicDEX-API/CMakeLists.txt

--- stderr
thread 'main' panicked at ``Target not (yet) supported: i686-unknown-linux-gnu``, mm2src/common/build.rs:447:18
note: run with ``RUST_BACKTRACE=1`` environment variable to display a backtrace.
is it possible this is a hardware spec issue? currently on an old laptop
this is the output of cargo build --features native -vv`


[09-Oct-19 08:57 AM] Oszy#5734
@kremer i answered you in 2 channels already, didn't see?


[09-Oct-19 08:57 AM] Oszy#5734
`looks like an OSX related build error
are you trying on an old macbook?`


[09-Oct-19 08:57 AM] kremer#0658
2 channelss?


[09-Oct-19 08:58 AM] kremer#0658
i'm on ubuntu18.04


[09-Oct-19 08:59 AM] ComputerGenie#7004
asked in 2 and answered in 1 üòõ


[09-Oct-19 09:01 AM] Oszy#5734
hmm


[09-Oct-19 09:01 AM] ComputerGenie#7004
_blames @Oszy for the confusion because it took 8 minutes to respond yesterday :troll:_

{Reactions}
abusedsmily 

[09-Oct-19 09:01 AM] Oszy#5734
i686 and x64 is this want to be cross compililation?


[09-Oct-19 09:02 AM] kremer#0658
?


[09-Oct-19 09:02 AM] kremer#0658
i don't understand


[09-Oct-19 09:05 AM] ComputerGenie#7004
i686 is a specialized 32-bit processor and the program is 64-bit
the error comes from the PC being seen as i686, not x64
is this a vm?


[09-Oct-19 09:05 AM] kremer#0658
no. the docs mentioned that running it on 32bit may be possible but errors may be encountered


[09-Oct-19 09:06 AM] kremer#0658
so i messaged here  to see if it was a common error easily solvable


[09-Oct-19 09:06 AM] kremer#0658
if it's complicated, then not a big deal. i understand it's not really for 32bit systems


[09-Oct-19 09:06 AM] Oszy#5734
Try installing


[09-Oct-19 09:07 AM] Oszy#5734
gcc-multilib


[09-Oct-19 09:08 AM] Oszy#5734
then `$ rustup target install i686-unknown-linux-gnu
$ cargo build --target=i686-unknown-linux-gnu`


[09-Oct-19 09:08 AM] ComputerGenie#7004
...and maybe, in the future, lead off with using a 32bit system üòâ


[09-Oct-19 09:08 AM] Oszy#5734
well he said "older" laptop :troll:


[09-Oct-19 09:09 AM] ComputerGenie#7004
I've got one in the shop that's 10 years old and is 64bit ü§∑üèΩ


[09-Oct-19 09:09 AM] Oszy#5734
older


[09-Oct-19 09:09 AM] Oszy#5734
üòÑ


[09-Oct-19 09:40 AM] kremer#0658
`cargo build --target=i686-unknown-linux-gnu` seems to have worked. no error and output is what the docs suggest it should be

{Reactions}
üëç (2) 

[09-Oct-19 09:41 AM] kremer#0658
ty!


[09-Oct-19 09:42 AM] allbits#5898
I updated successfully. Thanks for your help yesterday - one issue now, the orderbook output is far less clean now.  Specifically, the "max_volume_rat" fields are broken up all over the screen. Any ideas?


[09-Oct-19 11:57 PM] Oszy#5734
do you use | jq?


[10-Oct-19 05:48 AM] allbits#5898
Yes


[10-Oct-19 05:49 AM] allbits#5898
It was fine before update mm2. Now not. Exact same command used, piped to jq


[10-Oct-19 05:54 AM] ComputerGenie#7004
check your formatting vs the number of characters
perhaps there's more or less characters now, forcing terminal output to format differently?
it's kinda hard to guess without seeing how you're manipulating the json


[10-Oct-19 05:55 AM] artem.pikulin#0794
@allbits Hello, could you please provide a sample output that you get from your MM2?


[10-Oct-19 06:49 AM] Patrick Crypto#1546
I am a bit confused about the relation of orders I place with the cli and orders on the mobile app and what I can see on Oracle


[10-Oct-19 06:49 AM] Patrick Crypto#1546
Are all of those things pulling data from the same source?


[10-Oct-19 07:15 AM] Oszy#5734
if you are on the same netid yes


[10-Oct-19 07:16 AM] Oszy#5734
default is 9999


[10-Oct-19 09:35 AM] allbits#5898
@artem.pikulin command and output are here https://pastebin.com/N7subVsz

{Embed}
https://pastebin.com/N7subVsz
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpa...
https://images-ext-1.discordapp.net/external/lZwHlcJYEP_-CeL744a7RSWVnhrIifPJgiIcmKkDuJY/https/pastebin.com/i/facebook.png


[10-Oct-19 09:36 AM] allbits#5898
@ComputerGenie thanks for response - I'm so noobie I don't really know how to answer that - I just do the recommended curl and pipe to jq - worked before, but not after mm2 update


[10-Oct-19 09:38 AM] allbits#5898
only the method:orderbook call is messy - things like my_balance, setprice, etc work fine


[10-Oct-19 09:38 AM] ComputerGenie#7004
@allbits add `-s` to your curl and try `jq -c`


[10-Oct-19 09:38 AM] allbits#5898
ok


[10-Oct-19 09:41 AM] allbits#5898
Different kind of mess: https://pastebin.com/L0H3Gftq

{Embed}
https://pastebin.com/L0H3Gftq
curl -s --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$use...
https://images-ext-1.discordapp.net/external/lZwHlcJYEP_-CeL744a7RSWVnhrIifPJgiIcmKkDuJY/https/pastebin.com/i/facebook.png


[10-Oct-19 09:45 AM] ComputerGenie#7004
I'm assuming that the
```json
"price_rat":[
[1,[43576923]],
[1,[50000000]]
]```
bit is the bit that you're not liking the format of
you can always use jq to further parse those bits however you want


[10-Oct-19 09:45 AM] allbits#5898
yes, that's the part that's splashing all over the screen


[10-Oct-19 09:46 AM] allbits#5898
but I can't figure out how to further parse those to keep them on one line


[10-Oct-19 09:50 AM] ComputerGenie#7004
2624 characters takes up screen real-estate no matter what you do
I'd suggest familiarizing yourself with <https://stedolan.github.io/jq/manual/> and making it display only the bits you want and how you want to work with them


[10-Oct-19 09:50 AM] allbits#5898
ok - I'll give that a try.  Thank you


[10-Oct-19 04:20 PM] allbits#5898
Unfortunately I've gotten nowhere in terms of being able to understand jq sufficiently to take out all the line breaks that started appearing once I updated mm2. Any help or ideas appreciated.


[10-Oct-19 10:36 PM] artem.pikulin#0794
@allbits You may remove the rational representations from output by 
```
ORDERBOOK | jq -M 'del(.. | .price_rat?)' | jq -M 'del(.. | .max_volume_rat?)'
```
Maybe there's more elegant solution using jq only once, but this snippet just works.


[10-Oct-19 11:41 PM] jorian#4555
or use jq select to only select the ones you want


[11-Oct-19 01:07 AM] Mylo#8306
```
   --> mm2src/common/custom_futures.rs:196:5                                                                                                                                               
    |                                                                                                                                                                                      
196 | /     pub async fn lock<F> (&self, mut tick: F) -> Result<TimedMutexGuard<'_, T>, String>                                                                                            
197 | |     where F: FnMut (f64, f64) -> Result<f64, String> {                                                                                                                             
198 | |         let start = now_float();                                                                                                                                                   
199 | |         let mut now = start;                                                                                                                                                       
...   |
211 | |         Ok (TimedMutexGuard (l))
212 | |     }
    | |_____^
    |
    = note: for more information, see https://github.com/rust-lang/rust/issues/50547
    = help: add `#![feature(async_await)]` to the crate attributes to enable

error[E0658]: async/await is unstable
   --> mm2src/common/custom_futures.rs:204:22
    |
204 |             let rc = select (l, t) .await;
    |                      ^^^^^^^^^^^^^^^^^^^^
    |
    = note: for more information, see https://github.com/rust-lang/rust/issues/50547
    = help: add `#![feature(async_await)]` to the crate attributes to enable

error[E0658]: async fn is unstable
   --> mm2src/common/mm_ctx.rs:396:1

```
mm2 failed to build just now fyi @artem.pikulin 
usually just builds


[11-Oct-19 01:08 AM] artem.pikulin#0794
Required Rust toolchain version was updated to `2019-10-06`: https://github.com/KomodoPlatform/atomicDEX-API#how-to-build
Please update and retry
@Mylo

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[11-Oct-19 01:08 AM] Mylo#8306
cool - thanks


[11-Oct-19 01:13 AM] Mylo#8306
very fresh.   thanks for quick response

{Reactions}
ü§ù 

[11-Oct-19 06:59 AM] allbits#5898
Thank you


[11-Oct-19 09:03 AM] allbits#5898
That worked beautifully


[11-Oct-19 11:55 AM] Ian#3705
Building from source (first time) : 

cargo build --features native -vv
....
[common 0.1.0] thread 'main' panicked at '
[common 0.1.0]
[common 0.1.0] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
[common 0.1.0] !   unwrap! called on Result::Err                                              !
[common 0.1.0] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
[common 0.1.0] mm2src/common/build.rs:883,5 in build_script_build
[common 0.1.0]
[common 0.1.0] Err(Os { code: 2, kind: NotFound, message: "No such file or directory" })


Any clues ?


[11-Oct-19 11:55 AM] Ian#3705
Linux 18.04


[11-Oct-19 12:13 PM] Ian#3705
I tried 2019-10-06 per above - doesn't help


[11-Oct-19 02:03 PM] Ian#3705
Whoops - i had missed the installation of cmake .. my bad !


[11-Oct-19 04:22 PM] Ian#3705
Is it possible to enable an RPC connect to the MArket Maker from another host (yes i know the security implications - this is just for developing stuff)


[11-Oct-19 05:09 PM] smkhound#7640
yes, it is possible.


[11-Oct-19 05:09 PM] smkhound#7640
instead of using 127.0.0.1 as the IP, set it to the external IP address.


[12-Oct-19 07:54 PM] Ian#3705
The problem is that the Market Maker process rejects connection attempts from other hosts - if it was, for example, a Bitcoin derived node you could specify a parameter to allow specific IP and/or subnets in - i was hoping for an equivalent Market Maker parameter - i can do it by tunnelling but i don't really want to resort to that


[12-Oct-19 11:53 PM] smkhound#7640
are you trying to run a native daemon remotely and link it to mm2, or issue RPC commands to a remote mm2 instance?


[12-Oct-19 11:54 PM] smkhound#7640
I know the second one works, because I've done it. First one, havent tested, but probably just simpler to use electrum.


[13-Oct-19 01:55 AM] Patrick Crypto#1546
Orders I place on the mm2 cli don't seem to appear on oracle or on my mobile app. Usually only 1 does. Is that normal?


[13-Oct-19 01:57 AM] Oszy#5734
`only 1 does` no either all should show or none üôÇ oracle is not realtime i takes time to update, on mobile app i can see my setprice orders within 15-20 seconds usually


[13-Oct-19 02:47 AM] Patrick Crypto#1546
It seems like only my last order appears. I can see them all when I do ./myorders.sh on my cli, but only 1 on the app and oracle. 1 per pair it looks like. I have cancel previous or whatever it is set to false


[13-Oct-19 02:55 AM] smkhound#7640
if order is for same pair, I think it replaces previous


[13-Oct-19 03:14 AM] Patrick Crypto#1546
How can the book ever get filled then?


[13-Oct-19 03:21 AM] cipi#4502
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#setprice
you need to set `cancel_previous` to `false` (default is true)

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[13-Oct-19 03:22 AM] Patrick Crypto#1546
I have that set to false


[13-Oct-19 03:24 AM] Patrick Crypto#1546
@smkhound if that is actually the case, then I wouldn't expect the order book to have many orders ever.


[13-Oct-19 03:24 AM] Patrick Crypto#1546
This is already drastically more complicated than most users will ever want to deal with


[13-Oct-19 03:27 AM] smkhound#7640
mobile is simple. most users are likely to be looking for single trades. Traders may want to have 202 different price points across the spread, and guis may be created for them to do so. Its pretty new tech, CLI is slightly complicated but if you want to live on the edge its how it is.


[13-Oct-19 03:28 AM] smkhound#7640
compare it to something like shapeshift - I dont think traders were setting up 202 price spreads there.


[13-Oct-19 03:30 AM] Patrick Crypto#1546
But why call it marketmaker2 if you can't actually market make with it?


[13-Oct-19 03:30 AM] smkhound#7640
I could be wrong. `cancel_previous` implies more than one can coexist


[13-Oct-19 03:31 AM] Patrick Crypto#1546
That is what I assumed as well


[13-Oct-19 03:32 AM] smkhound#7640
I dont think I have that flag set in my TUI, will check


[13-Oct-19 03:35 AM] smkhound#7640
yah, I got it set to `true`, so when global market prices update, my prices update without leaving old orders sitting there with old prices/.


[13-Oct-19 05:39 AM] Ian#3705
@smkhound I was planning to run MM2 remotely - connecting to native nodes is not a problem and yes i know electrum is an option.  I was just wondering if there was config in MM2 allowing connections FROM other hosts similar to the way you can allow remote connections to a node


[13-Oct-19 05:42 AM] smkhound#7640
are you using an MM2.json file?


[13-Oct-19 06:14 AM] Morgan#1017
Hi All, I'd love to MM on Komodo and have the resources to quote any market with a thin spread up to $1,000 worth.  Are there any dev programs which can help finance the costs to keep my engines running as I don't see enough flow on the dex itself to make it worthwhile - thoughts?


[13-Oct-19 07:41 AM] Oszy#5734
#talk-entrepreneurship maybe


[13-Oct-19 11:49 AM] Patrick Crypto#1546
So my question remains, if I have cancel previous set to false, should my multiple orders appear on the books and if so why aren't they?


[13-Oct-19 06:06 PM] Ian#3705
@smkhound Yeah am using MM2.json but i can't find any docs for the options available


[13-Oct-19 06:50 PM] smkhound#7640
add the `"rpcip":"0.0.0.0"` key value to MM2.json (replace 0.0.0.0 with external IP) and `"rpc_local_only":false`


[13-Oct-19 07:06 PM] smkhound#7640
@Patrick Crypto I'll check this later today. try different capitalisation for false/False


[13-Oct-19 07:07 PM] smkhound#7640
are they showing up https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#my-orders ?

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[14-Oct-19 05:05 AM] Patrick Crypto#1546
Yes, everything shows up with my orders, on my cli, but only 1 appears on the app and order books


[14-Oct-19 05:07 AM] artem.pikulin#0794
@Patrick Crypto Hello, what MM2 version do you use?


[14-Oct-19 05:17 AM] Patrick Crypto#1546
How do I check that?


[14-Oct-19 05:19 AM] Patrick Crypto#1546
nevermind found it


[14-Oct-19 05:20 AM] Patrick Crypto#1546
2.0.1009_mm2_b08da3aa9_Linux


[14-Oct-19 05:33 AM] artem.pikulin#0794
Did you download it from releases page? https://github.com/KomodoPlatform/atomicDEX-API/releases. It hasn't been updated for a while, this version is pretty old. It doesn't support multiple orders per 1 pair that's why your orders are not shown up on other nodes.


[14-Oct-19 05:38 AM] Oszy#5734
do a git checkout and a cargo clean then build again


[14-Oct-19 05:38 AM] Patrick Crypto#1546
I followed these instructions: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-setup/get-started-atomicdex.html

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-setup/get-started-atomicdex.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[14-Oct-19 05:39 AM] Patrick Crypto#1546
Maybe 1-2 weeks ago


[14-Oct-19 05:41 AM] artem.pikulin#0794
I've published new release from the most recent MM2 commit: https://github.com/KomodoPlatform/atomicDEX-API/releases/tag/2.0.1417.
@Patrick Crypto Please try to download the new binary and recheck that all of your orders will be shown on the orderbooks.


[14-Oct-19 05:47 AM] Patrick Crypto#1546
So download the zip and unpack it in the target/debug folder?


[14-Oct-19 05:49 AM] Oszy#5734
yep that's the quickest way to do it


[14-Oct-19 06:04 AM] Patrick Crypto#1546
Updated, waiting for orders to propagate. Now I have the same display/jq display issue that allbits was having. Nothing crucial but just mentioning it


[14-Oct-19 06:06 AM] allbits#5898
ORDERBOOK | jq -M 'del(.. | .price_rat?)' | jq -M 'del(.. | .max_volume_rat?)'

{Reactions}
üìå 

[14-Oct-19 06:12 AM] Patrick Crypto#1546
Ok, orders looks like they are all appearing now


[14-Oct-19 06:12 AM] Patrick Crypto#1546
Thank you

{Reactions}
ü§ù 

[14-Oct-19 07:49 PM] allbits#5898
I made a cli buy seven hours ago. I bought dex with kmd. My taker payment was made into the b address and then sent from b address to the maker. The maker payment was made into the b address. This all happened within five minutes after the swap initiated. However, the dex remains in the b address and has not been paid to me - seven hours have expired. Seems a serious issue?


[14-Oct-19 10:19 PM] artem.pikulin#0794
@allbits Hi, could you DM your failed swap uuid to me please?


[14-Oct-19 10:36 PM] Oszy#5734
Maybe https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#recover-funds-of-swap can help?

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[14-Oct-19 11:16 PM] artem.pikulin#0794
@Oszy Yes, it should help, but I'd also like to know also why the swap failed initially so I need uuid to check it's status.


[14-Oct-19 11:56 PM] Oszy#5734
Yes of course üôá


[15-Oct-19 12:19 AM] jorian#4555
@allbits did you try and buy the very cheap DEX at 11.something KMD?


[15-Oct-19 06:37 AM] artem.pikulin#0794
@allbits MM2 attempted to spend maker payment, but failed with: `the transaction was rejected by network rules.\\n\\n16: tx-overwinter-active`. Coins config file should be also updated with latest MM2 to work properly, please use it from https://github.com/jl777/coins. Restart MM2 after coins file update and then use `recover_funds_of_swap` with uuid you provided: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#recover-funds-of-swap

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[15-Oct-19 06:45 AM] allbits#5898
ok thank you


[15-Oct-19 06:51 AM] allbits#5898
this is a terribly noob question but what's the quickest way to get that coins file by cli - I did it in a very round about way when I first installed this


[15-Oct-19 06:55 AM] Oszy#5734
wget it


[15-Oct-19 06:56 AM] Oszy#5734
`wget https://raw.githubusercontent.com/jl777/coins/master/coins`


[15-Oct-19 06:57 AM] Oszy#5734
into target/debug


[15-Oct-19 06:57 AM] ComputerGenie#7004
in mm1 we used `source coins` in the init script and added `\"coins\":$coins` to the mm run params (I'd assume that bit is still the same, no?)


[15-Oct-19 07:00 AM] Oszy#5734
you can definitely script the coin activation over the electrums (if not using native wallets) after mm2 started but mm2 has no coin launch param afaik, it activates natives from `coins`


[15-Oct-19 07:00 AM] Oszy#5734
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html#initiate-marketmaker-2-0

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[15-Oct-19 07:09 AM] ComputerGenie#7004
ahhhh, it looks for it, no need to import it anymore üòé


[15-Oct-19 07:29 AM] allbits#5898
And that worked for me. Thanks all!


[16-Oct-19 02:59 AM] smkhound#7640
anyone else having trouble with activating BCH via electrum?


[16-Oct-19 02:59 AM] smkhound#7640
```16 09:58:21, rpc:306] RPC error response: rpc:275] lp_commands:74] lp_coins:463] utxo:1863] Failed to connect to at least 1 of [ElectrumRpcRequest { url: "electroncash.dk:50001", protocol: TCP, disable_cert_verification: false }, ElectrumRpcRequest { url: "electron-cash.dragon.zone:50001", protocol: TCP, disable_cert_verification: false }, ElectrumRpcRequest { url: "bch.imaginary.cash:50001", protocol: TCP, disable_cert_verification: false }] in 5 seconds.
```


[16-Oct-19 03:02 AM] Oszy#5734
yes


[16-Oct-19 03:02 AM] Oszy#5734
since yesterday


[16-Oct-19 03:10 AM] bartwr#6773
@smkhound @Oszy All known electrum servers for BCH are down. The last working one was `bch.imaginary.cash:50001`. This last one of the BCH electrums listed here https://github.com/pbca26/agama-wallet-lib/blob/master/src/electrum-servers.js#L220 worked untill yesterday.

{Embed}
https://github.com/pbca26/agama-wallet-lib/blob/master/src/electrum-servers.js
pbca26/agama-wallet-lib
Common library for cryptocurrencies. Contribute to pbca26/agama-wallet-lib development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/eAyZeHiy4WW9wZ48j56fGdLeddChc61iEXHM6kAeHvs/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/7769879


[16-Oct-19 03:10 AM] bartwr#6773
Now there are no working BCH electrums anymore. Does anyone maybe know a BCH electrum that's still working?


[16-Oct-19 03:10 AM] smkhound#7640
thanks for confirmation


[16-Oct-19 03:11 AM] smkhound#7640
I had 5 in my coinslib, but non seem to be responding


[16-Oct-19 03:11 AM] bartwr#6773
Yes, these 5: https://github.com/pbca26/agama-wallet-lib/blob/master/src/electrum-servers.js#L220 - Non of these working anymore.

{Embed}
https://github.com/pbca26/agama-wallet-lib/blob/master/src/electrum-servers.js
pbca26/agama-wallet-lib
Common library for cryptocurrencies. Contribute to pbca26/agama-wallet-lib development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/eAyZeHiy4WW9wZ48j56fGdLeddChc61iEXHM6kAeHvs/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/7769879


[16-Oct-19 03:11 AM] jorian#4555
there is a long list somewhere


[16-Oct-19 03:12 AM] jorian#4555
<https://1209k.com/bitcoin-eye/ele.php?chain=bch>


[16-Oct-19 03:15 AM] bartwr#6773
Thanks @jorian, I'll make a pull request for `agama-wallet-lib`.


[16-Oct-19 03:21 AM] bartwr#6773
Created a pull request here https://github.com/pbca26/agama-wallet-lib/pull/45 /cc @pbca26

{Embed}
https://github.com/pbca26/agama-wallet-lib/pull/45
Update BCH electrums in electrum-servers.js by bartwr ¬∑ Pull Requ...
Removed 5 broken electrums; added 5 working onces.
I used https://1209k.com/bitcoin-eye/ele.php?chain=bch for a list of working electrums.
General Checklist:


 Tests added for this feature/bug


 ...
https://images-ext-1.discordapp.net/external/eAyZeHiy4WW9wZ48j56fGdLeddChc61iEXHM6kAeHvs/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/7769879


[16-Oct-19 03:57 AM] artem.pikulin#0794
@siu @ca333 @hyperDEX @Slyris Hi! Please pay attention that `orderbook maxvolume` field format was changed to decimal string since: https://github.com/KomodoPlatform/atomicDEX-API/commit/5df6b043439060300bd8b1927aeadfe4b4214566. Docs diff: https://github.com/artemii235/developer-docs/commit/7f6202024b85c527cfaa3ba3caf201e9c01aa69f

{Embed}
https://github.com/artemii235/developer-docs/commit/7f6202024b85c527cfaa3ba3caf201e9c01aa69f
Maxvolume is string decimal in orderbook since 2.0.1438. ¬∑ artemi...
https://images-ext-1.discordapp.net/external/bhxbZp_vqWMDWyHbDAs2ChYL0J22s1YIUu1txMsCnWQ/%3Fs%3D200%26v%3D4/https/avatars3.githubusercontent.com/u/15745003

{Reactions}
üëç (3) 

[16-Oct-19 10:58 PM] Mylo#8306
I'm looking for something written about the underlying marketmaker functionality.
Something i remember reading ... "every order is considered a buy".
Where is this written?


[16-Oct-19 11:34 PM] smkhound#7640
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#setprice
`The setprice order is always considered a sell, for internal implementation convenience.`

https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#sell
```Buy and sell methods always create the taker order first. Therefore, you must pay an additional 1/777 fee of the trade amount during the swap when taking liquidity from market. If your order is not matched in 30 seconds, the order is automatically converted to a maker request and stays on the orderbook until the request is matched or cancelled. To always act as a maker, please use the setprice method.
```

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png

{Reactions}
üëç üôè 

[17-Oct-19 06:30 PM] Mylo#8306
@TS ^^ for thoughts on additional settings/options


[18-Oct-19 09:17 PM] kremer#0658
i see no available swaps for rick/morty, can someone verify? 

`//127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"orderbook\",\"base\":\"RICK\",\"rel\":\"MORTY\"}" | jq` 

produces 

`{
  "askdepth": 0,
  "asks": [],
  "base": "RICK",
  "biddepth": 0,
  "bids": [],
  "netid": 9999,
  "numasks": 0,
  "numbids": 0,
  "rel": "MORTY",
  "timestamp": 1571458529
}
` 

for me


[18-Oct-19 09:18 PM] kremer#0658
checking that i am getting up to date data. it does look like blockcount is up to date, according to an explorer


[18-Oct-19 10:37 PM] smkhound#7640
I can see half a dozen RICK/MORTY orders on my book.


[19-Oct-19 08:22 AM] kremer#0658
are you using netid 0?


[19-Oct-19 08:24 AM] gcharang#6833
@kremer the netid being used by all the current makers and takers is 9999


[19-Oct-19 08:32 AM] kremer#0658
ok i'm seeing orders now. i tried 9999 last night and the books had no orders, but 9999 is working now

{Reactions}
üëç 

[19-Oct-19 08:32 AM] kremer#0658
not sure what i did differently, but i see them!


[19-Oct-19 09:24 AM] kremer#0658
is it normal for a swap to hang on `Started...`?


[19-Oct-19 09:25 AM] kremer#0658
`19 16:19:36, lp_ordermatch:566] CONNECTED.({"dest_pub_key":"12d3527f833fcc768c55c41a930308f915d842d8c9cd57d27f49735f9cdf7cea","maker_order_uuid":"e660b859-99ef-4742-abd1-5813ead5cd83","method":"connected","sender_pubkey":"b86508ab996ca87d863c907e44fe495d96adf7e95ad0823bac16c3e55758f902","taker_order_uuid":"daf4a02a-028f-4aa7-83e9-ec4d34940cfd"})
19 16:19:36, lp_ordermatch:399] Entering the taker_swap_loop RICK/MORTY
19 16:19:36, taker_swap:374] handle_command..Start
19 16:19:36, taker_swap:374] handle_command..Negotiate
19 16:19:57, taker_swap:503] Received 'negotiation@daf4a02a-028f-4aa7-83e9-ec4d34940cfd' (69 bytes, crc 1780948768)
19 16:19:57, taker_swap:541] Sending 'negotiation-reply@daf4a02a-028f-4aa7-83e9-ec4d34940cfd' (69 bytes, crc 3922314105)
19 16:19:57, http_fallback:489] transmit] TBD, time to use the HTTP fallback...
19 16:20:07, http_fallback:489] transmit] TBD, time to use the HTTP fallback...
19 16:20:17, http_fallback:489] transmit] TBD, time to use the HTTP fallback...
19 16:20:27, http_fallback:489] transmit] TBD, time to use the HTTP fallback...
19 16:20:37, http_fallback:489] transmit] TBD, time to use the HTTP fallback...
19 16:20:38, taker_swap:548] Received 'negotiated@daf4a02a-028f-4aa7-83e9-ec4d34940cfd' (1 bytes, crc 2768625435)
19 16:20:38, taker_swap:374] handle_command..SendTakerFee
19 16:20:38, taker_swap:374] handle_command..Finish
¬∑ 2019-10-19 11:20:38 -0500 [swap uuid=daf4a02a-028f-4aa7-83e9-ec4d34940cfd] Finished
    Taker fee send failed...
    Negotiated...
    Started...
`


[19-Oct-19 09:25 AM] kremer#0658
seems like i'm not sending the taker fee?


[19-Oct-19 09:31 AM] kremer#0658
order status shows the uuid associated w/ order is not found


[19-Oct-19 09:35 AM] kremer#0658
maybe this will be useful...here is a printout from my_swap_status 

`"error": "taker_swap:597] utxo:550] utxo:550] rpc_clients:960] JsonRpcError { request: JsonRpcRequest { jsonrpc: \"2.0\", id: \"675\", method: \"blockchain.transaction.broadcast\", params: [String(\"0100000001cc1f8671ded9cbf8834611891afdf8c20089503748bea25e16906fd68ba2f31d000000006b483045022100b959034a2e2fd1578b4e78a0c8b596f1ab7d9ee311b909c30eb7eddd4723678d022054c56604fbad990ad2ca2ec672fe7b0e2a84284d1e538c7481fc825542c4fff401210312d3527f833fcc768c55c41a930308f915d842d8c9cd57d27f49735f9cdf7ceaffffffff02bcf60100000000001976a914ca1e04745e8ca0c60d8c5881531d51bec470743f88ac5ce6f305000000001976a914a972d4877f0f98676ffcb9b9b6c3ed761d79932988ace93aab5d\")] }, error: Response(Object({\"code\": Number(1), \"message\": String(\"the transaction was rejected by network rules.\\n\\n16: tx-overwinter-active\\n[0100000001cc1f8671ded9cbf8834611891afdf8c20089503748bea25e16906fd68ba2f31d000000006b483045022100b959034a2e2fd1578b4e78a0c8b596f1ab7d9ee311b909c30eb7eddd4723678d022054c56604fbad990ad2ca2ec672fe7b0e2a84284d1e538c7481fc825542c4fff401210312d3527f833fcc768c55c41a930308f915d842d8c9cd57d27f49735f9cdf7ceaffffffff02bcf60100000000001976a914ca1e04745e8ca0c60d8c5881531d51bec470743f88ac5ce6f305000000001976a914a972d4877f0f98676ffcb9b9b6c3ed761d79932988ace93aab5d]\")})) }"
`
` "type": "TakerFeeSendFailed"`


[19-Oct-19 09:54 AM] kremer#0658
did some experimenting - tried to use the withdraw method followed by the send raw tx method. that tx was also "rejected by network rules". almost identical output to the error output just above


[19-Oct-19 11:05 AM] smkhound#7640
your coins file may be outdated


[19-Oct-19 11:06 AM] smkhound#7640
`wget https://raw.githubusercontent.com/jl777/coins/master/coins
`


[20-Oct-19 09:16 AM] Oszy#5734
who is this maker? and how can we prevent such spam in the orderbook? is he using outdated mm2 that doesn't delete previous orders?

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/635511757909000192/screenshot-www.oracle.earth-2019.10.20-17_15_40.png


[20-Oct-19 09:26 AM] smkhound#7640
I recall someone asking about that earlier.... guess he "figured it out". There is an option to not cancel older orders.


[20-Oct-19 09:27 AM] Oszy#5734
this looks like a mistake, not intentionally leaving them in the book


[20-Oct-19 09:28 AM] smkhound#7640
yeah, seems bot in an inf loop


[20-Oct-19 10:57 AM] cipi#4502
would be better to make the orders timelimited... and if someone wants the order to stay, he must call `setprice` again

{Reactions}
üíØ (2) 

[20-Oct-19 12:05 PM] Tylor zkFS#8280
If (order(timelimit))= 0 then call setprice


[20-Oct-19 12:08 PM] Tylor zkFS#8280
If buyer/seller = bot then ban IP / peerID


[21-Oct-19 04:32 AM] smkhound#7640
well behaved bots aren't bad


[21-Oct-19 05:35 AM] Oszy#5734
not ban, but a sleep/timeout for placing identical orders within a given timeframe,  from the same maker could be implemented


[21-Oct-19 05:36 AM] Oszy#5734
mm2 could reject it and advise to cancel previous one


[21-Oct-19 06:37 AM] ComputerGenie#7004
_hopes you add that to yours because he didn't want to sell to you anyway_


[21-Oct-19 06:48 AM] Tylor zkFS#8280
When spam is outlawed only outlaws will spam


[21-Oct-19 06:53 AM] ComputerGenie#7004
one man's "spam" is another man's "micro-trade"


[21-Oct-19 07:00 AM] ComputerGenie#7004
some would call this one "spam" too

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/635839805737140225/unknown.png


[22-Oct-19 04:59 PM] Oszy#5734
it could be empty üôÇ


[23-Oct-19 04:31 AM] smkhound#7640
orderbook can take some time to propagate if you've just recently loaded mm2. The book on oracle.earth updates every 20 min or so (I've added "last update" text to indicate when)

{Reactions}
üëç 

[23-Oct-19 11:16 AM] Patrick Crypto#1546
Any ideas on how I could make a front end trade report type thing? I have a weak understanding of nodeJS, but maybe I could do it with that


[23-Oct-19 11:26 AM] smkhound#7640
all depends what you intend. I'm using django backend which is python, alsongside some front end js stuff for graphs and tables. Here's some js based ideas for charting - https://www.sitepoint.com/best-javascript-charting-libraries/

{Embed}
Ivaylo Gerchev
https://www.sitepoint.com/best-javascript-charting-libraries/
18+ JavaScript Libraries for Creating Beautiful Charts
Learn about 18+ JavaScript libraries for creating charts and graphs ‚Äî from heavy-duty libraries like D3.js to simple options for representing data quickly and beautifully.
https://images-ext-2.discordapp.net/external/HcljiOOkc7DG5FzmDdIkZs50kA70txMMI9niWaQs9LQ/https/www.sitepoint.com/wp-content/themes/sitepoint/assets/images/icon.javascript.png


[23-Oct-19 11:27 AM] Patrick Crypto#1546
I just want to view my trade history in a browser, so that I can keep track of the trades easier


[23-Oct-19 11:27 AM] Patrick Crypto#1546
trades and open orders


[23-Oct-19 01:24 PM] smkhound#7640
I have code for that in python. It's purely a matter of parsing the json in your DB folder if running via cli, or the data returned by
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#my-recent-swaps
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#my-orders
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#my-swap-status

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[24-Oct-19 01:16 AM] Patrick Crypto#1546
Thanks for the resources

{Reactions}
üëçüèΩ 

[25-Oct-19 12:48 AM] Patrick Crypto#1546
Curious about what could be done about dust left over from swaps. When someone starts a swap from the mobile app, it seems like you can not purchase the entire amount, so you buy almost the entire order. But now I have orders left on the book with a very small amount left. Aside from finding them and canceling them, maybe there would be another solution?


[25-Oct-19 01:06 AM] Oszy#5734
As far as I know the only way right now is to cancel those, either manually or script it.


[25-Oct-19 01:14 AM] Oszy#5734
I think i found a "solution" to this


[25-Oct-19 01:15 AM] Oszy#5734
of you withdraw all the leftover amount the order disappears


[25-Oct-19 01:27 AM] Patrick Crypto#1546
a script which found my orders which were smaller than a certain amount and canceled would probably work. What do you mean by withdraw the leftover amount?


[25-Oct-19 01:29 AM] smkhound#7640
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#withdraw

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png

{Reactions}
üëç 

[25-Oct-19 01:29 AM] smkhound#7640
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#send-raw-transaction

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[25-Oct-19 01:30 AM] Patrick Crypto#1546
That would cost a fee though, right?


[25-Oct-19 01:39 AM] smkhound#7640
it would be a transaction, so a transaction fee would apply.


[25-Oct-19 01:52 AM] jl777c#5810
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#cancel-all-orders

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[25-Oct-19 01:59 AM] Oszy#5734
Possible to  use `cancel_by` with `max_base_vol` as a condition after pulling `my_orders`?


[25-Oct-19 02:00 AM] Oszy#5734
in the example only Type:All is shown, what are the other conditions? anything from the json category?


[25-Oct-19 02:21 AM] Patrick Crypto#1546
I don't want to cancel all though, I want to cancel orders which have say .1253465234 VRSC remaining


[25-Oct-19 02:23 AM] Patrick Crypto#1546
A script which finds orders < 1 and then cancels them would work for me. Not sure if it's the most elegant. Not sure I could figure it out either


[25-Oct-19 02:23 AM] Patrick Crypto#1546
Could a bash script do it?


[25-Oct-19 02:49 AM] cipi#4502
it is now possible to buy the entire amount, was fixed with this issue: https://github.com/KomodoPlatform/atomicDEX-API/issues/471

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/471
check_i_have_enough_to_trade utxo: balance is too low ¬∑ Issue #47...
i get some of this errors on maker node {&quot;error&quot;:&quot;lp_swap:819] !check_i_have_enough_to_trade utxo:1194] BCH balance 0.06645036000000000 is too low, required 0.06646036&am...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[25-Oct-19 02:50 AM] Patrick Crypto#1546
That's good. Still, I end up with very small amounts of orders left on the books.


[25-Oct-19 02:51 AM] Oszy#5734
could be that someone is using an outdated  mm2


[25-Oct-19 02:51 AM] Oszy#5734
like chainswap or hyperdex


[25-Oct-19 02:51 AM] cipi#4502
true, i have some of those too... not sure why, i guess people got used to not be able to buy the entire amount and are using smaller amounts when they buy
but i let the small amount where they are and i wait for someone to sell me more of those coins, which would "resolve" the problem üòâ


[25-Oct-19 02:52 AM] Patrick Crypto#1546
I recently did some trades with atomicdex and had to buy slightly less than the full amount, or the swap failed. I would guess people do it out of habit now


[25-Oct-19 02:54 AM] cipi#4502
btw, AtomicDEX combines the utxos to the desired amount, so small utxos should clean up themselves over time


[25-Oct-19 02:54 AM] Patrick Crypto#1546
ok, i will not worry about it for now. I just don't want to spam the order book and have a bunch of micro amounts left on it


[25-Oct-19 02:55 AM] Patrick Crypto#1546
I went in and cleaned up 3 earlier


[25-Oct-19 02:55 AM] Patrick Crypto#1546
But it's a pain to do on my vps


[25-Oct-19 02:56 AM] cipi#4502
yes, doing it manually is a pain
btw, afaik there is still the limit of 0.0077 (or so), so orders with amounts smaller then 0.0077 will be removed from orderbook


[25-Oct-19 02:58 AM] Patrick Crypto#1546
On oracle there is this order: VRSC/KMD    0.1251374100 KMD    0.12035654 VRSC. It's not mine, but I had 3 similar sized orders left over after someone bought from me. Anyway, I am more just glad my trades are working!


[25-Oct-19 02:59 AM] Oszy#5734
prices like this: `"price": "0.02651396963989006157481019209242411347596144151346341529621956383705963512904084546887335065095911760",`
are normal?


[25-Oct-19 03:00 AM] Patrick Crypto#1546
Probably wouldn't hurt to put in a limit on decimal places


[25-Oct-19 03:00 AM] cipi#4502
yes, this prices where "introduced" with the rational number thing... maybe a limit would be good


[25-Oct-19 03:03 AM] Patrick Crypto#1546
8 decimals is 1 satoshi right?


[25-Oct-19 03:04 AM] cipi#4502
yes


[25-Oct-19 03:05 AM] Patrick Crypto#1546
I think 8 decimals with a minimum difference of some sort between the next lowest order would be good when it starts getting popular, but that would be more difficult to implement I would guess


[25-Oct-19 03:07 AM] cipi#4502
the problem could also be that erc20 tokens can have up to 18 decimals... 18 is the default on erc20, some people are using fewer though...


[25-Oct-19 03:10 AM] cipi#4502
USDC for example has 6 decimals: https://etherscan.io/token/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48
this configuration is part of the contract code


[25-Oct-19 03:16 AM] Patrick Crypto#1546
limiting prices to 8 decimals is the same affect as requiring about twice the minimum tokens to trade isn't it?


[25-Oct-19 03:17 AM] Patrick Crypto#1546
Is there any benefit to allowing trades at .000000000000000001 price?


[25-Oct-19 03:19 AM] Patrick Crypto#1546
I thought the decimals in the contract just refers to the total supply of the token, but I don't know crap about ETH


[25-Oct-19 03:19 AM] Oszy#5734
gas would be 10000000000x more üòÇ


[25-Oct-19 03:20 AM] Patrick Crypto#1546
I've never traded on an exchange that had 16 decimals for the price field


[25-Oct-19 03:21 AM] Oszy#5734
neither did I in fact, on most exchanges minimum trade is 0.0005 btc or equivalent in the coin pair, so getting rid of extra 10 decimals wouldn't make anyone mad


[25-Oct-19 03:36 AM] Patrick Crypto#1546
Are there any links to other GUIs for mm2 besides AtomicDex?


[25-Oct-19 03:41 AM] Oszy#5734
https://github.com/chainmakers/chainmakers-ui-mono-repository/releases/tag/0.23.8

{Embed}
https://github.com/chainmakers/chainmakers-ui-mono-repository/releases/tag/0.23.8
chainmakers/chainmakers-ui-mono-repository
Repository for Chainmaker's user interfaces. Contribute to chainmakers/chainmakers-ui-mono-repository development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/0Ge3wNvy3GdgH7O50WD_rhZGuESIZPoIE-nCVAftxJc/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/35841643


[25-Oct-19 03:42 AM] Oszy#5734
bit buggy and in development also not updated to latest mm2 yet, so don't be surprised if you get interesting orderbooks üòÑ


[25-Oct-19 03:51 AM] Patrick Crypto#1546
Thanks


[27-Oct-19 09:16 AM] jorian#4555
has anyone tried electrums with SSL in mm2.0?


[27-Oct-19 09:17 AM] jorian#4555
getting ```error Custom { kind: InvalidData, error: WebPKIError(BadDER)``` with ```{\"url\":\"electrum-abc.criptolayer.net:50012\",\"protocol\":\"SSL\",\"disable_cert_verification\":true}``` taken from <https://1209k.com/bitcoin-eye/ele.php?chain=bch>


[27-Oct-19 09:18 AM] jorian#4555
not setting cert verification parameter doesn't have an effect


[27-Oct-19 10:16 AM] cipi#4502
i made a swap with these some time ago: https://github.com/jl777/coins/blob/master/electrums/NMC

{Embed}
https://github.com/jl777/coins/blob/master/electrums/NMC
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[27-Oct-19 10:23 AM] cipi#4502
RICK and MORTY have SSL electrums too, if you want to test
port is 20017 and 20018


[27-Oct-19 10:24 AM] cipi#4502
i guess the certificate of the BCH server you tried is wrong


[27-Oct-19 10:56 AM] jorian#4555
might be. isn't DER the transaction signing mechanism thing?


[27-Oct-19 10:56 AM] jorian#4555
i now use a tcp that works, though


[28-Oct-19 09:21 AM] artem.pikulin#0794
@jorian Hi!
MM2 relies on rustls and webpki libraries that goal is to enforce good practices of SSL/TLS so it currently support TLS1.2-1.3 only. It's possible to use self-signed certificates, but the certificate itself should have version 3: https://github.com/briansmith/webpki/issues/47#issuecomment-297509272. Here is the guide how such certificate can be created: https://stackoverflow.com/questions/18233835/creating-an-x509-v3-user-certificate-by-signing-csr. The certificate generated by openssl with default (legacy) params won't work.
The server you mentioned uses self-signed certificate generated with default params presumably. However there's at least 1 server (`bch.cyberbits.eu:50002`) that uses valid Let's Encrypt certificate so it doesn't require the `disable_cert_verification` at all.

{Embed}
https://github.com/briansmith/webpki/issues/47
Source of BadDER ¬∑ Issue #47 ¬∑ briansmith/webpki
Hello, In some test code I&#39;m using locally generated certificates. When I try to connect to a service using one of these certificates I&#39;m getting the error BadDER. Unfortunately tha...
https://images-ext-1.discordapp.net/external/O_RxJc7GWOfp2MM7ifmBkengEbVu5sIwuiQFEA7yzRk/%3Fs%3D400%26v%3D4/https/avatars0.githubusercontent.com/u/16816

{Embed}
https://stackoverflow.com/questions/18233835/creating-an-x509-v3-user-certificate-by-signing-csr.
Creating an x509 v3 user certificate by signing CSR
I know how to sign a CSR using openssl, but the result certificate is an x509 v1, and not v3.

I'm using the following commands:

x509 -req -days 365 -in myCSR.csr -CA myCA.crt -CAkey myCA.key -
https://images-ext-1.discordapp.net/external/dP07hBXxuorGcvXU609uJ_e6ZgPlIdBxqG8OjQQiAyY/%3Fv%3D73d79a89bded/https/cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon%402.png


[28-Oct-19 09:27 AM] artem.pikulin#0794
`{\"url\":\"electrumx-bch.cryptonermal.net:50002\",\"protocol\":\"SSL\",\"disable_cert_verification\":true}` also works, so I guess it's worth to pick the addresses that work and just skip the others since it might be quite hard to change the MM2 behavior in this case.


[28-Oct-19 09:36 AM] jorian#4555
Ah, great info. Thanks!

{Reactions}
ü§ù 

[30-Oct-19 06:23 AM] Patrick Crypto#1546
For some reason my VRSC/BTC order keeps disappearing


[30-Oct-19 06:23 AM] Patrick Crypto#1546
Other orders are fine


[30-Oct-19 06:23 AM] Patrick Crypto#1546
Also, there are no VRSC/BTC orders on the books. Some sort of server problem?


[30-Oct-19 06:25 AM] Oszy#5734
there are, i can see them


[30-Oct-19 06:25 AM] Patrick Crypto#1546
I might be writing it backward


[30-Oct-19 06:25 AM] Patrick Crypto#1546
1 order now


[30-Oct-19 06:25 AM] Oszy#5734
yes


[30-Oct-19 06:26 AM] Patrick Crypto#1546
I am trying to buy VRSC with BTC. Create an order. But after a few minutes it no longer shows up in my current orders


[30-Oct-19 06:26 AM] Oszy#5734
VRSC/BTC 1 order


[30-Oct-19 06:26 AM] Oszy#5734
BTC/VRSC 5 order


[30-Oct-19 06:26 AM] Oszy#5734
are you using setprice, or you trying to buy that 1 available


[30-Oct-19 06:27 AM] Patrick Crypto#1546
setprice


[30-Oct-19 06:28 AM] Patrick Crypto#1546
It's not filling, and no failed swaps. It is just going away


[30-Oct-19 06:28 AM] Patrick Crypto#1546
Shows up in my orders as a taker at first, as it should


[30-Oct-19 06:28 AM] Patrick Crypto#1546
and then disappears


[30-Oct-19 06:29 AM] Oszy#5734
mm2 output tells you anything?  electrum disconnects maybe?


[30-Oct-19 06:29 AM] Oszy#5734
set it up now i'll see if i can see it


[30-Oct-19 06:33 AM] Patrick Crypto#1546
Actually... I think I figured out why


[30-Oct-19 06:33 AM] Patrick Crypto#1546
Order too small


[30-Oct-19 06:33 AM] Oszy#5734
minimum 0.0077


[30-Oct-19 06:33 AM] Oszy#5734
BTC]


[30-Oct-19 07:03 AM] Patrick Crypto#1546
having problems. What is the way I want to write that order? I tried using mm2_tui and then using the cli. ./placeorder.sh BTC VRSC 0.00000575 1400 but get an error. I tried using curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setprice\",\"base\":\"BTC\",\"rel\":\"VRSC\",\"price\":\"0.00000575\",\"max\":true}" and it created order to sell my entire bitcoin balance for 5 verus! Thankfully I caught that before anyone else


[30-Oct-19 07:06 AM] ComputerGenie#7004
<https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#setprice>


[30-Oct-19 07:07 AM] Oszy#5734
you put `max:true` no wonder why it put up your whole balance


[30-Oct-19 07:07 AM] Oszy#5734
and there is no volum set in your call


[30-Oct-19 07:07 AM] Patrick Crypto#1546
./placeorder.sh BTC VRSC 0.00000575 1400 but get an error.


[30-Oct-19 07:08 AM] Patrick Crypto#1546
That should sell .00805 btc for 1400 vrsc?


[30-Oct-19 07:13 AM] Oszy#5734
i don't know what is in placeorder.sh


[30-Oct-19 07:16 AM] Patrick Crypto#1546
ugh


[30-Oct-19 07:16 AM] Patrick Crypto#1546
i have become dumber


[30-Oct-19 07:16 AM] Patrick Crypto#1546
Figured it out


[30-Oct-19 08:09 AM] Oszy#5734
you sure? i just saw something that makes me think you haven't üòõ


[30-Oct-19 08:17 AM] Patrick Crypto#1546
You are right. WTF. Having so many issues right now


[30-Oct-19 08:18 AM] Patrick Crypto#1546
Everything was working fine before. Not sure what I have screwed up


[30-Oct-19 08:20 AM] Patrick Crypto#1546
ELI5 how to place this order please?


[30-Oct-19 08:21 AM] Patrick Crypto#1546
Do I need to do BTC VRSC 173913 .00777


[30-Oct-19 08:22 AM] Oszy#5734
do you want to buy 173913 VRSC for 0.0077 BTC?


[30-Oct-19 08:23 AM] Patrick Crypto#1546
I wish


[30-Oct-19 08:23 AM] Oszy#5734
same


[30-Oct-19 08:24 AM] Oszy#5734
wait


[30-Oct-19 08:24 AM] Patrick Crypto#1546
price in rel


[30-Oct-19 08:24 AM] Patrick Crypto#1546
so 173913


[30-Oct-19 08:24 AM] Oszy#5734
swap


[30-Oct-19 08:24 AM] Oszy#5734
tickers


[30-Oct-19 08:25 AM] Patrick Crypto#1546
I've done 30 swaps and suddenly can't do anything. Maybe I am dreaming


[30-Oct-19 08:26 AM] Oszy#5734
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setprice\",\"base\":\"BTC\",\"rel\":\"VRSC\",\"price\":\"173913\",\"volume\":\"0.00777\"}"


[30-Oct-19 08:26 AM] Oszy#5734
or 0.008 as you wish


[30-Oct-19 08:26 AM] Oszy#5734
now it's fine


[30-Oct-19 08:27 AM] Oszy#5734
i can see your order 575 sats


[30-Oct-19 08:28 AM] Patrick Crypto#1546
Cool, thanks. My problem seems to be related to mm2_tui then

{Reactions}
3040_kingpeepo 

[30-Oct-19 08:28 AM] Patrick Crypto#1546
I must have messed something up with python


[30-Oct-19 08:29 AM] Patrick Crypto#1546
I mean my original problem, not my sudden mental deficiency problem


[30-Oct-19 08:29 AM] Oszy#5734
üòÑ


[30-Oct-19 08:40 AM] Patrick Crypto#1546
Also thank you for not swiping my btc


[30-Oct-19 09:03 AM] Oszy#5734
not a problem üôÇ


[30-Oct-19 09:07 AM] Patrick Crypto#1546
I'm guess this btc address must start with 1 error is due to segwit addresses not being supported?


[30-Oct-19 09:08 AM] Oszy#5734
exaclty


[30-Oct-19 09:09 AM] Patrick Crypto#1546
tricky way to keep me from withdrawing


[30-Oct-19 09:09 AM] Oszy#5734
`its not supported yet as DEX doesn't differentiate between legacy p2sh addresses and p2sh-p2wpkh addresses (segwit) which both start with 3 - coming soon`


[30-Oct-19 09:09 AM] Oszy#5734
login to verus agama lite with same seed


[30-Oct-19 09:11 AM] Patrick Crypto#1546
I sent to a legacy address on my trezor


[30-Oct-19 09:12 AM] Oszy#5734
that's okay too üòÑ


[01-Nov-19 03:56 AM] Patrick Crypto#1546
Woke up to quite a few more failed swaps(as a maker) today. Seems to be some residual issues from the test?


[01-Nov-19 06:33 AM] Cryptoon#3362
Can be other side aborting trade midway as well


[16-Nov-19 01:47 AM] mercadinaut#9107
Q1: Can you do an atomic swap on any ERC20 token or do you need to list it in the coins depository first? The Komodo guidance here (https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/additional-information-about-atomicdex.html#marketmaker-2-0-for-mobile-new) indicates that you need to have the token listed first, where as  the GitHub respiratory says you need to have done 5 atomic swaps first. 
The Gitub Readme file is a little unclear. It says you need a swap file to be able to list a token as { "mm2": 1 } which then allows it to be listed on the AtomicDEX mobile app. 
Q2: Can you upload a new token without having done the 5 swaps (& then do them using the CLI)?

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/additional-information-about-atomicdex.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[16-Nov-19 01:49 AM] jl777c#5810
not all erc20 are compatible, some have made changes. that is why we need proof of atomic swap before it can be added to atomicDEX app


[16-Nov-19 01:51 AM] mercadinaut#9107
so can you do this atomic swap without listing it in the coins GitHub repository?


[16-Nov-19 01:51 AM] mercadinaut#9107
ie on the CLI


[16-Nov-19 01:57 AM] mercadinaut#9107
ie how do you do the 5 atomic swaps required?


[16-Nov-19 02:06 AM] gcharang#6833
@mercadinaut 
follow this guide: <https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html>
in the section that says "Setting Up the Coin List"
input the config of the ERC20 token you want (you can find the correct config for a erc20 coin in the coins file in <https://github.com/jl777/coins>)
then, you can do a swap and get the 5 txnids


[16-Nov-19 02:10 AM] mercadinaut#9107
@gcharang Thanks, I have read through that page. It points back to the GitHub repository JL777/coins. I have worked out the configuration for the token. I just need to find out where to put it!


[16-Nov-19 02:30 AM] mercadinaut#9107
OK, I can see that you add your token/coin configuration to the files in your MM2 installation. I presume this sets up the parameters to test and prove the 5 atomic swaps. If this is the case I will suggest some improvements to the documentation to make this a little clearer.


[16-Nov-19 02:49 AM] gcharang#6833
@mercadinaut we don't actually have a document on how to add a new coin to the coins list and submit a pull request
we will add it in the near future

please tell us if you have any specific suggestions for improvement


[17-Nov-19 10:47 PM] gcharang#6833
```json
  "vout": [
    {
      "value": 19.89999999,
      "interest": 0.00186165,
      "valueSat": 1989999999,
      "n": 0,
      "scriptPubKey": {
        "asm": "OP_HASH160 71daef68e93bfb1d3d190081febc2c7ed89d358b OP_EQUAL",
        "hex": "a91471daef68e93bfb1d3d190081febc2c7ed89d358b87",
        "reqSigs": 1,
        "type": "scripthash",
        "addresses": [
          "bP7HKns9bSLXtUWHx5kjtewdpUzUpda5Ey"
        ]
      },
      "spentTxId": "6799b474f8c44065c94bcd2cefae527f465649f2cb0de5307a0449ee02df1e68",
      "spentIndex": 0,
      "spentHeight": 1622370
    }
```
I can see the hashlock: `"OP_HASH160 71daef68e93bfb1d3d190081febc2c7ed89d358b OP_EQUAL"`
how are we setting the timelock?
this is the txn <https://www.kmdexplorer.io/insight-api-komodo/tx/b51ea323b38fe95ecc6cb04595ddb8e15db426d96d5c5a6fbb04395cd54f0ae4>


[17-Nov-19 11:19 PM] gcharang#6833
also, with the hashlock, how are we enforcing the recipient?


[17-Nov-19 11:21 PM] jl777c#5810
nLockTime implementes the timelock


[17-Nov-19 11:21 PM] jl777c#5810
hashlock according to tier nolan method


[17-Nov-19 11:22 PM] jl777c#5810
both sides agree to a specific hashed value to send to, so the same secret unlocks both transactions. that is the essence of how atomic swaps work. you cant spend one side, without revealing how to spend the other side


[17-Nov-19 11:23 PM] jl777c#5810
the bulk of the protocol however, has to deal with cases where one side doesnt do what is needed and the various nested timelocks that allow recovery of funds implements that


[17-Nov-19 11:24 PM] jl777c#5810
if you are having basic questions about how this works, you need to refresh with reading the standard docs on how atomic swaps work. tier nolan post is a good place to start: https://bitcointalk.org/index.php?topic=193281.msg2224949#msg2224949

{Embed}
https://bitcointalk.org/index.php?topic=193281.msg2224949
Alt chains and atomic transfers
Alt chains and atomic transfers


[17-Nov-19 11:27 PM] gcharang#6833
I understand all of this, but confused by the specifics

the hash lock: `OP_HASH160 71daef68e93bfb1d3d190081febc2c7ed89d358b OP_EQUAL`
as I understand it, it just says whoever knows the preimage of 71daef68e93bfb1d3d190081febc2c7ed89d358b can get these coins
what is preventing some other person monitoring both the blockchains from stealing the coins that taker should get ?


[17-Nov-19 11:33 PM] jl777c#5810
without knowing the secret and having the privkey to the pubkey, you cant spend it


[17-Nov-19 11:33 PM] jl777c#5810
both the secret and a valid signature for the pubkey is needed


[17-Nov-19 11:40 PM] gcharang#6833
op_hash160 : `The input is hashed twice: first with SHA-256 and then with RIPEMD-160`
where is the pubkey and signature requirement being specified?
@jl777c


[17-Nov-19 11:44 PM] gcharang#6833
I'm expecting `OP_CHECKSIG` in the scriptPubkey
is there another way to specify the recipint?


[17-Nov-19 11:47 PM] jl777c#5810
do you know the content of the p2sh redeemscript


[17-Nov-19 11:47 PM] jl777c#5810
you need to understand that


[17-Nov-19 11:47 PM] jl777c#5810
it should have BOTH the check that you know the secret and also that you have the privkey to the pubkey


[17-Nov-19 11:47 PM] jl777c#5810
two things


[17-Nov-19 11:47 PM] jl777c#5810
the latter only available to bob or alice, depending on which path of the protocol you are on


[17-Nov-19 11:48 PM] jl777c#5810
what you see is just the standard p2sh script


[17-Nov-19 11:48 PM] jl777c#5810
like with multisig p2sh script, the p2sh script is of exact same form


[17-Nov-19 11:48 PM] jl777c#5810
the hash is the hash of the redeem script


[17-Nov-19 11:48 PM] jl777c#5810
it seems you need to read https://en.bitcoin.it/wiki/Pay_to_script_hash


[17-Nov-19 11:51 PM] gcharang#6833
ah, thank you
didn't know p2sh could be used this way
I was thinking the hex string in `OP_HASH160 71daef68e93bfb1d3d190081febc2c7ed89d358b OP_EQUAL` was directly the hash of the secret


[18-Nov-19 01:10 AM] jl777c#5810
understandable. that is what the expected behavior would be, but bitcoin added a special case for redeemscripts


[22-Nov-19 05:42 AM] phm87#7395
On ubuntu 16.04, I'm trying to build <https://github.com/KomodoPlatform/atomicDEX-API> according to its readme then follow <https://github.com/KomodoPlatform/developer-docs/blob/master/docs/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.md> I'm new to rust and I had issues to find correct nightly version of rust. Guys helped me on #ü§ù‚îÇdex-mobile but maybe this channel is more specific for mm2 cli.
I succeed to build mm2 with ``cargo build`` but when I launch it, I see no output and mm2 process is not present in htop
Using ``cargo build --features native -vv`` I obtained the following error (but as it worked fine for @gcharang I think that maybe I'm using a wrong rust version):


[22-Nov-19 05:43 AM] phm87#7395
```[common 0.1.0] Err(Os { code: 2, kind: NotFound, message: "No such file or directory" })
[common 0.1.0]
[common 0.1.0] ', /home/administrator/.cargo/registry/src/github.com-1ecc6299db9ec823/unwrap-1.2.1/src/lib.rs:67:25
[common 0.1.0] note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.
error: failed to run custom build command for `common v0.1.0 (/home/administrator/atomicDEX-API/mm2src/common)`

Caused by:
  process didn't exit successfully: `/home/administrator/atomicDEX-API/target/debug/build/common-bd9c2cdb277b52c8/build-script-build` (exit code: 101)
--- stderr
Boost at "/home/administrator/atomicDEX-API/target/debug/build/common-21c3e7c6f84b7f38/out/boost_1_68_0"
hget] Downloading https://dl.bintray.com/boostorg/release/1.68.0/source/boost_1_68_0.tar.bz2 ...
hget] Redirected to https://d29vzk4ow07wi7.cloudfront‚Ä¶TtEZab40Q__&Key-Pair-Id=APKAIFKFWOMXM2UMTSFA ‚Ä¶
hget] Fetched 40207 KiB out of 89995 ‚Ä¶```


[22-Nov-19 05:43 AM] phm87#7395
```$ /bin/sh bootstrap.sh
libtorrent at "/home/administrator/atomicDEX-API/target/debug/build/common-21c3e7c6f84b7f38/out/lt"
hget] Downloading https://codeload.github.com/arvidn/libtorrent/legacy.tar.gz/RC_1_2 ...
total·µê = 4037752, free·µê = 3359828
build_libtorrent]
  $ export PATH=/home/administrator/atomicDEX-API/target/debug/build/common-21c3e7c6f84b7f38/out/boost_1_68_0:$PATH
  $ export BOOST_BUILD_PATH=/home/administrator/atomicDEX-API/target/debug/build/common-21c3e7c6f84b7f38/out/boost_1_68_0/tools/build
  $ b2 -j2 -d+2 release link=static deprecated-functions=off debug-symbols=off dht=on encryption=on crypto=built-in iconv=off i2p=off cxxflags=-DBOOST_ERROR_CODE_HEADER_ONLY=1 cxxflags=-std=c++11 cxxflags=-fPIC include=/home/administrator/atomicDEX-API/target/debug/build/common-21c3e7c6f84b7f38/out/boost_1_68_0
$ /bin/sh -c "b2 -j2 -d+2 release link=static deprecated-functions=off debug-symbols=off dht=on encryption=on crypto=built-in iconv=off i2p=off cxxflags=-DBOOST_ERROR_CODE_HEADER_ONLY=1 cxxflags=-std=c++11 cxxflags=-fPIC include=/home/administrator/atomicDEX-API/target/debug/build/common-21c3e7c6f84b7f38/out/boost_1_68_0"
Building dht.cc ‚Ä¶
$ cmake -DMM_VERSION=UNKNOWN -DCMAKE_BUILD_TYPE=Debug ..
$ cmake -DMM_VERSION=UNKNOWN -DCMAKE_BUILD_TYPE=Debug ..
thread 'main' panicked at '

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!   unwrap! called on Result::Err                                              !
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
mm2src/common/build.rs:899,5 in build_script_build

Err(Os { code: 2, kind: NotFound, message: "No such file or directory" })

', /home/administrator/.cargo/registry/src/github.com-1ecc6299db9ec823/unwrap-1.2.1/src/lib.rs:67:25
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.```


[22-Nov-19 05:49 AM] phm87#7395
```cargo version
cargo 1.40.0-nightly (8b0561d68 2019-09-30)```


[22-Nov-19 05:50 AM] phm87#7395
I'm looking at the line ``error: failed to run custom build command for `common v0.1.0 (/home/administrator/atomicDEX-API/mm2src/common)``


[22-Nov-19 06:56 AM] phm87#7395
Maybe it will be painful to make it work on ubuntu 16.04 : I think that most of mm2 ubuntu are on 18.04, I can use docker


[22-Nov-19 06:59 AM] gcharang#6833
I am using 16.04 though


[22-Nov-19 07:04 AM] phm87#7395
Did you add a PPA ?


[22-Nov-19 07:06 AM] phm87#7395
Can you show me the commands that you typed ? I'm creating a new VM to start fresh, I can try with ubuntu 16.04 or 18.04 (I'm more used to 16.04 though)


[22-Nov-19 07:08 AM] phm87#7395
2019-10-06 seems to be installed without error now, I'll try again```rustup install nightly-2019-10-06
info: syncing channel updates for 'nightly-2019-10-06-x86_64-unknown-linux-gnu'
info: latest update on 2019-10-06, rust version 1.40.0-nightly (787005079 2019-10-04)
info: downloading component 'cargo'
  4.7 MiB /   4.7 MiB (100 %)   3.7 MiB/s in  1s ETA:  0s
info: downloading component 'rust-std'
173.8 MiB / 173.8 MiB (100 %)  20.0 MiB/s in 11s ETA:  0s
info: downloading component 'rustc'
 65.7 MiB /  65.7 MiB (100 %)  14.7 MiB/s in  4s ETA:  0s
info: installing component 'cargo'
info: installing component 'rust-std'
173.8 MiB / 173.8 MiB (100 %)  34.0 MiB/s in  5s ETA:  0s
info: installing component 'rustc'
 65.7 MiB /  65.7 MiB (100 %)  16.0 MiB/s in  4s ETA:  0s

  nightly-2019-10-06-x86_64-unknown-linux-gnu installed - rustc 1.40.0-nightly (787005079 2019-10-04)

info: checking for self-updates```


[22-Nov-19 07:09 AM] gcharang#6833
I didn't add any ppa
I also faced the error that said something like "rustfmt not availale with this release"
I think I used
```
git clone https://github.com/KomodoPlatform/atomicDEX-API --branch mm2 --single-branch

cd atomicDEX-API
cargo clean 

rustup install nightly
rustup override set nightly

cargo build --features native -vv
```

{Reactions}
üëå 

[22-Nov-19 07:09 AM] phm87#7395
```administrator@uni-prod-web:~$ rustup default nightly-2019-10-06
info: using existing install for 'nightly-2019-10-06-x86_64-unknown-linux-gnu'
info: default toolchain set to 'nightly-2019-10-06-x86_64-unknown-linux-gnu'

  nightly-2019-10-06-x86_64-unknown-linux-gnu unchanged - rustc 1.40.0-nightly (787005079 2019-10-04)

administrator@uni-prod-web:~$ rustup component add rustfmt-preview
error: component 'rustfmt' for target 'x86_64-unknown-linux-gnu' is unavailable for download for channel nightly-2019-10-06```
I'll try with your commands, thank you


[22-Nov-19 07:11 AM] gcharang#6833
also, make sure the branch is mm2


[22-Nov-19 07:41 AM] phm87#7395
Weird, using your commands, I had the same error


[22-Nov-19 07:43 AM] phm87#7395
```rustc --version
rustc 1.41.0-nightly (5c5b8afd8 2019-11-16)
~/atomicDEX-API$ rustup --version
rustup 1.20.2 (13979c968 2019-10-16)
 cargo --version
cargo 1.40.0-nightly (5da4b4d47 2019-10-28)```


[22-Nov-19 07:45 AM] TonyL#3577
@phm87 From the error above looks like you don't have `cmake` in your PATH


[22-Nov-19 07:45 AM] TonyL#3577
```Building dht.cc ‚Ä¶
$ cmake -DMM_VERSION=UNKNOWN -DCMAKE_BUILD_TYPE=Debug ..
$ cmake -DMM_VERSION=UNKNOWN -DCMAKE_BUILD_TYPE=Debug ..
thread 'main' panicked at '

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!   unwrap! called on Result::Err                                              !
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
mm2src/common/build.rs:899,5 in build_script_build

Err(Os { code: 2, kind: NotFound, message: "No such file or directory" })```


[22-Nov-19 07:45 AM] phm87#7395
thank you TonyL, I was looking in the wrong direction

{Reactions}
üëç 

[22-Nov-19 08:46 AM] phm87#7395
```--- stderr
Boost at "/home/administrator/atomicDEX-API/target/debug/build/common-acae92b81bfdc204/out/boost_1_                                             68_0"
libtorrent at "/home/administrator/atomicDEX-API/target/debug/build/common-acae92b81bfdc204/out/lt"
Building dht.cc ‚Ä¶
$ cmake -DMM_VERSION=UNKNOWN -DCMAKE_BUILD_TYPE=Debug ..
$ cmake -DMM_VERSION=UNKNOWN -DCMAKE_BUILD_TYPE=Debug ..
$ cmake --build . --target marketmaker-lib
$ cmake --build . --target marketmaker-lib
Error: could not find CMAKE_PROJECT_NAME in Cache
thread 'main' panicked at 'Command returned an error status: exit code: 1', mm2src/common/build.rs:                                             908:5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.

administrator@uni-prod-web:~/atomicDEX-API$ cmake --version
cmake version 3.16.0-rc4

CMake suite maintained and supported by Kitware (kitware.com/cmake).
administrator@uni-prod-web:~/atomicDEX-API$ echo $PATH
/home/administrator/.cargo/bin:/home/administrator/bin:/home/administrator/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
administrator@uni-prod-web:~/atomicDEX-API$ whereis cmake
cmake: /usr/local/bin/cmake```
Here is how I install last stable cmake <https://askubuntu.com/questions/829310/how-to-upgrade-cmake-in-ubuntu?answertab=active#tab-top>


[22-Nov-19 08:46 AM] phm87#7395
but the error is indeed related to cmake, I'll try to look at that


[22-Nov-19 08:55 AM] TonyL#3577
Maybe it's something `sudo` things, just guessing


[22-Nov-19 08:59 AM] Slyris#2880
@phm87 It's not related with CMake version.

When you run CMake it's creating a cache files and directory inside the build directory.

The error here here mean's that :

1st- The cache variable containing the project variable name  (CMAKE_PROJECT_NAME) is erased
2nd - project_name() is not set in the CMakeLists.txt


[22-Nov-19 09:00 AM] Slyris#2880
So the problem is probably the 1st one, you could use grep insinde the build directory to see if the variable is set


[22-Nov-19 09:00 AM] Slyris#2880
(The variable should be in the CMakeCache.txt)


[22-Nov-19 09:01 AM] phm87#7395
I made a cargo clean then build again. I will make a grep after the build. Thank you


[22-Nov-19 09:02 AM] Slyris#2880
Check also with which rights you are running CMake


[22-Nov-19 09:02 AM] Slyris#2880
Did you clone the project as sudo ?


[22-Nov-19 09:22 AM] phm87#7395
no I didn't use sudo to git clone not to build. I used sudo only to add dependancies


[22-Nov-19 09:22 AM] phm87#7395
```Building dht.cc ‚Ä¶
$ cmake -DMM_VERSION=1019c60 -DCMAKE_BUILD_TYPE=Debug ..
$ cmake -DMM_VERSION=1019c60 -DCMAKE_BUILD_TYPE=Debug ..
$ cmake --build . --target marketmaker-lib
$ cmake --build . --target marketmaker-lib
Error: could not find CMAKE_PROJECT_NAME in Cache
thread 'main' panicked at 'Command returned an error status: exit code: 1', mm2src/common/build.rs:908:5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace.

administrator@uni-prod-web:~/atomicDEX-API$ grep MAKE_PROJECT_NAME *
grep: build: Is a directory
grep: cmake: Is a directory
CMakeCache.txt:CMAKE_PROJECT_NAME:STATIC=SuperNET``` so it is there


[22-Nov-19 09:23 AM] phm87#7395
``Error: could not find CMAKE_PROJECT_NAME in Cache`` weird


[22-Nov-19 09:50 AM] phm87#7395
```grep project CMakeLists.txt
project(SuperNET)```


[22-Nov-19 11:14 AM] phm87#7395
I made a manual ``cmake .`` and ``cmake ..`` each time that I saw a CMakeLists.txt and I adapted a little bit here <https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/common/build.rs#L901> now I obtained a working binary ^^


[22-Nov-19 11:22 AM] phm87#7395
Can I have some MORTY ? I have error on the faucet ``Failed captcha verification`` but I saw no captcha (i see an error in the console ``Uncaught TypeError: grecaptcha.render is not a function`` et index.js:609 under chrome)


[22-Nov-19 11:23 AM] phm87#7395
RQURAF82ELUM9dXEVBACPSxo4oMGWp3YBc


[22-Nov-19 11:31 AM] phm87#7395
weird, I refreshed the page several times, I opened it in a new tab and after a while, the captcha appeared and I was able to get 7.77 MORTY

{Reactions}
üëç 

[22-Nov-19 06:11 PM] gcharang#6833
@phm87 hey, I deleted the  terminal output you posted because it seemed to contain the actual rpcpass and passphrase, no doubt your brain was lagging a bit after all that troubleshooting üòú 

sorry if they aren't real


[23-Nov-19 01:34 AM] phm87#7395
@gcharang  there is only MORTY on these keys but it is better to avoid to share passphrases, thank you.
I was able to make the tutorial/walkthrough, I created 2 orders but I'm waiting for a match (I let mm2 running in a screen), how long should I wait ?
Another question about prices, is it mandatory to parse the orderbook to know the last buy & sell prices (best buy price and best sell price) ? Or does it exist a single call to know all prices of all coins ?


[23-Nov-19 02:24 AM] phm87#7395
On MM2, do we have a similar call to know all supported coins on mm2 ? (similar to ``getcoins`` from mm1 <https://docs.komodoplatform.com/mmV1/api/general.html#getcoins>)


[23-Nov-19 02:26 AM] phm87#7395
``get_enabled_coins`` returns only the user enabled coins but I'd like to have all supported coins, thank you


[23-Nov-19 03:19 AM] cipi#4502
the supported coins are in the coins file: https://github.com/jl777/coins/blob/master/coins
the ones with `"mm2": 1`, the others were not tested with mm2 or are not working in mm2

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[23-Nov-19 05:07 AM] phm87#7395
Thank you


[23-Nov-19 05:41 AM] phm87#7395
@cipi and about the prices ? Should I perform one call for each coin ? Or can I get the prices for all coins with one call ?


[23-Nov-19 05:42 AM] phm87#7395
Now, I'm planning to retrieve orderbook for each coin, it is not efficient (I only need the best buy/sell, not whole orderbook)


[23-Nov-19 06:25 AM] cipi#4502
these are the available API calls: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
there is no API call for bestprice, so you need to query the orderbook

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[23-Nov-19 07:42 AM] gcharang#6833
>  I created 2 orders but I'm waiting for a match (I let mm2 running in a screen), how long should I wait ?
you have to wait till some one fills your order


[23-Nov-19 09:57 AM] phm87#7395
I tried to use the same price and volume that match another order in the orderbook but I didn't pay attention to bid / ask, I'll create other orders, thank you


[23-Nov-19 10:11 AM] SHossain#0007
what command did use to match another order?


[23-Nov-19 10:18 AM] SHossain#0007
`setprice` or `buy`?


[23-Nov-19 10:18 AM] phm87#7395
I used ``curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"orderbook\",\"base\":\"RICK\",\"rel\":\"MORTY\"}" | jq`` then I used my eyes to try to match an order but I didn't pay attention to bids and asks lists, I created a second order trying to sell 1 MORTY to receive 1 RICK. But the trading part can be dangerous (for the purpose I'd like to do) so I'll focus first on get prices and get balances and in a few days, swaps and trading


[23-Nov-19 10:18 AM] SHossain#0007
that's `orderbook` command


[23-Nov-19 10:19 AM] phm87#7395
I used a ``buy`` as they explain in <https://github.com/KomodoPlatform/developer-docs/blob/master/docs/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.md> but I'll sell RICK from my phone to be sure that my orders are matched


[23-Nov-19 10:19 AM] phm87#7395
thank you for your help


[23-Nov-19 02:06 PM] phm87#7395
I though that KOIN was mm2 compotible because it is an assetchain/smartchain (but maybe it is another KOIN here), I don't see ``"mm2": 1`` here for KOIN: <https://github.com/jl777/coins/blob/master/coins#L172>


[23-Nov-19 02:28 PM] cipi#4502
assetchains will work, only OOT and ZILLA are special (no sapling)


[23-Nov-19 02:28 PM] phm87#7395
but in the help, they explain to use only the coins with mm2: 1


[23-Nov-19 02:29 PM] cipi#4502
yes, because that are the tested ones... do a KOIN trade, then it is tested üôÇ


[23-Nov-19 02:30 PM] phm87#7395
<https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#electrum>
```Notes on the MM2 Parameter
For each coin, Komodo software requires the user/developer to set the mm2 parameter. This can be achieved either in the coins for more details), or via the electrum and enable methods.

The value of the mm2 parameter informs the software as to whether the coin is expected to function.

0 = non-functioning
1 = functioning```
But in some cases, there is no mm2 parameter


[23-Nov-19 02:30 PM] phm87#7395
oh ok I understand what you mean


[23-Nov-19 02:30 PM] phm87#7395
not tested, no tag, it makes sense


[23-Nov-19 02:32 PM] cipi#4502
btw, is KOIN actually still alive?


[23-Nov-19 02:32 PM] phm87#7395
no clues


[23-Nov-19 02:40 PM] SHossain#0007
@cipi we are notarizing KOIN


[23-Nov-19 02:41 PM] phm87#7395
yes, that's why I know it exists but we are notarizing several projects that I have never see any life in their channel so the question of cipi makes sense (maybe only notaries uses it now)


[23-Nov-19 05:47 PM] Tylor zkFS#8280
Looks like If you create a new zTOMIC coin - you could blend the zcash light wallet in to Adex ...use a 24 word seed and  ...."swap"... zaddress coins.....at least it looks like you can from my couch.


[23-Nov-19 05:54 PM] phm87#7395
zaddress are not yet supported into atomicdex and mm2 but in few months, it should be


[23-Nov-19 05:56 PM] Tylor zkFS#8280
That Artem dude could do it now....1st to market - dont wait


[23-Nov-19 05:58 PM] SHossain#0007
Q1 2020


[23-Nov-19 06:00 PM] Tylor zkFS#8280
üëå


[23-Nov-19 09:02 PM] jl777c#5810
https://hummingbot.io/ might be useful for mm2 CEX liquidity bridges. dont know if it is free or how good it is, but it is the first one of its type i have seen


[23-Nov-19 10:45 PM] Paro#7842
@jl777c I tested "HummingBot" in the past.


[24-Nov-19 12:38 AM] mrlynch#5735
is it any good?


[24-Nov-19 01:16 AM] Paro#7842
For those who use high amounts. risky


[24-Nov-19 12:51 PM] phm87#7395
Can I set up a mm2 node on one VM/server and make curl queries from another VM/server (in the same LAN) ? Does it require a kind of rpcallowip to be set somewhere ?


[24-Nov-19 01:04 PM] cipi#4502
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/mm2.rs#L127

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/mm2.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[24-Nov-19 01:08 PM] cipi#4502
but why do you want to do that? why not doing the requests on the same server where mm2 is running?


[24-Nov-19 01:09 PM] phm87#7395
If the other tool needs a server reboot, mm2 won t be affdcted. And vice versa


[24-Nov-19 01:11 PM] cipi#4502
that is true... i have to admit that i never reboot servers, only if i want/need a new kernel version üôÇ


[24-Nov-19 02:11 PM] cipi#4502
i think you need this option too (`rpc_local_only=false`): https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/mm2.rs#L130

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/mm2.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[24-Nov-19 02:38 PM] phm87#7395
thank you


[24-Nov-19 02:40 PM] phm87#7395
@TonyL @ca333 @SHossain for a good cause, I'd need huuuuge amounts of RICK and MORTY. I can give more details in private


[24-Nov-19 02:40 PM] SHossain#0007
@phm87 DM TonyL. he can send you


[24-Nov-19 02:41 PM] phm87#7395
Thank you


[25-Nov-19 02:44 PM] phm87#7395
there is a rpc call to know my own swap history but I'd really be happy to be able to know history of the whole atomicdex. The only written track are blockchains of both assets. How can I identify an old atomic swap from blockchain data ? I don't know if electrum will be enough to gather this info. I hope that I'll see something specific in the op_return


[25-Nov-19 03:00 PM] cipi#4502
only the seed nodes have the infos about swaps from all nodes


[25-Nov-19 03:05 PM] cipi#4502
https://github.com/KomodoPlatform/atomicDEX-API/issues/302

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/302
Shared statistics ¬∑ Issue #302 ¬∑ KomodoPlatform/atomicDEX-API
We want the SWAP statistics to be shared with the sites where we implement statistical interfaces, allowing the users to check on the status and health of the exchange network. There&#39;s also...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[25-Nov-19 10:22 PM] Alright#0419
You can track trades via RThtXup6Zo7LZAi8kRWgjAyi1s4u6U9Cpf, it's the dex fee address


[25-Nov-19 10:23 PM] Alright#0419
I have some basic scripts if you want them, basically just calculates total alice volume for a given chain


[25-Nov-19 10:23 PM] Alright#0419
@phm87


[25-Nov-19 10:49 PM] phm87#7395
Thank you


[26-Nov-19 08:13 AM] cipi#4502
problem with dexfee address is, that it covers only the swaps where the taker has used KMD. If he bought KMD and payed with BTC, the dexfee will be in BTC and payed to some other address.


[26-Nov-19 08:40 AM] gcharang#6833
another problem is, dexfee might be paid but the swap could still fail
I am not sure if it should be counted as volume


[26-Nov-19 09:40 AM] CHMEX#0686
I still think what mm1 did was pretty good it was called 'ticker' and easy to use as it just tracked what happened on the network


[26-Nov-19 09:49 AM] allbits#5898
1KRhTPvoxyJmVALwHFXZdeeWFbcJSbkFPu btc address for dex fees


[26-Nov-19 10:34 AM] allbits#5898
That's also the bch address (legacy)


[29-Nov-19 01:03 AM] phm87#7395
I performed some swaps yesterday between atomicdex-api and AtomicDEX (on smartphone) on RICK and MORTY and I noticed that:
- I can't match my own orders. If I create a sell and a buy that should match with the same client, nothing happens (I used ``setprice``)
- I was able to swap if I create orders from atomicdex-api with ``setprice`` then create the matching orders on atomicdex from my phone
- I'm testing but it doesn't seem to work to create new orders with my phone then create the matching order with atomicdex-api using ``setprice``
Should I use ``buy`` sometimes ? How can I know when I should use ``buy``, ``sell`` or ``setprice`` ?
But I don't use <https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#note-about-rational-number-type> but it doesn't work with round numbers 0.5 / 1 / 2 so I don't think that it is number type bug.
Thank you


[29-Nov-19 01:20 AM] jorian#4555
> If I create a sell and a buy that should match with the same client, nothing happens (I used setprice) 
I'm not sure i understand this one, but if i'm correct a send / buy is something that is broadcasted on the network. if in 30 seconds no reply comes in, it will be converted from taker to maker and will be put in the orderbook for others to buy / sell


[29-Nov-19 01:20 AM] jorian#4555
> I was able to swap if I create orders from atomicdex-api with setprice then create the matching orders on atomicdex from my phone
This is how it normally works; setprice is when you want to make a market


[29-Nov-19 01:20 AM] jorian#4555
in fact, every unmatched buy / sell will eventually become a setprice, conceptually


[29-Nov-19 01:21 AM] jorian#4555
> it doesn't seem to work to create new orders with my phone then create the matching order with atomicdex-api using setprice
that is because setprice isn't a taker order


[29-Nov-19 01:21 AM] jorian#4555
it will ignore the orderbook, so to say


[29-Nov-19 01:21 AM] phm87#7395
> If I create a sell and a buy that should match with the same client, nothing happens (I used setprice) 
sorry I mean that I used ``setprice`` to swap 1 RICK to 1 MORTY and I did a second call with the same client/wallet to swap 1 MORTY to 1 RICK, it didn't work (but I think that it is because it was done from the same client/wallet)


[29-Nov-19 01:22 AM] phm87#7395
ok so if I want to make sure to succeed to places orders and have matching, I'll try with ``buy`` instead of ``setprice``


[29-Nov-19 01:22 AM] jorian#4555
self-trading isn't possible, if i recall correctly


[29-Nov-19 01:22 AM] jorian#4555
that wouldn't make sense


[29-Nov-19 01:22 AM] phm87#7395
yes it is what I read on telegram when I searched


[29-Nov-19 01:23 AM] jorian#4555
you can however swap from the same network, but it's been a long time since i last did that


[29-Nov-19 01:23 AM] jorian#4555
ok, well, i wouldn't know, never tried it


[29-Nov-19 01:23 AM] jorian#4555
> I used setprice to swap 1 RICK to 1 MORTY and I did a second call with the same client/wallet to swap 1 MORTY to 1 RICK
did you use setprice for both?


[29-Nov-19 01:24 AM] phm87#7395
yes but I did both using the same client/wallet/seed


[29-Nov-19 01:25 AM] phm87#7395
if I create a new order with atomicdex on my phone then I create the corresponding order with ``setprice`` with atomicdex-api, I have this situation where the matching doesn't happen:


[29-Nov-19 01:25 AM] phm87#7395

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/649903829059502091/unknown.png


[29-Nov-19 01:26 AM] phm87#7395
I'll try with ``buy`` instead of ``setprice``


[29-Nov-19 01:37 AM] phm87#7395
Someone is spamming RICK and MORTY orderbook ... why all these weird orders ?


[29-Nov-19 01:38 AM] jorian#4555
yes


[29-Nov-19 01:38 AM] jorian#4555
you can't use setprice to buy


[29-Nov-19 01:38 AM] jorian#4555
setprice == passive, buy == active


[29-Nov-19 01:38 AM] jorian#4555
like i said, setprice doesn't broadcast


[29-Nov-19 01:38 AM] phm87#7395
I didn't know


[29-Nov-19 01:38 AM] jorian#4555
it only puts an order in the orderbook


[29-Nov-19 01:38 AM] jorian#4555
well, now you know üôÇ


[29-Nov-19 01:38 AM] phm87#7395
but when I created orders with setprice, they were visible in the orderbook


[29-Nov-19 01:39 AM] jorian#4555
yes; it only does that: put orders in the orderbook


[29-Nov-19 01:39 AM] jorian#4555
it doesn't actively look for other orders to take


[29-Nov-19 01:39 AM] jorian#4555
it only makes, it doesn't take


[29-Nov-19 01:39 AM] phm87#7395
maybe it is also linked with the fee : if 2 orders with setprice match, no fee is paid


[29-Nov-19 01:39 AM] phm87#7395
I understand better, thank you


[29-Nov-19 01:41 AM] jorian#4555
> if 2 orders with setprice match
this will indeed never happen, but it doesn't have to do with the fee. you have to see it as the difference between `maker` and `taker` orders. `setprice` makes orders and puts them in the orderbook as a result, for `buy` and `sell` commands to take.
`setprice` == `maker`, `buy`/`sell` == `taker`


[29-Nov-19 01:41 AM] jorian#4555
and if a `buy` or `sell` (`taker` order) doesn't find anything useful in the orderbook, it converts to a `maker` order


[29-Nov-19 01:45 AM] phm87#7395
thank you for the explanation


[29-Nov-19 02:43 AM] jorian#4555
i could be wrong, but i thought mm2.0 had support for order combining: buy 2 orders at once. am i correct?


[29-Nov-19 02:45 AM] Oszy#5734
`self-trading isn't possible, if i recall correctly` using the same R address it's not


[29-Nov-19 02:47 AM] phm87#7395
Oszy: yes I used the same R address and I used setprice so it won't work. Now, I'm trying with 2 different R address and I use a buy instead of setprice


[29-Nov-19 02:47 AM] Oszy#5734
same R will always timeout or neg. failed


[29-Nov-19 02:48 AM] Oszy#5734
i am thinking your "successful" one possibly wasn't your maker order but another that got matched


[29-Nov-19 02:52 AM] phm87#7395
yes


[29-Nov-19 02:52 AM] phm87#7395
I created some orders with atomicdex on my phones but I have no clues if it creates maker or taker orders


[29-Nov-19 03:16 AM] Oszy#5734
if you set a price, you are maker, if you select an existing price you are taker


[29-Nov-19 05:40 AM] Oszy#5734

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/649968037092524033/Screenshot_from_2019-11-29_13-31-49.png


[29-Nov-19 05:41 AM] Oszy#5734
Why the 2 orders of 20 aren't matched? even so the 19.999 on the left.


[29-Nov-19 05:41 AM] Oszy#5734
it's been like this for a couple hours now


[29-Nov-19 06:53 AM] jorian#4555
what do you mean?


[29-Nov-19 06:53 AM] jorian#4555
you mean the arbitrage opportunity that now exists?


[29-Nov-19 06:54 AM] jorian#4555
albeit very small


[29-Nov-19 08:01 AM] Oszy#5734
no


[29-Nov-19 08:01 AM] Oszy#5734
look


[29-Nov-19 08:02 AM] Oszy#5734
there is sell for 19.99 and buy for 20


[29-Nov-19 08:02 AM] Oszy#5734
that should match no?


[29-Nov-19 08:05 AM] ComputerGenie#7004
you might need to drop it the difference of fees
19.99 + fees > 20, maybe


[29-Nov-19 08:06 AM] Oszy#5734
oh it's not mine i was just observing the book today


[29-Nov-19 09:45 AM] jorian#4555
the orderbook won't actively settle these cases, i think. if you create a bid for 20 using `setprice` and an ask for 21 using `setprice`, there will be no trading


[29-Nov-19 09:58 AM] artem.pikulin#0794
@Oszy @phm87 Hi! The @jorian comments are correct, the 2 or more orders created by `setprice`call are maker only and no attempt to match between them is made. So `there is sell for 19.99 and buy for 20`is currently possible.
`I created some orders with atomicdex on my phones but I have no clues if it creates maker or taker orders` - AFAIK AtomicDEX GUI typically uses buy or sell methods, which create the taker order first, but if it's not matched it is then recreated as maker's and stays in orderbook until matched or cancelled. It is also mentioned in tips of buy/sell methods docs: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#buy

{Embed}
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[29-Nov-19 09:59 AM] phm87#7395
Thank you for the explanation


[30-Nov-19 12:28 PM] Patrick Crypto#1546
I am a bit confused about fees. As I understood it, makers do not pay fees. But someone bought .0078 bitcoin worth of a coin from me, but I only received .0077209. Is there a network fee I am missing?


[30-Nov-19 01:47 PM] cipi#4502
yes, the one from BTC
```bitcoin-cli estimatesmartfee 1
{
  "feerate": 0.00027014,
  "blocks": 2
}
```


[30-Nov-19 01:50 PM] cipi#4502
or whatever coin was makercoin (maker selling)


[30-Nov-19 01:56 PM] Patrick Crypto#1546
Ok, thanks. I figured that must be it


[01-Dec-19 09:40 AM] Patrick Crypto#1546
I am getting an abnormally high number of failed swaps trying to sell KMD for DEX. Using 2.0.1417


[01-Dec-19 09:40 AM] Patrick Crypto#1546
6 taker fees spent


[01-Dec-19 09:53 AM] Patrick Crypto#1546
they aren't even showing as failed it seems either


[01-Dec-19 10:03 AM] Oszy#5734
@cipi 10021 and 10017 are which electrums? I am getting tons of timeouts on 21 and connection refused on 17


[01-Dec-19 11:51 AM] cipi#4502
10017 is RICK and 10021 is VRSC... the electrums are restarted every week (on Sunday) and VRSC once a month (because it needs 24h to get back online)... and that is why we have 3 electrums‚Ä¶ so just ignore the messages

{Reactions}
üëç 

[02-Dec-19 12:36 PM] phm87#7395
I can retrieve orderbook without correct userpass, is it normal ?


[02-Dec-19 12:53 PM] phm87#7395
Another question : what does TakerFeeValidateFailed means ? How can this error be raised ? I had an internet connection drop, maybe it can explain why I had this error


[02-Dec-19 12:56 PM] phm87#7395
```error: maker_swap:403] Taker fee tx_details_by_hash failed utxo:1585] JsonRpcError { request: JsonRpcRequest { jsonrpc: "2.0", id: "6153", method: "blockchain.transaction.get", params: [String("1fd47a4a0811cfb38e7987497360aca4687db46846fbbf2f7df071bb58cc26ad"), Bool(true)] }, error: Transport("rpc_clients:770] rpc_clients:770] [\"rpc_clients:1412] common:1070] future timed out\"]") }```


[02-Dec-19 01:27 PM] Oszy#5734
I asked the same question before didn't get a reply. I assume it's normal since nothing secret about the orderbook itself..


[02-Dec-19 01:29 PM] Oszy#5734
TakerFeeValidateFailed mean that the first amount the taker sent as a fee, wasn't sent/confirmed within the time lock could be due to slow chain or disconnect


[02-Dec-19 01:31 PM] phm87#7395
my second attempt to swap was successfull ... but the coins didn't arrive yet ... do you know what are Komodo addresses beginning with b such as bJMMgzhjocM2bcFKFdN4UCw7M2NjBaeqPi ?


[02-Dec-19 01:32 PM] SHossain#0007
those are time-locked `p2sh` addresses


[02-Dec-19 01:32 PM] phm87#7395
thank you


[02-Dec-19 01:32 PM] phm87#7395
I'm wrong about my second attempt: it failed with MakerPaymentSpendFailed


[02-Dec-19 01:33 PM] phm87#7395
I should get back my coins later


[02-Dec-19 01:34 PM] phm87#7395
is it a good idea to make a third attempt ? I'm both seller and buyer here, I control both sides, I create only buy and sell orders (no set_price). I used the same price and the same volume but I don't know if it is good to do


[02-Dec-19 01:47 PM] phm87#7395
sigh ... it failed again with MakerPaymentSpendFailed


[02-Dec-19 01:55 PM] phm87#7395
``error: Response(Object({"code": Number(1), "message": String("the transaction was rejected by network rules.\n\n16: tx-overwinter``


[02-Dec-19 02:38 PM] Patrick Crypto#1546
Is there a mechanism in place to prevent self trading?


[02-Dec-19 02:39 PM] phm87#7395
I had to set up 2 mm2 "nodes" to be able to trade with myself but using 2 different passphrases/addresses


[02-Dec-19 02:40 PM] phm87#7395
I searched this discord and on telegram, someone else mentionned that he can't trade with himself so yes I think that it is possible to trade with ourselves, we need 2 different parties I think


[02-Dec-19 02:59 PM] phm87#7395
about the error I encountered ``the transaction was rejected by network rules`` it seems that I encountered the same error of smk <https://github.com/KomodoPlatform/atomicDEX-API/issues/454> ... I'm using a ticker that is not yet into <https://github.com/jl777/coins/blob/master/coins> I added it locally on each of my mm2 node but is it sufficient ?


[02-Dec-19 03:01 PM] cipi#4502
assetchains with sapling active need
```    "txversion": 4,
    "overwintered": 1,```
in the coins file, else you get the above error


[02-Dec-19 03:02 PM] phm87#7395
I think it is fine, I sent you the coin config in DM (please keep ticker secret for now ^^)


[02-Dec-19 03:06 PM] phm87#7395
I think that it uses the local file because I was able to enable the coin, to create buy and sell orders that stays in the orderbook


[02-Dec-19 03:07 PM] phm87#7395
nearly whole swap was fine but something fails at the end, I'll dig more


[02-Dec-19 03:19 PM] Patrick Crypto#1546
If you are keeping the ticker secret because you are worried someone else might initiate a swap, you can change the ports on your nodes to something other than the default


[02-Dec-19 03:56 PM] phm87#7395
Many people know the ticker, it is a well-known smartchain but I like surprises. Thank you for the idea how to hide a little bit


[02-Dec-19 03:59 PM] ComputerGenie#7004
_shakes head and walks away_


[02-Dec-19 07:38 PM] J-Dog#9487
No CG, like this....
```shakes head and walks away```


[02-Dec-19 08:13 PM] jl777c#5810
@phm87 cipi gave you the answer


[03-Dec-19 12:50 AM] artem.pikulin#0794
@phm87 Hello!
`I can retrieve orderbook without correct userpass, is it normal ?` - yes, the orderbook method is considered public, the information is available on any node so there's no need to put it under password protection.


[03-Dec-19 12:54 AM] artem.pikulin#0794
@Patrick Crypto Hi!
`Is there a mechanism in place to prevent self trading?` - yes, your node will ignore the ordermatch messages that are sent using pubkey equal to your node's pubkey. Overall MM2 is not designed to support several nodes using same passphrase/keypair, as of now it's not strictly prohibited, more kind of undefined behavior.


[03-Dec-19 01:01 AM] artem.pikulin#0794
@phm87 `Another question : what does TakerFeeValidateFailed means ? How can this error be raised ? I had an internet connection drop, maybe it can explain why I had this error` - yes, it was caused by internet connection drop. You should also see some electrum related errors in your MM2 log in this case. 
TakerFeeValidateFailed can also be raised in following cases:
1. Coin's RPC server returns the error (e.g. transaction is not present in coin's blockchain at all).
2. Transaction is there, but it's sent to wrong address or amount is wrong.
Here's fee validation code for UTXO coins, you may see all conditions there: https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/coins/utxo.rs#L1109

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/coins/utxo.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[03-Dec-19 01:52 AM] phm87#7395
@jl777c cipi helped me in DM, I will retest tonight. Thank you to @artem.pikulin for the support


[03-Dec-19 01:46 PM] Patrick Crypto#1546
I have a swap in progress which has the status of makerpaymentsent. The maker coin has been deducted from my wallet, and has about 20 confirmations, but the swap has still been pending for a couple hours now


[03-Dec-19 01:46 PM] Patrick Crypto#1546
Any suggestions?


[03-Dec-19 01:53 PM] cipi#4502
your node is waiting for takerpayment now


[03-Dec-19 01:59 PM] Patrick Crypto#1546
Should I continue to wait?


[03-Dec-19 02:01 PM] cipi#4502
you have no choice... if it takes too long, the swap will fail and you get your makerpayment back


[03-Dec-19 02:03 PM] Patrick Crypto#1546
Any idea how too long is? What would happen if I shut down mm2?


[03-Dec-19 02:05 PM] cipi#4502
not sure, depends on the coin... BTC takes longer, because blocktime is 10min...


[03-Dec-19 02:06 PM] cipi#4502
it makes no difference if you shutdown or not... what do you want to achieve with shutting down?


[03-Dec-19 02:06 PM] Patrick Crypto#1546
My maker is btc, taker is kmd.


[03-Dec-19 02:07 PM] cipi#4502
could take an hour or two


[03-Dec-19 02:08 PM] cipi#4502
maybe longer... i also waited for BCH refund 24h or so


[03-Dec-19 02:08 PM] Patrick Crypto#1546
ok, I will see what it looks like in the am


[03-Dec-19 02:08 PM] cipi#4502
https://github.com/KomodoPlatform/atomicDEX-API/issues/568

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/568
Locktimes optimization ¬∑ Issue #568 ¬∑ KomodoPlatform/atomicDEX-API
At the moment locktimes in some cases are too huge (for example in case of BTC maker payment it&#39;s almost 48 hours) so would be great to make waiting less (for the case above we can reduce i...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[03-Dec-19 02:10 PM] cipi#4502
best would be if the taker would continue the swap... instead of waiting for makerpayment refund


[04-Dec-19 12:20 AM] Patrick Crypto#1546
Looks like the swap failed, but I did not receive the taker coin


[04-Dec-19 12:25 AM] artem.pikulin#0794
@Patrick Crypto Hello, BTC maker payment locktime is almost 48 hours, if the taker is gone and didn't send his payment MM2 will automatically refund after locktime expires, please wait. We will possibly reduce the locktimes for BTC swaps, but not too much since it might take few hours sometimes for BTC transaction to be confirmed.


[04-Dec-19 12:26 AM] Patrick Crypto#1546
Ok, thanks


[04-Dec-19 12:26 AM] Patrick Crypto#1546
It looks like this is the relevant info from the swap json? "event": {
              "data": {
                "error": "maker_swap:474] timeout (26090.0 > 26090.0)"
              },
              "type": "TakerPaymentValidateFailed"
            },


[04-Dec-19 12:27 AM] artem.pikulin#0794
Yes, taker payment data was not received by your node, MM2 is now waiting for right moment to issue a refund.


[05-Dec-19 08:22 AM] Patrick Crypto#1546
My maker payment was refunded

{Reactions}
üëç (2) 

[08-Dec-19 02:35 AM] Patrick Crypto#1546
Is there some sort of hard limit on when a swap will timeout? I've had a taker order that has been at negotiated for a couple of days now


[08-Dec-19 02:45 AM] Slyris#2880
Hello i have a question concerning the `sync_status` object in the  `my_tx_history` sometimes inside this json object (in the additional info) we have :

- Possibility to have an error: code + message (this is optional)
- Possibility to have transaction left in case of success  (BTC/KMD coins...) (optional) 
- Possbility to have blockleft (Ethereum coins) (optional)

Am i right ?


[08-Dec-19 02:54 AM] Slyris#2880
Trying to design a c++ struct that fit the tx_history_answer:

```cpp
 struct sync_status_additional_error {
        std::string message;
        int code;
    };

    struct sync_status_eth_erc_20_coins {
        std::size_t blocks_left;
    };

    struct sync_status_regular_coins {
        std::size_t transactions_left;
    };

    struct sync_status_additional_infos {
        std::optional<sync_status_additional_error> error; ///< in case of error
        std::optional<sync_status_eth_erc_20_coins> erc_infos; ///< eth/erc20 related coins
        std::optional<sync_status_regular_coins> regular_infos; ///< kmd/btc/utxo related coins
    };

    struct t_sync_status {
        std::string state; ///< NotEnabled, NotStarted, InProgress, Error, Finished
        sync_status_additional_infos additional_infos;
    };

    struct tx_history_answer_success {
        std::string from_id;
        std::size_t skipped;
        std::size_t limit;
        std::size_t current_block;
        std::size_t total;
        std::vector<transaction_data> transactions;
        t_sync_status sync_status; 
        std::string raw_result; ///< internal
        int rpc_result_code; ///< internal
    };

    struct tx_history_answer {
        std::optional<std::string> error;
        std::optional<tx_history_answer_success> result;
    };
```

am i right @artem.pikulin  or @artemciy_dice ?


[08-Dec-19 02:55 AM] Slyris#2880
Not sure, i based this on the current documentation answer example, may be there is case that doesn't appear here ?


[08-Dec-19 07:09 AM] artemciy_dice#0049
I compared it here and there with our sources and the c++ structure seems all right. Some possibly relevant pointers:
https://github.com/KomodoPlatform/atomicDEX-API/blob/a900fc6f1dd6e2e4c8607ca3017190d4480a34ec/mm2src/coins/lp_coins.rs#L601
https://github.com/KomodoPlatform/atomicDEX-API/blob/a900fc6f1dd6e2e4c8607ca3017190d4480a34ec/mm2src/coins/utxo.rs#L1530
https://github.com/KomodoPlatform/atomicDEX-API/blob/a900fc6f1dd6e2e4c8607ca3017190d4480a34ec/mm2src/coins/eth.rs#L1317


[08-Dec-19 07:37 AM] Slyris#2880
Thank's a lot for the answer !

@artemciy_dice Ok i have another question


[08-Dec-19 07:37 AM] Slyris#2880
How you know with my_tx_history

If i'm the sender or the receiver ?


[08-Dec-19 07:38 AM] Slyris#2880
For the current transactions


[08-Dec-19 07:40 AM] Slyris#2880
We agree that if my_balance change start with a `-` means that i'm sender otherwise i receive


[08-Dec-19 07:52 AM] artemciy_dice#0049
We send `my_amount` with every swap and we receive `other_amount` in every swap.


[08-Dec-19 08:05 AM] Slyris#2880
i mean for a simple withdraw_money @artemciy_dice 

i use tx_history for the portfolio part


[08-Dec-19 08:06 AM] Slyris#2880
i want to know through tx_history if i'm a sender or the receiver, but i guess my_balance_change is enough


[11-Dec-19 11:22 AM] kremer#0658
just completed my first swap w/ atomicdex. actually completed two in a row w/ morty for rick coins. i was having issues around 2 months ago - getting a type:takerfeesendfailed error. @smkhound suggested coinsfile may be outdated and after updating that, everything worked. this was quite some time ago (oct 19), but thought it would be useful to provide feedback..better late than never

{Reactions}
üëç (3) 

[15-Dec-19 03:33 PM] phm87#7395
I'm trying to search for the documentation (rpc functions and example) of HTLC in Komodo. I had a look in Zcash, they talk about XCAT. Can you give me links to doc about HTLC in Komodo ? Thank you


[15-Dec-19 09:20 PM] jl777c#5810
it is the same as for BTC: https://en.bitcoinwiki.org/wiki/Hashed_Timelock_Contracts

{Embed}
https://en.bitcoinwiki.org/wiki/Hashed_Timelock_Contracts
Hashed Timelock Contracts
Hashed TimeLock Contract or HTLC is a class of payments that use hashlocks and timelocks to require that the receiver of a payment either acknowledge receiving the payment prior to a deadline by generating cryptographic proof of payment or forfeit the ability to claim the pay...
https://images-ext-2.discordapp.net/external/Sfz1c6qCIBTkboRUsIW-niyeoBO3mrNZ2ApRKTk5qBY/https/en.bitcoinwiki.org/resources/new_assets/MetaPicWIKI.png


[15-Dec-19 11:34 PM] phm87#7395
Thank you


[16-Dec-19 05:31 AM] jorian#4555
```RPC error response: lp_ordermatch:852] sender pubkey 028b2e2d4a963657a1ba52b0c22410edb96fb0bad188e561766a8732843cb5d531 is banned```


[16-Dec-19 05:31 AM] jorian#4555
do we have specifics on when pubkeys are banned?


[16-Dec-19 05:36 AM] artem.pikulin#0794
@jorian 
As of now no, it can be retrieved by checking the swap history and searching the swap with the banned pubkey. However it's not so straight-forward. I think I will add a bit more info along with `unban` method implementation requested by `cipi`: https://github.com/KomodoPlatform/atomicDEX-API/issues/571#issuecomment-562535247

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/571
Reputation system ¬∑ Issue #571 ¬∑ KomodoPlatform/atomicDEX-API
This is tracking issue for upcoming reputation system feature.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[16-Dec-19 05:38 AM] jorian#4555
how about the rules for banning? will you add it to the info?


[16-Dec-19 05:44 AM] artem.pikulin#0794
The rules are actually very simple now, if swap is failed with event that is typically considered as other node fault it's pubkey will be banned until restart:
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs#L823
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/taker_swap.rs#L332
Of course we will add more conditions and implement the feature rich reputation system, but the current workaround is sufficient to stop the node from always matching with bad maker having the best price.

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/taker_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[16-Dec-19 05:46 AM] jorian#4555
ah yes, that is actually good for an initial start


[16-Dec-19 05:10 PM] Mylo#8306
Nice feature!


[16-Dec-19 05:11 PM] Mylo#8306
& nice KISS implementation for starting


[17-Dec-19 12:50 AM] Patrick Crypto#1546
Do I need to do anything to get VRSC back up and running, or is it just a waiting game now?


[17-Dec-19 12:52 AM] Oszy#5734
just wait


[18-Dec-19 03:01 AM] cipi#4502
@artem.pikulin some swap files on the seed nodes (/SWAPS/STATS/MAKER/) have maker_coin, taker_coin, taker_amount and maker_amount set to `null`
here is an example

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/656813301967224852/null.txt


[18-Dec-19 03:01 AM] cipi#4502
is this normal?


[18-Dec-19 03:03 AM] artem.pikulin#0794
@cipi Yes, these are statuses broadcasted from outdated nodes that do not include these fields.


[18-Dec-19 03:03 AM] cipi#4502
interesting, thanks


[18-Dec-19 07:19 AM] Alright#0419
```
0. alice sends DEX fee
1. alice sends coins to b address
2. bob sends coins to b address
3. bob spends coins from b address
4. alice spends coins from b address
```
is this the correct order for a swap? I keep finding ones where step 3 is confirmed after step 4 is confirmed


[18-Dec-19 07:20 AM] Alright#0419
which should never happen? ü§î


[18-Dec-19 07:20 AM] Alright#0419
could just be that blocktimes are inaccurate between the two chains, this is timestamp I'm looking at


[18-Dec-19 07:22 AM] jl777c#5810
as soon as 3. is in the mempool, 4, is possible. nothing requires 3. to confirm before 4.


[18-Dec-19 07:22 AM] jl777c#5810
but maybe you have 3 and 4 reversed, it should alternate who does the next step


[18-Dec-19 07:23 AM] jl777c#5810
but 3 and 4 can be thought to be simultaneous


[18-Dec-19 07:24 AM] Alright#0419
thank you


[18-Dec-19 07:24 AM] Alright#0419
yes seems I have them flipped, but shouldn't even really matter


[18-Dec-19 07:26 AM] Alright#0419
shouldn't alice sending to b address happen before bob sending to b address?


[18-Dec-19 07:26 AM] Alright#0419
isn't this how mm1 was? It prevented an evil Alice from locking up all of bob's coins for 4 hours


[18-Dec-19 07:26 AM] Alright#0419
if I'm understanding process correctly, alice can lock up bob's coins for 4 hours just for the cost of dex fee


[18-Dec-19 07:31 AM] jl777c#5810
alternating between the 2


[18-Dec-19 07:31 AM] jl777c#5810
alice, bob, alice, bob, alice


[18-Dec-19 07:32 AM] jl777c#5810
yes, the dexfee needs to be big enough disincentive for alice to not want to do it just to tie up bobs funds


[18-Dec-19 07:50 AM] Alright#0419
believe i found why my volume scripts miss some swaps


[18-Dec-19 07:50 AM] Alright#0419
it was assuming that vout1 of dex fee transaction(step0) would always be spent in alice->b_addr (step2)


[18-Dec-19 07:51 AM] Alright#0419
need to work out when exactly this wouldn't be the case


[18-Dec-19 07:51 AM] Alright#0419
if it's common, this volume script is going to take even longer :L


[18-Dec-19 07:53 AM] Alright#0419
we could add some dummy vouts with data that would make this much much simpler to extract volume from blockchain data.... üòÖ


[18-Dec-19 07:53 AM] Alright#0419
otherwise, we're relying on shotty seed node data that isn't immutable and isn't easily accessible to the public


[18-Dec-19 07:54 AM] Alright#0419
so like a CEX :abusedsmily:


[18-Dec-19 07:56 AM] Alright#0419
not saying seed node data is inherently "shotty", just that it can be and we cannot go back to check if it's 100% correct


[19-Dec-19 07:24 AM] Alright#0419
`it was assuming that vout1 of dex fee transaction(step0) would always be spent in alice->b_addr (step2)` is it possible to make this assumption always valid? It would allow for reliable historical volume tracking


[19-Dec-19 07:24 AM] Alright#0419
can't seem to get around it otherwise, have been thinking of this for a couple days


[19-Dec-19 07:25 AM] Alright#0419
if you cannot find the alice->b_addr tx given a DEX fee tx, it seems to make it impossible to correlate reliably


[19-Dec-19 07:25 AM] Alright#0419
you can kind of do it by comparing amounts, but that leads to issues of multiple swaps with the same amount getting jumbled up


[19-Dec-19 07:28 AM] Alright#0419
have been thinking of the smallest possible tweak to mm2 that would allow reliable volume data to be extracted from on chain, and this seems to be it


[19-Dec-19 08:01 PM] artem.pikulin#0794
@Alright 
`it was assuming that vout1 of dex fee transaction(step0) would always be spent in alice->b_addr (step2)`
Hi, I think it's not reachable due to following reasons:
1. MM2 was designed to be able to work even when address has single utxo. MM2 is actually eager to `merge` smaller UTXOs to bigger one to reduce the average generated transaction size and avoid MM1 common situations when address had dozens of "almost dust" UTXOs. So to fulfill the `vout1 would always be spent in alice->b_addr` in very common single UTXO case we need to virtually lock that single change output until the corresponding taker payment is sent. It may take a lot of time because after dexfee is sent it is validated first, maker payment is sent, it's confirmed (in case of BTC it may take hours) and only then taker payment is sent. It actually means that MM2 will be able to have only 1 concurrent swap per coin which is very inconvenient.
2. Also if maker doesn't follow the protocol (not sending payment after dexfee) this dexfee change output will be 100% spent for some other purpose.
3. Also there can be rare but still possible edge case when dexfee doesn't have change output at all when address has UTXO == dexfee.
4. It might be solved by reimplementing UTXO split, but I would like to avoid it. Splitting means additional miner fees. Sometimes it might be hard to predict the correct split amount (in case of miner fee depends on tx size). And, overall, it won't have any value for UX (and even make it worse) since MM2 works fine with single UTXO now. Also it will take some time to implement and add complexity to UTXO handling code.


[19-Dec-19 09:11 PM] jl777c#5810
there is no point to do this, i told alright how his analysis can be done with the current data 100% via blockchain data

{Reactions}
üëå 

[20-Dec-19 12:19 AM] k2cgroup#3498
AtomicDEX is compatible with monero?


[20-Dec-19 12:19 AM] Oszy#5734
no


[20-Dec-19 12:29 AM] webworker01#3884
I just made some updates to my mmtools repo with a new swap history summary and a few other things https://github.com/webworker01/mmtools

{Reactions}
üç∫ (3) 

[20-Dec-19 04:33 AM] Alright#0419
@artem.pikulin I appreciate the response, thanks. Did a bit of brainstorming with jl and came up with a feasible method, no worries

{Reactions}
ü§ù (2) KMD 

[22-Dec-19 01:12 PM] PengPuffPow#8948
What other features will come on the Atomic Dex Api? Something like an order history or the volume of the last 24 hours?


[22-Dec-19 03:13 PM] kremer#0658
i think Alright is working on a script that calculates volumes

{Reactions}
ü•≥ 

[22-Dec-19 03:13 PM] PengPuffPow#8948
Nice!


[22-Dec-19 03:14 PM] kremer#0658
i'm going to start working on a script that just graphs daily swaps to monitor mm2 usage

{Reactions}
rum 

[22-Dec-19 03:14 PM] kremer#0658
getting kmd chain right now..


[24-Dec-19 07:31 AM] jorian#4555
has anyone tested mm2 with native coin daemons? can't get RICK or MORTY to show balance after `enable`ing them. using electrum, i see balance just fine


[24-Dec-19 07:32 AM] jorian#4555
using macOS mojave and a mm2 version that i built today


[24-Dec-19 08:07 AM] phm87#7395
@jorian search this topic, I discussed it, 1 or 2 lines should be adapted in mm2


[24-Dec-19 08:07 AM] phm87#7395
Oh sorry I am confused, I was thinking about remote coin daemons


[24-Dec-19 08:14 AM] smkhound#7640
I have done, but not for a while


[24-Dec-19 08:15 AM] smkhound#7640
make sure using latest coins file. what json is returned when activating? are chains sync'd?


[24-Dec-19 08:18 AM] jorian#4555
Yes, synced. Might need to check coins file indeed, but it‚Äôs not that old


[24-Dec-19 11:13 PM] artem.pikulin#0794
@jorian You have to import your address with rescan to your native daemon first so it recognizes your utxos.  e.g. `komodo-cli -ac_name=RICK importaddress "myaddress" "testing" true` MM2 doesn't do it automatically since it might take unpredictable time. You may import without rescan for fresh generated address that doesn't have UTXOs.

{Reactions}
üëç 

[27-Dec-19 06:39 AM] Mische#6695
Hey guys, my swap with atomic dex api always fails (step 2 / 3 ) and mm2 tells me the sender is banned.
The error log:
 "event": {
          "data": {
            "error": "maker_swap:387] utxo:1132] JsonRpcError { request: JsonRpcRequest { jsonrpc: \"2.0\", id: \"32\", method: \"blockchain.transaction.get\", params: [String(\"e0ecc7338b7662ad721c06d00d0e99589f35670ab11473e1dfa9dec9748c9854\"), Bool(false)] }, error: Response(Object({\"code\": Number(2), \"message\": String(\"daemon error: DaemonError({\\'code\\': -5, \\'message\\': \\'No information available about transaction\\'})\")})) }"
          },
          "type": "TakerFeeValidateFailed"

Can someone explain this? I try to set an order with the atomic dex api and buy it from my mobile.


[27-Dec-19 06:40 AM] Mische#6695
It tells me :

27 14:40:20, common:937] RPC error response: lp_ordermatch:852] sender pubkey 028b2e2d4a963657a1ba52b0c22410edb96fb0bad188e561766a8732843cb5d531 is banned


[27-Dec-19 06:40 AM] Mische#6695
but I restared the API and didn't cancel any orders beforehand so I'm wondering right now

{Reactions}
KMD 

[27-Dec-19 07:40 AM] Tylor zkFS#8280
Duplicate pubkey from 2 different devices maybe??


[27-Dec-19 07:41 AM] Tylor zkFS#8280
Why attempt this trade?? For the fun of it??


[27-Dec-19 07:41 AM] Tylor zkFS#8280
@Mische


[27-Dec-19 07:42 AM] Mische#6695
I am trying to trade with @PengPuffPow


[27-Dec-19 07:42 AM] Mische#6695
we want to setup a automated trading bot for the atomic dex


[27-Dec-19 07:42 AM] Mische#6695
but we can't finish the swaps


[27-Dec-19 07:44 AM] cipi#4502
`No information available about transaction` ... looks like your daemon is not in sync... it can't find the `TakerFee`tx on the blockchain


[27-Dec-19 07:45 AM] PengPuffPow#8948
@cipi hi and how do we sync it?


[27-Dec-19 07:45 AM] Tylor zkFS#8280
Could be outdated daemon


[27-Dec-19 07:45 AM] Tylor zkFS#8280
Could be tons of things


[27-Dec-19 07:45 AM] Tylor zkFS#8280
Connections


[27-Dec-19 07:46 AM] cipi#4502
yes, indeed... could also be Taker not configured properly, tx is rejected and maker only sees `No information available about transaction`


[27-Dec-19 07:46 AM] cipi#4502
both logs (taker and maker) should be looked into


[27-Dec-19 07:47 AM] PengPuffPow#8948
we use rick and morty for this and just followed the atomic dex setup


[27-Dec-19 07:48 AM] PengPuffPow#8948
https://pastebin.com/QwxWkZrg

{Embed}
https://pastebin.com/QwxWkZrg
{    "result": {      "error_events": [        "StartFailed",     ...
https://images-ext-1.discordapp.net/external/lZwHlcJYEP_-CeL744a7RSWVnhrIifPJgiIcmKkDuJY/https/pastebin.com/i/facebook.png


[27-Dec-19 07:48 AM] PengPuffPow#8948
this is the result if we check the swap status


[27-Dec-19 07:48 AM] Tylor zkFS#8280
Its most likely a networking problem-- my best guess -- ports -- all guesses are wild ATM


[27-Dec-19 07:49 AM] PengPuffPow#8948
maybe a problem with linux subsystem for windows? üòÇ


[27-Dec-19 07:49 AM] Tylor zkFS#8280
Dude


[27-Dec-19 07:50 AM] Tylor zkFS#8280
Go to #Noob channel -

{Reactions}
üôÇ 

[27-Dec-19 07:51 AM] cipi#4502
that was the log from the maker, which only says he can't find the tx (takerfee) on the blockchain... it doesn't tell why... this info could be in the logs from the taker


[27-Dec-19 07:52 AM] PengPuffPow#8948
@cipi is there a log folder on android?


[27-Dec-19 07:53 AM] gcharang#6833
settings -> share log


[27-Dec-19 07:53 AM] cipi#4502
i don't know where the folder is


[27-Dec-19 07:54 AM] PengPuffPow#8948
@gcharang & @cipi thanks! üôÇ


[27-Dec-19 07:57 AM] PengPuffPow#8948
Got this:

2019-12-27 15:29:05.202465 api_providers:68 :api getTradeFee {"result":{"amount":"0.0001","coin":"RICK"}}

2019-12-27 15:29:05.205092 trade_page:275 :FormatException: Invalid double


[27-Dec-19 08:07 AM] PengPuffPow#8948
on Taker:

2019-12-27 16:35:12.913626 music_service:64 :pickMode] swap 02f8 status: Status.SWAP_ONGOING, MusicMode.ACTIVE

2019-12-27 16:35:14.820868 market_maker_service:292 :¬∑ 2019-12-27 16:35:14 +0100 [swap uuid=02f815cf-6578-422d-b7a2-c39268bd6f54] Finished

2019-12-27 16:41:34.390202 market_maker_service:292 :27 15:41:33, rpc_clients:1284] V4(195.201.83.86:10000) error Os { code: 103, kind: ConnectionAborted, message: "Software caused connection abort" }


[27-Dec-19 08:20 AM] PengPuffPow#8948
Okay... swap was succesful. Haven't changed anything üòÖ


[27-Dec-19 07:31 PM] artemciy_dice#0049
> i don't know where the folder is

@cipi , the log can be found at /data/data/com.komodoplatform.atomicdex/app_flutter, but in order to access it you'd usually need the debug version of the app, as it allows for `run-as`:

```
adb shell
run-as com.komodoplatform.atomicdex
cd /data/data/com.komodoplatform.atomicdex/app_flutter
ls -laF
```


[27-Dec-19 07:43 PM] artemciy_dice#0049
> and how do we sync it?

Usually when we start the native wallet it needs some time to synchronize the chain. What might have happened in this case is that perhaps the swaps were failing due to chain not being fully synchronized yet; the pubkey was (temporarily?) banned due to failed swaps; later both problems resolved.
(Would be cool for the peers to exchange the blockchain number during the order matching and detect this problem early - just a note to myself).

{Reactions}
üëç 

[28-Dec-19 08:29 AM] jorian#4555
```curl --url "http://127.0.0.1:7783" --data "{\"method\":\"version\",\"userpass\":\"$userpass\"}"
{"result":"UNKNOWN"}```


[28-Dec-19 08:30 AM] jorian#4555
what determines this result?


[28-Dec-19 09:40 AM] artemciy_dice#0049
@jorian, the version is obtained from the MM_VERSION file during the build. In general the build should be scripted and the script should be setting the MM_VERSION to the current commit.
```
git log --pretty=format:'%h' -n 1 > MM_VERSION
```


[28-Dec-19 04:20 PM] tolken#2655
Electrum servers for mm2 configuration. I see the two example scripts for KMDconnect and LTCconnect. Is there any guidance and/or list of electrum servers for other coins, BTC. Example how to connect to ETH, ERC-20 etc?


[28-Dec-19 08:47 PM] tolken#2655
Found the ETH config, skimmed docs too quick (Thanks CrisF) Just need to find electrum list now for other coins.


[28-Dec-19 09:20 PM] gcharang#6833
@tolken https://github.com/jl777/coins/tree/master/electrums

{Embed}
https://github.com/jl777/coins/tree/master/electrums
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[28-Dec-19 09:23 PM] gcharang#6833
<https://docs.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html#connecting-to-a-network-other-than-kmd-or-ltc>


[28-Dec-19 09:56 PM] tolken#2655
thanks gcharange, was just chatting with CrisF about this, this is perfect. Got BTC an DEX successfully configured with that info.

{Reactions}
üëå 

[28-Dec-19 11:22 PM] tolken#2655
MM1.0, I'd monitor the DB for the various states of completion to detect when a trade has completed. Each trade would produce its own UUID from what I remember. I haven't seen a successful trade on my mm2 host yet, so not sure what to expect, or the best way to monitor it. Any suggested techniques to monitor and detect completed swaps? Should I just frequently query using "my_recent_swaps", then use "my_swap_status" and watch "succes_events"?


[28-Dec-19 11:30 PM] smkhound#7640
thats one way. swap status is written to a json file under `DB/{pubkey}/MAKER` or `DB/{pubkey}/TAKER`


[28-Dec-19 11:30 PM] smkhound#7640
what language are you coding in?


[29-Dec-19 01:50 AM] artemciy_dice#0049
MM has log tags ( https://github.com/KomodoPlatform/atomicDEX-API/issues/116#issuecomment-420019109 ) and in AtomicDEX we're going to use them to get some of the status updates - *in order to avoid* the periodic polling of the MM API. I'll likely be touching that UI code next week.
(alternative is to implement http long polling for such updates in the MM API, but that will take more time as we already have log monitoring in place)

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/116
[v2] CMC paid API ¬∑ Issue #116 ¬∑ KomodoPlatform/atomicDEX-API
cipi quotes from CMC: &quot;The Public API will be taken offline on December 4th, 2018. Please migrate your application to the free tier of the Professional API.&quot; We might ask users to...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[29-Dec-19 10:08 AM] tolken#2655
@smkhound had a trade go through, mm2 as a maker, didn't get anything designated as Maker or Taker, just a couple files that have names that may be pub keys, but have no content. Out of familiarity, I'm coding with Python


[29-Dec-19 10:10 AM] tolken#2655
@artemciy_dice Thank you. I'll read that and see if I can derrive what I need from it. I don't have any experience parsing a running log, will have to figure out how to process a live/open log.


[29-Dec-19 11:04 AM] Oszy#5734
Those are swap id's not pubkeys


[29-Dec-19 04:46 PM] tolken#2655
@artemciy_dice I was just looking through the nohup.out to get a feel for what's spit out. I see "[swap uuid=<uuid>] Finished" This looks fairly straight  forward. I shouldn't expect to find any info in logs about the trade specifics, like price, amount etc - the idea is just to look that info up in the DB/SWAP (json) files?


[29-Dec-19 04:47 PM] tolken#2655
Is there anything in the json files that indicates the state (like if its finished?) I see a list of 'states' but not necessarily where its at. It seems like I'd have to look up the TX's to see if they went through or not.


[29-Dec-19 04:48 PM] artemciy_dice#0049
Specifics should be available through the API.


[29-Dec-19 04:51 PM] tolken#2655
Ahh right, or just query the API. Is there a difference between the SWAPS/MY vs SWAPS/STATS ? The data seems very close if not identical, although MY seems to list all attempted trades where stats seems to contain only finished ones. Not terribly important, just curious. I was thinking I shouldn't query the API too often from the remarks earlier, but maybe that's mainly an issue for my_recent_swaps, more so than swap_status?


[29-Dec-19 05:15 PM] tolken#2655
I'd imagine once I identify a state I'm looking for in the nohup.out log, I'll generally only need to query the swap_status once to get the amount/rel/coin info needed.


[29-Dec-19 08:12 PM] tolken#2655
Also, used setprice and used the volume to limit to 0.5, despite there being 5 total. After what may have been a failed trade, the max volume is showing as 0.4 something. Shouldn‚Äôt that 0.5 remain 0.5, or reset after each trade? Is not the idea to limit the max amount a single trade can trade, or is it an absolute session limit?


[29-Dec-19 08:17 PM] tolken#2655
If it were per trade, I‚Äôd imagine it would always be 0.5. This feels like it‚Äôs per session. Imagine one has 100btc available on bdex, but wants only a max of 10btc traded per order. If I set volume to 10, I get the impression that after 10btc are transacted nothing will be available for trading, despite there being 90btc left. I suppose one could just re-set it back to 10 manually with setprice if so desired.


[29-Dec-19 08:22 PM] tolken#2655
And also a mm1.0 request I had, would it be possible to add a minimum order size? Often times exchanges demand $10-20 minimum trades. It seems ideal that mm2 would allow the maker to define/customize this on a coin by coin basis and somehow echo back a clear error back to the taker why the trade wasn‚Äôt permitted.


[29-Dec-19 09:46 PM] artem.pikulin#0794
@tolken Hi, `Is there a difference between the SWAPS/MY vs SWAPS/STATS ?` - yes, there's a difference:
1. SWAPS/MY contains only swaps made by your node.
2. SWAPS/STATS contains statistical data of other nodes swaps too if your node is seednode.
`After what may have been a failed trade, the max volume is showing as 0.4 something. Shouldn‚Äôt that 0.5 remain 0.5, or reset after each trade?` - when order is partially matched the available order amount is decreased. It's considered as limit order which is supposed to trade no more than the volume set initially. If we allow MM2 to "refill" the order in case of successfull trade it will actually mean that your entire balance is available for specific order: 0.5 is partially filled with 0.1, your balance is 0.9. It partially fills again, your balance becomes 0.8 etc etc. In this case you just may set the `max:true` to make the entire balance available right away and save on miner fees because you have a chance to trade all your coins in 1 swap.
Other exchanges work similar way for limit orders, you may have 100 BTC deposit. When you set the limit 1BTC/1000KMD order it will use only 1 BTC reducing the order amount if it's partially filled.
And yes,when swap fails available amount should be increased back, but MM2 doesn't handle it as of now. It will be implemented later.


[29-Dec-19 09:48 PM] artem.pikulin#0794
`And also a mm1.0 request I had, would it be possible to add a minimum order size?` - yes, it's good request and there's the issue about it already: https://github.com/KomodoPlatform/atomicDEX-API/issues/473. Will be implemented.


[29-Dec-19 10:37 PM] tolken#2655
@artem.pikulin thanks so much for the thorough answers. Great to be back at this!


[29-Dec-19 10:38 PM] artem.pikulin#0794
@tolken You're welcome, it's nice to talk to you again üôÇ


[29-Dec-19 10:48 PM] tolken#2655
Same to you. I‚Äôm sorry I kinda went MIA just as all the nitty gritty took place with mm2 testing, just a lot of life happened this past year, not the good kind. But fortunately, things are settled down for now, so I plan to pickup where I left off with a lot more time on my hands, for a duration anyway. Looking forward to it!


[31-Dec-19 07:06 AM] Oszy#5734
@artem.pikulin / @artemciy_dice 
I had 3 failed OOT Swaps, and i can see the coins on the explorer being returned, but none of those tx'es want to confirm for days now (fee looks normal), which is weird because there are lots of blocks after they were sent back from the b address
https://explorer.utrum.io/address/RYKwUXd9mrJYM8QamczVcqASLW51iAFhMe

Looking at one of the b addresses, it's empty https://explorer.utrum.io/address/bTx87z6LKku9JAaLJPvvUZJAPkJvQ9YaSC

not sure what happened there but it happened 3 times in a row, let me know if this is worthy of a git issue and i'll open


[01-Jan-20 03:20 AM] artem.pikulin#0794
@Oszy Hi, it looks like a problem with OOT chain. I've seen similar with test assetchains (at least BEER). Sometimes if unconfirmed output is reused the entire transaction chain gets stuck unconfirmed for long time. The b address is empty because MM2 refunded the payment in this tx: https://explorer.utrum.io/tx/90c9d04f6209825e2d42973e894d976cae0936514fd44cedd37fefac2359a449 The protocol failed because payment was unconfirmed, so refund has been issued after locktime expiration.
@smkhound @TonyL 
Have you experienced similar with unconfirmed transactions? Is there a way to workaround it?


[01-Jan-20 03:53 AM] ComputerGenie#7004
a spend of a spend of an unconfirmed spend does tend to be an issue now and then


[01-Jan-20 03:57 AM] ComputerGenie#7004
```json
genie@NA_NN:~$ komodo-cli -ac_name=OOT getmempoolinfo
{
  "size": 0,
  "bytes": 0,
  "usage": 0
}
```
doesn't help either


[01-Jan-20 03:58 AM] ComputerGenie#7004
if 75 peers (including most miners) don't see the tx (or any of them) then they aren't going into a block


[01-Jan-20 03:58 AM] artem.pikulin#0794
This problem affects DEX UX badly. MM2 is designed to work with single UTXO without splits so it gets reused even unconfirmed to allow several concurrent swaps for the coin. If MM2 has to wait for confirmation every time it has to reuse the UTXO only 1 concurrent swap will be actually possible for a coin I think.


[01-Jan-20 03:59 AM] artem.pikulin#0794
And yes, the problem is that mempool is not synced, I've seen this with BEER too. I've tried to run the mining node to find a block including these stuck transactions, but it didn't sync the mempool with other nodes.


[01-Jan-20 04:00 AM] smkhound#7640
I've not seen it before.


[01-Jan-20 04:00 AM] artem.pikulin#0794
So actually the node that has these transactions in mempool should mine them, it won't work otherwise.


[01-Jan-20 04:01 AM] ComputerGenie#7004
or broadcast it to other miners/nodes


[01-Jan-20 04:01 AM] artem.pikulin#0794
Yes, this too.


[01-Jan-20 04:03 AM] artem.pikulin#0794
So as of now we should reimport these transactions to OOT mining node.


[01-Jan-20 04:04 AM] ComputerGenie#7004
no need to "import", just send it out to the network


[01-Jan-20 04:05 AM] ComputerGenie#7004
the more people that know about a tx is the more likely it is to be processed


[01-Jan-20 04:08 AM] artem.pikulin#0794
Hmm, `electrum2.utrum.io:10088` is not aware about these transactions. I'm going to rebroadcast them to it now.


[01-Jan-20 04:09 AM] ComputerGenie#7004
`electrum2.utrum.io:10088 is not aware about these transactions`
neither is the main block producer


[01-Jan-20 04:11 AM] artem.pikulin#0794
Done, let's see if this works out.

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/661904285189144576/unknown.png


[01-Jan-20 04:12 AM] ComputerGenie#7004
2 of the 3 are now in a block


[01-Jan-20 04:14 AM] artem.pikulin#0794
`90c9d04f6209825e2d42973e894d976cae0936514fd44cedd37fefac2359a449` has to be rebroadcasted too, done.

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/661905030596526091/unknown.png


[01-Jan-20 04:14 AM] artem.pikulin#0794
And confirmed.

{Reactions}
üëçüèΩ rum 

[01-Jan-20 04:15 AM] artem.pikulin#0794
@ComputerGenie Thanks for help üôÇ


[01-Jan-20 04:16 AM] ComputerGenie#7004
np


[01-Jan-20 04:18 AM] ComputerGenie#7004
not sure how to solve the underlying problem of it not being broadcast, but that is the issue: it either needs to be sent out to the network or mined by the tx creator


[01-Jan-20 04:23 AM] ComputerGenie#7004
the 1st option seems more feasible using electrum


[01-Jan-20 04:23 AM] jl777c#5810
connect to any NN, and sendrawtransaction


[01-Jan-20 04:23 AM] jl777c#5810
that should get a very good network coverage


[01-Jan-20 04:25 AM] artem.pikulin#0794
@Oszy I've rebroadcasted your transactions to OOT chain and they are now mined. Your address is usable again.


[01-Jan-20 04:26 AM] artem.pikulin#0794
Rebroadcasting is ok, but is it possible to avoid such situation by applying some fix to komodod? I've created the issue ref. this: https://github.com/jl777/komodo/issues/1790

{Embed}
https://github.com/jl777/komodo/issues/1790
Transactions are stuck in mempool if unconfirmed output is reused ...
Can you reliably reproduce the issue? If so, please list the steps to reproduce below: Send the transaction. Reuse it&#39;s unconfirmed output in another transaction. Expected behaviour All tra...
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[01-Jan-20 04:28 AM] ComputerGenie#7004
`but is it possible to avoid such situation by applying some fix to komodod`
I'm not sure there's anything *to* "fix", other than what jl wrote


[01-Jan-20 04:28 AM] jl777c#5810
mempool is not guaranteed to be consistent across all nodes


[01-Jan-20 04:31 AM] artem.pikulin#0794
Ok, but when transaction is in mempool for days, maybe there's a way to rebroadcast it to other peers automatically if possible?


[01-Jan-20 04:33 AM] jl777c#5810
yes, this would be possible, but would be too slow. i guess monitoring how long a tx is in the mempool and rebroadcasting if it is over 10 minutes, might be a good idea. but if the node is sparsely connected, it might not solve the problem


[01-Jan-20 04:34 AM] ComputerGenie#7004
whatever the electrum equivalent of
`komodo-cli -ac_name=${chain} sendrawtransaction $(komodo-cli -ac_name=${chain} getrawtransaction ${tx})`
is, I imagine


[01-Jan-20 04:38 AM] artem.pikulin#0794
`yes, this would be possible, but would be too slow. i guess monitoring how long a tx is in the mempool and rebroadcasting if it is over 10 minutes, might be a good idea. but if the node is sparsely connected, it might not solve the problem`
I see, maybe we should just wait and check how likely it will happen in the near future. If it happens rarely we can handle it manually, will not take much time for tech team. But if happens frequently we will need the workaround from komodod that will at least reduce the occurrence of such situation.


[01-Jan-20 04:38 AM] jl777c#5810
caretaker nodes can just make sure all tx that have been broadcast confirm, i responded to issue with the idea


[01-Jan-20 04:51 AM] Oszy#5734
thanks guys


[01-Jan-20 02:57 PM] phm87#7395
Do you have a documentation about how to redeem coins from a P2SH address? I read about scripts and P2SH addresses ( * ), I'm able to write some scripts that decode fine with decodescript rpc call but I'm still strugelling to redeem coins sent to the P2SH address. (I'm not talking about mm2 that works fine)
( * ) <https://zcash-rpc.github.io/signrawtransaction.html>
<https://medium.com/@bitaps.com/exploring-bitcoin-signing-p2sh-input-2dde869c5f5c>
<https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch04.asciidoc#p2sh>
<https://en.bitcoin.it/wiki/Script>


[01-Jan-20 03:00 PM] jl777c#5810
http://www.righto.com/2014/02/bitcoins-hard-way-using-raw-bitcoin.html

{Embed}
http://www.righto.com/2014/02/bitcoins-hard-way-using-raw-bitcoin.html
Bitcoins the hard way: Using the raw Bitcoin protocol
All the recent media attention on Bitcoin inspired me to learn how Bitcoin really works, right down to the bytes flowing through the netwo...
https://images-ext-1.discordapp.net/external/8QKovUx0P4pEiz-u8bhvSj_94Uq3No7kTd3zMTLxdMs/https/lh3.googleusercontent.com/proxy/ibS_PB8fJVTG__AiCwwwbIt-HiWoE0ZvS0bJikAamJo9ohWytKe-m7IgoeM7CC0bab_LBZVy1XL7CkPnAOf4FD9Z-zGanHERLzpvVGD7h_ZxjTI%3Dw1200-h630-p-k-no-nu


[01-Jan-20 03:01 PM] jl777c#5810
that should have all the details you need


[01-Jan-20 03:04 PM] phm87#7395
thank you


[01-Jan-20 03:07 PM] phm87#7395
I found other examples where they do a rawtx in hex with scriptSig (what I need to redeem from P2SH) but I'm still dreaming that I can use easy to use rpc calls and avoid to write the hex. I'll read details of the article you shared


[01-Jan-20 03:11 PM] phm87#7395
But maybe that only multisig have proper rpc calls and all other p2sh tx need to craft redeem tx in hex (I'm young, I'm still hoping that I can call signrawtransaction with the correct keys and redeem script and avoid to write that whole thing in hex)


[01-Jan-20 03:57 PM] phm87#7395
```You cannot use Bitcoin Core to create your transaction because it does not know what to do with non-standard inputs. There is no need to use signrawtransaction because you are not signing anything. In order to make your transaction spendable, you will need to do it manually by inserting the scriptSig that you figured out yourself.``` <https://bitcoin.stackexchange.com/questions/72706/bitcoin-tx-sign-redeem-p2sh-transaction-unable-to-sign-input-invalid-stack-siz> Now I understand why you pointed raw tx


[01-Jan-20 04:22 PM] phm87#7395
but it seems possible to use rpc and avoid hex on some simple p2sh scripts <https://bitcoin.stackexchange.com/questions/68235/funding-and-spending-a-no-multisig-no-segwit-p2sh-tx>


[01-Jan-20 08:57 PM] jl777c#5810
dont work so hard to avoid hex, embrace it. then much more will be possible


[02-Jan-20 05:37 AM] jorian#4555
does someone know how to use the `my_tx_history` call? i have MORTY enabled natively, with the address imported. balance shows correctly and i successfully did a RICK/MORTY trade. i issue the `my_tx_history` call to see the transactions done, but all the output says is: 
```{"current_block":223580,"from_id":null,"limit":10,"skipped":0,"sync_status":{"state":"NotEnabled"},"total":0,"transactions":[]}}```


[02-Jan-20 05:39 AM] cipi#4502
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md#arguments-5
you need to set `tx_history` to `true` in the coins file
never done that though, i don't know what implications it has

{Embed}
https://github.com/artemii235/developer-docs/blob/mm/docs/basic-docs/atomicdex/atomicdex-api.md
artemii235/developer-docs
Contribute to artemii235/developer-docs development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003


[02-Jan-20 06:09 AM] jorian#4555
oh, right, that rings a bell


[02-Jan-20 06:09 AM] jorian#4555
will try this


[03-Jan-20 10:08 PM] Mylo#8306
Having the same trouble as others in recent weeks with rust build.  no clippy or rustfmt-preview for the current nightly.


[03-Jan-20 10:20 PM] Mylo#8306
no biggie.  not urgent.


[04-Jan-20 01:17 PM] Oszy#5734
https://github.com/jl777/coins/blob/master/electrums/VRSC

{Embed}
https://github.com/jl777/coins/blob/master/electrums/VRSC
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[04-Jan-20 01:18 PM] Oszy#5734
I am hallucinating excuse me

{Reactions}
üòÅ 

[04-Jan-20 01:21 PM] Oszy#5734
@cipi electrum related?


[04-Jan-20 01:25 PM] phm87#7395
if there are no zexo electrum servers anymore, maybe you can use a local zexo node. I think that @jorian tried to run mm2 with a local node, I don't remember details but it should be possible


[04-Jan-20 01:29 PM] phm87#7395
I'm surprised, I though that all were down. You can create an order but maybe we should check orderbook before. No ZEXO order as I can see <https://oracle.earth/mm2_orderbook/>


[04-Jan-20 01:32 PM] phm87#7395
I don't know, I have no interest in zexo sorry but I have loads of commod to sell


[04-Jan-20 01:32 PM] phm87#7395
One day, I'll open a museum

{Reactions}
üòÅ 

[04-Jan-20 01:39 PM] cipi#4502
can you send me your IP, so i can look what the electrums are telling?


[04-Jan-20 01:39 PM] cipi#4502
and please use all 3 electrums, not just 2, so the load is spread


[04-Jan-20 01:44 PM] cipi#4502
have you set `tx_history` to `true`somewhere? (coins-file or electrum/enable-call)


[04-Jan-20 01:46 PM] cipi#4502
and yes, ZEXO electrums are still up


[04-Jan-20 02:03 PM] cipi#4502
i looked for the string `excessive resource usage` in the electrumx code and can't find it... so the error ddoes not come from the electrums... also not in the mm2 code... no idea where the error comes from


[04-Jan-20 02:05 PM] phm87#7395
sometimes I have to grep the whole disk to find if there is a hidden log (log of a firewall or something else)


[04-Jan-20 02:11 PM] cipi#4502
found it... `/usr/local/lib/python3.7/dist-packages/aiorpcx/session.py` a module the electrumx server is using


[04-Jan-20 02:14 PM] cipi#4502
hmmm... so nothing unusual... will look into this https://github.com/kyuupichan/aiorpcX stuff, maybe i can update it
i see there is a slightly newer version

{Embed}
https://github.com/kyuupichan/aiorpcX
kyuupichan/aiorpcX
Generic async RPC implementation, including JSON-RPC - kyuupichan/aiorpcX
https://images-ext-2.discordapp.net/external/hETGYKxaZ0P9Z2Hk7N5HPusb3s4DOcvrbI3g8o0tfKc/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/3319176


[04-Jan-20 02:19 PM] cipi#4502
the changelog does not look promising... i think i know though what the problem might be... aiorpc has problems with many connection-requests... i think the above "excessive resource usage" is actually from KMD electrums, not ZEXO


[04-Jan-20 05:18 PM] cipi#4502
@artem.pikulin how long does mm2 wait till it gives up validating a payment?
```
MAKER (AXE)
         "timestamp" : 1578185638362, 2020-01-05T00:53:58
         "event" : {
            "type" : "MakerPaymentSent"

TAKER
         "timestamp" : 1578185689482, 2020-01-05T00:54:49
               "error" : "taker_swap:675] !maker_coin.tx_details_by_hash: utxo:1614] JsonRpcError { request: JsonRpcRequest { jsonrpc: \"2.0\", id: \"8472\", method: \"blockchain.transaction.get\", params: [String(\"0fa0c8f3f75513995c42308542995ee2b677432e098b5021e737b2b0939f3a33\"), Bool(true)] }, error: Response(Object({\"code\": Number(2), \"message\": String(\"daemon error: DaemonError({\\'code\\': -5, \\'message\\': \\'No such mempool or blockchain transaction. Use gettransaction for wallet transactions.\\'})\")})) }"
            },
            "type" : "MakerPaymentValidateFailed"
```
looks like with AXE it takes longer then 50s for a tx to make it to the mempool of other nodes


[04-Jan-20 05:20 PM] cipi#4502
the tx actually exists and has been mined in the meantime with 5 confirmations: https://insight.axerunners.com/tx/0fa0c8f3f75513995c42308542995ee2b677432e098b5021e737b2b0939f3a33


[04-Jan-20 06:39 PM] cipi#4502
problem "solved": `addnode` the native wallet of the mm2-node to the wallet of the electrum servers... but it is still strange that it takes so long for the tx to propagate to the mempool without such tricks


[04-Jan-20 10:08 PM] artem.pikulin#0794
@cipi Hi, MM2 makes 3 attempts with 10 seconds interval for payment validation. If all 3 attempts fail it will abort the swap with `...PaymentValidateFailed`  error. 50 seconds is too long for tx mempool propagation, seems like it's specific coin issue. We can wait a bit longer too, but I'm unsure if it's worth to make such fix for single coin when it works nice for 99.9% of the others.


[05-Jan-20 01:48 AM] Slyris#2880
hello @artem.pikulin


[05-Jan-20 01:48 AM] Slyris#2880
I got some trouble with `recent_swaps` rpc documentation


[05-Jan-20 01:50 AM] Slyris#2880
i'm trying to know what i have to parse in case of StartedFailed, NegotiateFailed etc

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/663318368022953994/Capture_decran_2020-01-05_a_10.49.15.png


[05-Jan-20 01:50 AM] Slyris#2880
This is not specified in the doc the data format of those error type


[05-Jan-20 01:50 AM] Slyris#2880
And i don't know how to make a swap failed intentionally


[05-Jan-20 01:50 AM] Slyris#2880
If you can drive me i will appreciate the effort :p


[05-Jan-20 01:51 AM] Slyris#2880
The documentation cover all the Success Events, none of Error Events


[05-Jan-20 01:51 AM] Slyris#2880
I have no idea of the format to parse etc and i need in the UI to handle error case i guess


[05-Jan-20 01:53 AM] Slyris#2880
Basically i have an `std::variant` that can take all the Event possible, success or error.


[05-Jan-20 01:53 AM] Slyris#2880
With an hash map that have as key the `event_type` and as value the concrete type of the current event in the array of `swaps`


[05-Jan-20 01:53 AM] Oszy#5734
if i remember correctly then a swap is failed if there is any error event present in the json, if it's successful there is none


[05-Jan-20 01:53 AM] Slyris#2880
Yeah that's what i'm saying @Oszy


[05-Jan-20 01:54 AM] Slyris#2880
But the official Komodo Documentation doesn't show the contents in case of error


[05-Jan-20 01:54 AM] Slyris#2880
How i'm supposed to parse something that it's not documented ? How can i force a swap to failed myself for every error case ?


[05-Jan-20 01:54 AM] Slyris#2880
I tried alone since 2 hours, no success.


[05-Jan-20 01:55 AM] Oszy#5734
Uhm let me check but I think they are like Maker/Taker Payment Validate/Spend Failed


[05-Jan-20 01:55 AM] Slyris#2880
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#my-recent-swaps

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[05-Jan-20 01:56 AM] Slyris#2880
I speak about this one.


[05-Jan-20 01:58 AM] artem.pikulin#0794 (pinned)
@Slyris Hi, all error events have same structure, e.g.: https://gist.github.com/artemii235/66004ce8ec3ad4f87b5485c1972ed575#file-makerpaymenttransactionfailed-L73
```
    {
      "event": {
        "data": {
          "error": "lp_swap:1888] eth:654] RPC error: Error { code: ServerError(-32010), message: \"Transaction with the same hash was already imported.\", data: None }"
        },
        "type": "MakerPaymentTransactionFailed"
      },
      "timestamp": 1563744118577
    },
```

{Embed}
https://gist.github.com/artemii235/66004ce8ec3ad4f87b5485c1972ed575
MakerPaymentTransactionFailed
MakerPaymentTransactionFailed. GitHub Gist: instantly share code, notes, and snippets.
https://images-ext-1.discordapp.net/external/v2ToTBFZ7zHPk2sQlBt80EaH2hhwBfD3Zdf1J_uxMxs/https/github.githubassets.com/images/modules/gists/gist-og-image.png


[05-Jan-20 01:58 AM] Slyris#2880
Thank's artem it's what i was looking for.


[05-Jan-20 01:58 AM] Slyris#2880
:p


[05-Jan-20 01:59 AM] Slyris#2880
so timestamp + data object and error field


[05-Jan-20 01:59 AM] Slyris#2880
alright ?


[05-Jan-20 01:59 AM] artem.pikulin#0794
So for `StartFailed` you will see something like this:
```
    {
      "event": {
        "data": {
          "error": "..."
        },
        "type": "StartFailed"
      },
      "timestamp": 1563744118577
    },
```
Etc


[05-Jan-20 01:59 AM] artem.pikulin#0794
```
so timestamp + data object and error field
alright ?
```
Yes, exactly


[05-Jan-20 01:59 AM] Slyris#2880
Ok it's exactly what i'm looking for thanks.


[05-Jan-20 01:59 AM] Slyris#2880
Can we have this in the official doc too ?


[05-Jan-20 01:59 AM] Slyris#2880
Can be usefull for others


[05-Jan-20 01:59 AM] Slyris#2880
or pin the message ?


[05-Jan-20 02:00 AM] Oszy#5734
Pinned a message.


[05-Jan-20 02:01 AM] artem.pikulin#0794
Sure, I'm actualizing the doc right now, will add a couple of error cases to the `my_swap_status` and `my_recent_swaps` response examples.


[05-Jan-20 02:04 AM] Slyris#2880
great thanks


[05-Jan-20 02:08 AM] Slyris#2880
i'm supposing that the goal of the different data object content is to be implemented as a variant no @artem.pikulin ?


[05-Jan-20 02:08 AM] Slyris#2880
How you deal with this kind of structure in rust ?


[05-Jan-20 02:08 AM] Slyris#2880
How you have a collection of different Object Type such as my_recent_swaps give you


[05-Jan-20 02:16 AM] artem.pikulin#0794
Events enum definitions are here:
Maker swap - https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs#L778
Taker swap - https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/taker_swap.rs#L283
It's adjacently tagged enum representation built in `serde` crate (https://serde.rs/enum-representations.html).
The `type` field is used as tag identifying the content type, `data` field is actual content.

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/taker_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[05-Jan-20 02:18 AM] artem.pikulin#0794
As you can see all error events use `SwapError` type as variant data, the struct itself is defined here: https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap.rs#L439

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[05-Jan-20 02:18 AM] Slyris#2880
Nice i cannot have the same approach in C++


[05-Jan-20 02:18 AM] Slyris#2880
that's why i used variant


[05-Jan-20 02:19 AM] Slyris#2880
Look like:

```cpp
using t_event_registry = std::unordered_map<std::string, std::variant<finished_event, started_event>>;
t_event_registry         events;
```


[05-Jan-20 02:19 AM] Slyris#2880
(need to add more events)


[05-Jan-20 11:36 PM] smkhound#7640
@Patrick Crypto I've updated my local mm2 binary and coins file using pytomicDEX, and not faced any problems. Never got a DM from you to explain what issue you had, so not sure what the problem you had was. If you are still having a problem, please post it to https://github.com/smk762/pytomicDEX/issues

{Embed}
https://github.com/smk762/pytomicDEX/issues
smk762/pytomicDEX
Contribute to smk762/pytomicDEX development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6xcX3Z50JaMIMuZ9mAXOpQv_L8FfDr-TLGFP0GMRbbU/%3Fs%3D400%26v%3D4/https/avatars3.githubusercontent.com/u/35845239


[06-Jan-20 01:26 AM] smkhound#7640
heh, didnt realise it was mandatroy, I've always had them in...  should work with an empty value tho. lemme check


[06-Jan-20 01:26 AM] smkhound#7640
cant bot trade without it tho


[06-Jan-20 01:29 AM] smkhound#7640
yeah, seems to work with blank values, tho error handling could be better.


[06-Jan-20 05:41 AM] smkhound#7640
it'll query binance for prices, no api keys required. You can see it passes that step, then gets prices from coingecko without issue.


[06-Jan-20 05:58 AM] smkhound#7640
I've added an error print in the build_coins_data() function. Git pull and let me know if it displays more info.


[06-Jan-20 07:43 AM] smkhound#7640
cool, so working otherwise? I'll try and make that a silent fail. Do you have KMD activated?


[06-Jan-20 09:59 AM] cipi#4502
@artem.pikulin yes, no need to change anything because of AXE
i have another thing... saw couple of swaps failing because the MakerPayment sent by the Maker can't be seen by the Taker
eg, `3cada8bf-95ba-4acd-ba7a-735d3e0845a1`
```
MAKER
         "event" : {
            "data" : {
               "tx_hash" : "1621e7f7c60d15b12bad6037410f147d5e7a510e624d0990bb2f6abef8ba530b",
               "coin" : "KMD"
            },
            "type" : "MakerPaymentSent"
         },
         "timestamp" : 1578308266486
```
but taker errors with `MakerPaymentValidateFailed`
`taker_swap:718] !wait for maker payment confirmations: rpc_clients:107] Waited too long until 1578310692 for transaction Transaction to be confirmed 2 times`
1578310692 is `01/06/2020 @ 11:38am (UTC)`
but https://kmdexplorer.io/tx/1621e7f7c60d15b12bad6037410f147d5e7a510e624d0990bb2f6abef8ba530b tells me `mined Jan 6, 2020 10:58:49 AM`


[06-Jan-20 10:02 AM] cipi#4502
don't know what the problem is, but i have seen this often in the last days...
sometimes this swaps are working, but it takes very long
```
06 17:15:23, maker_swap:461] Maker payment tx 4b9bae8c93206972fa619a871904323afab1da9a6413c8cbab2d1efbc959076e
06 17:15:23, maker_swap:483] Sending 'maker-payment@872230bd-d86c-4fa9-aa4f-026a993e9e47' (686 bytes, crc 2973208954)
...
| (38:47) [swap uuid=872230bd-d86c-4fa9-aa4f-026a993e9e47] Maker payment sent...
06 17:52:36, maker_swap:492] Received 'taker-payment@872230bd-d86c-4fa9-aa4f-026a993e9e47' (244 bytes, crc 2926632879)
06 17:52:36, maker_swap:509] Taker payment tx e8e0aa380dd6a1fea0f777414f9079a4c1145ac279c738e854643567300f024c
+--- 06 17:52:36 -------
| (39:06) [swap uuid=872230bd-d86c-4fa9-aa4f-026a993e9e47] Taker payment wait confirm started...
| (0:00/4:12) [ETH] Waiting for confirmations‚Ä¶
¬∑ 2020-01-06 17:52:36 +0000 [ETH] Waiting for confirmations‚Ä¶ Confirmed.
06 17:52:37, eth:2234] Max nonce 182 != 181 min nonce
¬∑ 2020-01-06 17:52:38 +0000 [sign-and-send] get_addr_nonce‚Ä¶
06 17:52:38, maker_swap:588] Taker payment spend tx b95810af9d7b3368b181bc4e94b25a4e70881d684b3b89eab4325b8c36a8db2b
¬∑ 2020-01-06 17:52:38 +0000 [swap uuid=872230bd-d86c-4fa9-aa4f-026a993e9e47] Finished
```
so it took the taker 39 minutes to see the KMD MakerPayment... and then the swap finished in 10s


[06-Jan-20 10:05 AM] cipi#4502
i also looked on the KMD electrums and they know about the MakerPayment-tx long before Taker knows about it... very strange


[06-Jan-20 10:15 AM] cipi#4502
https://kmdexplorer.io/tx/4b9bae8c93206972fa619a871904323afab1da9a6413c8cbab2d1efbc959076e was `mined Jan 6, 2020 5:20:52 PM` and it took the taker till 17:52:36 to see the tx...


[06-Jan-20 10:26 AM] cipi#4502
is the time the Taker "waits" for MakerPayment dependent on the used TakerCoin? MakerCoin was in both cases KMD, one swap made it after 32 minutes, the other failed after 39 minutes


[06-Jan-20 10:46 AM] artem.pikulin#0794
@cipi The `required_confirmations` is 2 for KMD which means that notarization is required. MM2 uses standard 2/4 hours locktimes for KMD swap tx. And also it doesn't wait for full locktime to expire while checking confirmations, it uses 1/3 of the locktime which is ~40 minutes in this case: https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs#L534
So when KMD notarization takes over ~40 minutes the swap will be aborted.
It's also true for all asset chains using `required_confirmations: 2`.

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/lp_swap/maker_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[06-Jan-20 10:52 AM] jl777c#5810
can you wait for 2/3 of locktime?


[06-Jan-20 10:57 AM] cipi#4502
ok, i forgot that KMD waits for 2 confs (nota)... the setting is not in the coins file https://github.com/jl777/coins/blob/master/coins#L13 for KMD, so my nodes are still using only 1 confirmation for KMD
but i fear that when i change my settings to 2 too, more swaps will fail

{Embed}
https://github.com/jl777/coins/blob/master/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[06-Jan-20 10:59 AM] jl777c#5810
i think some notarizations could have 40 minute gaps, but very few would be 80 minute gaps


[06-Jan-20 10:59 AM] jl777c#5810
or maybe the logic can be that if there is one confirmation to wait a bit longer? the other side has done their part and it is now waiting for the blockchain


[06-Jan-20 12:17 PM] artem.pikulin#0794
@jl777c  `can you wait for 2/3 of locktime?` yes, it's 1 line backwards compatible change. However we might still have to increase the locktime especially when 2 notarized coins are swapped. E.g. if on DEX/KMD swap DEX payment (4h locktime) takes 80 minutes for notarization and then KMD payment (2h locktime) takes 80 minutes for notarization the KMD payment will be refundable right away. So it should be 40/20 hours (same as BTC) or bit lower as we have a request to decrease BTC payments locktime.


[06-Jan-20 12:20 PM] jl777c#5810
not sure why there is a need to boost the locktimes 10x for KMD. if it is made to be 2/3rds, it should solve this issue


[06-Jan-20 12:29 PM] artem.pikulin#0794
If there's 80 minutes gap for case when 2 notarized coins are swapped total confirmation times of 2 payments will be 160 minutes which is more than 120 minutes taker payment locktime so it is already refundable at this time and swap doesn't make sense. Notarization means that we actually wait for BTC block confirmation, right? Then we should use same locktime as we use for BTC (which is 10x now).


[06-Jan-20 12:36 PM] artem.pikulin#0794
If only 1 coin is slow the `2/3` will do the trick, but if both are slow then standard locktimes might be not sufficient.


[06-Jan-20 01:13 PM] TonyL#3577
`don't know what the problem is, but i have seen this often in the last days...` in one of the latest AtomicDEX mobile GUI updates for users funds safety reasons `required_confirmations: 2` param was added for KMD and all Komodo ecosystem ACs, I think it should be related


[06-Jan-20 01:31 PM] cipi#4502
yes, i forgot about the 2 confs required for KMD too... and maybe the problem is not that big, it is just that i now look more often into the details of failed swaps since i set up the DB with the errors
so i would not increase timeout on KMD/ACs too much


[06-Jan-20 01:44 PM] cipi#4502
```
+---------------------+------------+------------+----------------------------+
| started_at          | taker_coin | maker_coin | taker_error_type           |
+---------------------+------------+------------+----------------------------+
| 2020-01-06 05:32:31 | LTC        | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 06:03:20 | TUSD       | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 08:10:43 | LTC        | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 10:54:52 | LTC        | KMD        | MakerPaymentValidateFailed |
| 2020-01-06 16:37:59 | KMD        | DEX        | MakerPaymentValidateFailed |
+---------------------+------------+------------+----------------------------+
```
swaps with this type of error in the last 24h... there were 2 or 3 others with `MakerPaymentValidateFailed`, but not this kind


[06-Jan-20 01:48 PM] cipi#4502
if all our theories are correct, then it means that notarization on KMD chain was delayed more than 40 min. at least 4 times in the last 24h... can that be?


[06-Jan-20 02:08 PM] cipi#4502
i will setup a check in nagios and let it draw a simple chart `seconds since last notarization` with data taken from https://komodostats.com/api/notary/coin.json?coinName=KMD ... then  we will see
i assume there is no such chart atm...


[06-Jan-20 02:22 PM] Alright#0419
do we have any documentation on the script of mm2 txes


[06-Jan-20 02:23 PM] Alright#0419
code where it's made would suffice as well


[06-Jan-20 02:29 PM] Alright#0419
https://github.com/KomodoPlatform/atomicDEX-API/blob/401425c5858c90b0381277131b872c481a37e79b/mm2src/lp_swap.rs#L22 nice

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/401425c5858c90b0381277131b872c481a37e79b/mm2src/lp_swap.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[06-Jan-20 09:50 PM] jl777c#5810
DO NOT CHANGE KMD LOCKTIME TO BTC LOCKTIME


[06-Jan-20 09:51 PM] jl777c#5810
maybe the first tx can be timedout at 2/3rd and the second at 9/10 ?


[06-Jan-20 09:51 PM] jl777c#5810
as long as there is a gap between them to avoid a race condition, i think that is sufficient


[06-Jan-20 09:51 PM] jl777c#5810
they dont have to be symmetric in time


[06-Jan-20 09:52 PM] jl777c#5810
so at 90 minutes and 110 minutes


[07-Jan-20 08:59 AM] cipi#4502
removed my previous post...
watched a swap live and the problem is/can be indeed the notas... not because the gap between 2 notas is more than 40 min, that is not the case, but because it can still take 40 min for the block (where the KMD transaction is included) to be notarized... 2 gaps of 20 min in a row is enough, or 20+10+bad luck (regarding the timing)
so i think that a small increase will be enough to solve the problem


[07-Jan-20 09:02 AM] cipi#4502
time between KMD notas in seconds, checked every 5 minutes... the yellow line (never passed) would be 20 min.

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/664152001063550996/image.png


[07-Jan-20 11:11 AM] artem.pikulin#0794
@jl777c `maybe the first tx can be timedout at 2/3rd and the second at 9/10 ?` - the sum of the maximum wait times should be lower than payment locktime. E.g. if we use 2/3 and 9/10 with 2 hours locktime the maximum waiting time will be 4/3 + 9/5 > 2. Which means that payment will become refundable during confirmation waiting which doesn't make sense actually: taker will refund the payment while maker would be still waiting for it to be confirmed.
So when slow confirmation coins are swapped we have to increase the payment locktime accordingly. The KMD becomes as slow as BTC when we require notarization.
And that's what I meant initially. Please read carefully before starting to CAPS something, this looks offensive and non constructive.


[07-Jan-20 12:45 PM] cipi#4502
can't we just try it with 2/5 instead of 1/3 and without changing locktimes?


[07-Jan-20 10:08 PM] artem.pikulin#0794
@cipi Yes, and as JL said 1 side can actually wait longer. Also I've realised that summing up the wait times is wrong, the sum doesn't have to be > locktime since waiting actually happens concurrently. But we need to leave some time space for payment spend to be confirmed. So taker can wait for 2/5, maker will wait for 4/5 and even taker payment gets confirmed very close to this 4/5 there's still 1/5 left for payment spend to be confirmed which is fine. It might be not enough for payment spend notarization, but it will still have quite many `raw_confirmations` prior to locktime expiration.


[13-Jan-20 09:54 AM] Alright#0419
```
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"my_balance\",\"coin\":\"MORTY\"}"
{"address":"RDLhQkbp9rmwcba8UgPpeZNDfyJxLhgXuV","balance":"0.000000000000000","coin":"MORTY","locked_by_swaps":"0"}
```
Getting this after using enable rpc, local MORTY node is running and in sync


[13-Jan-20 09:54 AM] Alright#0419
works fine with SPV servers, any idea what I'm doing wrong here?


[13-Jan-20 09:57 AM] gcharang#6833
did you import the privkey @Alright ?


[13-Jan-20 09:57 AM] Alright#0419
have not, thanks that must be it


[13-Jan-20 09:57 AM] Alright#0419
assumed i didn't have to


[13-Jan-20 09:58 AM] gcharang#6833
yeah, it is a difference from mm1
recently docs have been updated to include that detail


[13-Jan-20 10:01 AM] gcharang#6833
@jorian 
is just "importaddress" enough ?
I thought importprivkey was necessary
https://github.com/KomodoPlatform/developer-docs/commit/51252e99b8d7b73d4e3f343805bb2024724bc628

{Embed}
https://github.com/KomodoPlatform/developer-docs/commit/51252e99b8d7b73d4e3f343805bb2024724bc628
update enable method: manual importaddress ¬∑ KomodoPlatform/devel...
Per the discord question here: https://discordapp.com/channels/412898016371015680/449950331577565194/659292649437528114

In contrast with mm1.0, mm2.0 does not automatically import the address in...
https://images-ext-2.discordapp.net/external/kcpBdki4VqrCXNTscoxBR1steeSIZ-crnorDQx7Wkm0/%3Fs%3D200%26v%3D4/https/avatars3.githubusercontent.com/u/10341677


[13-Jan-20 10:01 AM] jorian#4555
yes it works when doing importaddress

{Reactions}
üëç 

[13-Jan-20 10:02 AM] jorian#4555
importprivkey is not necessary


[13-Jan-20 10:02 AM] gcharang#6833
@Alright ^

{Reactions}
üëç 

[23-Jan-20 05:16 AM] artem.pikulin#0794
@ca333 @artemciy_dice @TonyL @smkhound @jorian @Slyris  Hi! New events were added to both Maker and Taker swap statuses: `MakerPaymentWaitConfirmFailed` and `TakerPaymentWaitConfirmFailed`.  Please note it when you update MM2 in case you explicitly rely on event type to detect the swap success state. These events are considered as error: https://github.com/KomodoPlatform/developer-docs/pull/148/files#diff-6ab44e5ca9208fafccf3568523c09b2eR1370 and result into swap being aborted and go to refund stage.
@cipi Please update the seednodes, old seednode will fail to parse the swap status from other node if it contains new event types, but it's ok for updated seednode to receive old swap status.
These new events also doesn't trigger other node ban, so one of false positive ban condition is fixed now.

{Embed}
https://github.com/KomodoPlatform/developer-docs/pull/148/files
Mention new error events in my_swap_status and my_recent_swaps. by...
https://images-ext-1.discordapp.net/external/6tle8mq-vBNKZMUSJgicxTqb0XV_6r5olkUss4Ckk7U/%3Fs%3D400%26v%3D4/https/avatars1.githubusercontent.com/u/15745003

{Reactions}
rum (6) üìù üëç üëÅÔ∏è 

[23-Jan-20 05:16 AM] Slyris#2880
@artem.pikulin Thank's for the ping !

{Reactions}
ü§ù 

[23-Jan-20 05:27 AM] Oszy#5734
great addition


[23-Jan-20 06:26 AM] cipi#4502
updated all my nodes, seeds and LPs

{Reactions}
üëç (2) 

[04-Feb-20 02:41 AM] artem.pikulin#0794
@TonyL @smkhound @jorian @Slyris Hi! New maker swap `MakerPaymentWaitRefundStarted` and taker swap `TakerPaymentWaitRefundStarted` events were added to swaps status. These events indicate that swap entered refund stage, they also contain the timestamp when refund is about to happen.
I've also documented all events, here is PR: https://github.com/KomodoPlatform/developer-docs/pull/152/files, new changes will be uploaded on docs website once the spelling and grammar is reviewed.
@cipi Seednodes update is required to parse the swap status from other nodes. Please update them when you have time.

{Embed}
https://github.com/KomodoPlatform/developer-docs/pull/152/files,
Document all swap events. by artemii235 ¬∑ Pull Request #152 ¬∑ Ko...
KomodoPlatform/atomicDEX-API#582
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Reactions}
rum üëå üëç (4) 

[04-Feb-20 05:39 AM] cipi#4502
all nodes updated

{Reactions}
üî• KMD 

[13-Feb-20 01:56 AM] Oszy#5734
https://github.com/KomodoPlatform/atomicDEX-API/releases/tag/2.0.1638

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/releases/tag/2.0.1638
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[19-Feb-20 04:43 AM] artem.pikulin#0794
@ca333 @Slyris @artemciy_dice @cipi @hyperDEX @TonyL @jorian @smkhound 
Hi! Starting from now every mm2 branch update will trigger Github pre-release creation. The attached assets will contain both debug and release builds. Debug symbols of Linux and MacOS release build binaries are uploaded separately. Windows binaries are relatively small in comparison with Linux/MacOS so debug symbols are included into them.
Please consider Github releases page (https://github.com/KomodoPlatform/atomicDEX-API/releases) as latest source of up to date prebuilt binaries. Nightly http://195.201.0.6/ is still used, but for non-release (!= mm2) branches only.

{Reactions}
üëç (7) üíØ (6) 

[19-Feb-20 04:44 AM] Slyris#2880
I will immediately update. Thanks.


[19-Feb-20 04:44 AM] Slyris#2880
I was looking for that


[19-Feb-20 02:54 PM] Mylo#8306
Great! Thanks Artem! This is handy timing for me. I started again on some atomicDEX stuff from last October only yesterday!

{Reactions}
üëç 

[20-Feb-20 12:17 PM] Oszy#5734
@artem.pikulin the previous releases are deleted on purpose?


[20-Feb-20 09:36 PM] Mylo#8306
where is the current list of electrum servers for mm2 enabled coins located?


[20-Feb-20 09:36 PM] Mylo#8306
there's no mention in the documentation.


[20-Feb-20 10:22 PM] artem.pikulin#0794
@Oszy Previous releases were created during my CI experiments  with `playing-with-ci` branch, so they could miss binaries for some platforms, debug symbols, etc. They should not be used so I deleted them.


[20-Feb-20 10:47 PM] jorian#4555
@Mylo you mean this? <https://github.com/jl777/coins/tree/master/electrums>


[21-Feb-20 01:59 AM] Mylo#8306
@jorian thanks champ!  that looks pretty official üòÑ


[21-Feb-20 02:02 AM] jorian#4555
üëç


[21-Feb-20 08:42 AM] Patrick Crypto#1546
I had about 100 successful swaps, but now everything fails for some reason


[21-Feb-20 08:42 AM] Patrick Crypto#1546
Mainly takerfeevalidatefailed


[21-Feb-20 08:43 AM] Patrick Crypto#1546
I am the maker


[21-Feb-20 10:56 AM] Oszy#5734
everything or just vrsc swaps?


[21-Feb-20 11:03 AM] CHMEX#0686
the last successful swap  I have recorded is about 10 hours ago


[21-Feb-20 11:23 AM] Oszy#5734
hmmm this is weird


[21-Feb-20 11:23 AM] Oszy#5734
me too


[21-Feb-20 01:50 PM] Patrick Crypto#1546
Mostly VRSC/KMD but some other non-verus pairs too


[21-Feb-20 03:18 PM] cipi#4502
https://dexapi.cipig.net/public/error.php?uuid=721fb908-c23a-40aa-8b33-f8ec1e0adc22
shows the error for the specified swap-uuid, if the seed nodes already have the info (swap is finished)


[21-Feb-20 05:14 PM] allbits#5898
Same appears to have happened to my maker node - DEX/KMD


[24-Feb-20 01:27 AM] artem.pikulin#0794
@Patrick Crypto @allbits Hi, please provide several uuids of failed swaps for investigation (you may DM me if you'd like to keep this info private).


[24-Feb-20 08:48 PM] ph03nix#3115
trying to start pytomicdex, getting error...


[24-Feb-20 08:48 PM] ph03nix#3115
```Traceback (most recent call last):
  File "./mm2_tui.py", line 9, in <module>
    from lib import rpclib, tuilib, coinslib, binance_api
  File "/home/user/pytomicDEX/lib/rpclib.py", line 9, in <module>
    from . import coinslib, tuilib, binance_api
  File "/home/user/pytomicDEX/lib/tuilib.py", line 12, in <module>
    import bitcoin
ModuleNotFoundError: No module named 'bitcoin'```


[24-Feb-20 10:05 PM] gcharang#6833
@smkhound should know exactly
but, it looks like a denpendency is missing
```
pip3 install requests python-bitcoinlib
```


[24-Feb-20 10:05 PM] gcharang#6833
@ph03nix ^

{Reactions}
üíØ 

[24-Feb-20 10:06 PM] ph03nix#3115
that was it, thank you very much

{Reactions}
üëç (2) 

[25-Feb-20 02:01 PM] ph03nix#3115
when vrsc is enabled in electrum, mm2 output log is going crazy with errors


[25-Feb-20 02:02 PM] ph03nix#3115
```¬∑ 2020-02-25 12:00:05 -0500 [tx_history VRSC] utxo:1528] Error "utxo:1578] JsonRpcError { request: JsonRpcRequest { jsonrpc: \"2.0\", id: \"1675\", method: \"blockchain.transaction.get\", params: [String(\"0000000000000000000000000000000000000000000000000000000000000000\"), Bool(false)] }, error: Response(Object({\"code\": Number(2), \"message\": String(\"daemon error: DaemonError({\\\'code\\\': -5, \\\'message\\\': \\\'No information available about transaction\\\'})\")})) }" on getting the details of 0d95a7b11802621a65f9e7ca9da0bca6ee4956fd2328e5116a777285179dbd08, skipping the tx```


[25-Feb-20 03:11 PM] Oszy#5734
and crazy long hex-es in the log too


[25-Feb-20 03:12 PM] cipi#4502
0d95a7b11802621a65f9e7ca9da0bca6ee4956fd2328e5116a777285179dbd08 is a coinbase tx... that will likely cause problems: https://github.com/kyuupichan/electrumx/issues/818
don't mine to your AtomicDEX-address... or use native, not electrum

{Embed}
https://github.com/kyuupichan/electrumx/issues/818
0 balance if address has only coinbase txs ¬∑ Issue #818 ¬∑ kyuupicha...
This address has only coinbase transactions: https://rick.kmd.dev/address/RJ3mSc1ovM3mXAa32o7ejyztqBhu8NKizr (echo &#39;{ &quot;id&quot;: 1, &quot;method&quot;: &quot;blockc...
https://images-ext-2.discordapp.net/external/hETGYKxaZ0P9Z2Hk7N5HPusb3s4DOcvrbI3g8o0tfKc/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/3319176


[25-Feb-20 03:17 PM] ph03nix#3115
0d95a7b11802621a65f9e7ca9da0bca6ee4956fd2328e5116a777285179dbd08 was just one example of the flood of messages i'm getting


[25-Feb-20 03:17 PM] ph03nix#3115
and i'm not mining


[25-Feb-20 03:18 PM] cipi#4502
strange that mm2 tries to lookup that tx...


[25-Feb-20 03:20 PM] ph03nix#3115
there were issues with vrsc electrum recently, i wonder if it has not fully been corrected


[25-Feb-20 03:20 PM] cipi#4502
i don't know, but i can connect to all 3
```
(echo '{ "id": 1, "method": "server.version", "params": ["barterDEX", ["1.4", "2.0"]] }'; sleep 0.5) | ncat el0.veruscoin.io 17485
(echo '{ "id": 1, "method": "server.version", "params": ["barterDEX", ["1.4", "2.0"]] }'; sleep 0.5) | ncat el1.veruscoin.io 17485
(echo '{ "id": 1, "method": "server.version", "params": ["barterDEX", ["1.4", "2.0"]] }'; sleep 0.5) | ncat el2.veruscoin.io 17485
```


[25-Feb-20 03:21 PM] ph03nix#3115
i can connect also, but it's spewing those errors


[25-Feb-20 03:23 PM] cipi#4502
eg, `method: \"blockchain.transaction.get\", params: [String(\"0000000000000000000000000000000000000000000000000000000000000000\")` can't work
there is no tx with txid 00000... i don't know why mm2 tries to do that... the only explanation is that it tries to lookup the vins of the above coinbase tx...


[25-Feb-20 03:24 PM] cipi#4502
i assume that all coinbase txes associated with your AtomicDEX address will show this errors


[25-Feb-20 03:26 PM] cipi#4502
`(echo '{ "id": 1, "method": "blockchain.transaction.get", "params": ["0d95a7b11802621a65f9e7ca9da0bca6ee4956fd2328e5116a777285179dbd08",true] }'; sleep 0.5) | ncat el2.veruscoin.io 17485 | json_pp`
works with all 3 electrums though... so the output
`No information available about transaction\\\'})\")})) }" on getting the details of 0d95a7b11802621a65f9e7ca9da0bca6ee4956fd2328e5116a777285179dbd08` can't be totally correct...


[25-Feb-20 03:26 PM] ph03nix#3115
`i assume that all coinbase txes associated with your AtomicDEX address will show this errors`
yeah i think you're right


[25-Feb-20 03:27 PM] ph03nix#3115
i'll try a new address


[25-Feb-20 03:30 PM] cipi#4502
@artem.pikulin i wonder if it's really necessary to do a `blockchain.transaction.get` on the vins of the utxo


[25-Feb-20 03:33 PM] cipi#4502
ok, i see `tx_history VRSC` in the output... so the error is likely only if you set `tx_history` to `true`, which i never do, so that's why i haven't seen this error before

{Reactions}
üëå 

[25-Feb-20 03:52 PM] ph03nix#3115
errors are gone with new address


[26-Feb-20 02:57 AM] artem.pikulin#0794
@cipi Yes, MM2 performs `blockchain.transaction.get` for previous transactions to get informations about vins amount, addresses, etc. (https://github.com/KomodoPlatform/atomicDEX-API/blob/a2d3c9a3a7dbc3632890d4667878fb4eb955c57a/mm2src/coins/utxo.rs#L1615). Coinbase transactions are not properly handled right now, I will fix it soon. https://github.com/KomodoPlatform/atomicDEX-API/issues/587
@ph03nix Thanks for report!

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/587
UTXO get_tx_details_by_hash fails on coinbase transactions. ¬∑ Issue...
https://vrsc.explorer.dexstats.info/tx/0d95a7b11802621a65f9e7ca9da0bca6ee4956fd2328e5116a777285179dbd08 ¬∑ 2020-02-25 12:00:05 -0500 [tx_history VRSC] utxo:1528] Error &quot;utxo:1578] JsonRpcEr...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/blob/a2d3c9a3a7dbc3632890d4667878fb4eb955c57a/mm2src/coins/utxo.rs
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Reactions}
üëç 

[27-Feb-20 11:30 AM] jorian#4555
the protocol won't advance a transaction that is waiting for its second confirmation (the notarization confirmation) but the explorer has been showing that it's notarized for a while now


[27-Feb-20 11:31 AM] jorian#4555
this tx <https://explorer.komodoplatform.com/tx/56d193fcc3b077ae414cccdd016fce3504a07ae7d06d21c462f3d7292118aa38/coin/DEX>


[27-Feb-20 11:31 AM] Oszy#5734
hey thats me üòÑ


[27-Feb-20 11:31 AM] jorian#4555
```[swap uuid=28416037-954c-4c5d-b38e-16ecb5bf6b5d] Maker payment wait confirm started...
      mm ‚Ä∫ 27 19:30:51, rpc_clients:115] Waiting for tx 56d193fcc3b077ae414cccdd016fce3504a07ae7d06d21c462f3d7292118aa38 confirmations, now 1, required 2```


[27-Feb-20 11:31 AM] jorian#4555
hi!


[27-Feb-20 11:33 AM] jorian#4555
so to return to my 'question': the stdout prints a lot of the above messages, something like every 10 seconds, but while confirmations should be 2+, the protocol doesn't advance


[27-Feb-20 11:33 AM] jorian#4555
as if it just prints and doesn't really check


[27-Feb-20 11:34 AM] Oszy#5734
that tx has only 1 nota so far


[27-Feb-20 11:34 AM] jorian#4555
yes, that's the expected behaviour. required_confirmations stay on 1 and will only go to 2 (or more) if that transaction was notarized


[27-Feb-20 11:35 AM] jorian#4555
which in this case had happened for at least 10 minutes


[27-Feb-20 11:39 AM] jorian#4555
same for the Taker payment that follows. the protocol waits way too long: 1 confirmation required, currently that specific tx already has 10


[27-Feb-20 11:40 AM] jorian#4555
i'm all for safety and such, but this is unnecessary waiting


[27-Feb-20 11:41 AM] jorian#4555
<https://github.com/KomodoPlatform/atomicDEX-API/commit/a5fa0e7a465ec10c164c31a0f129e8e94b054956> is this the reason?


[27-Feb-20 11:42 AM] Oszy#5734
i think that only affects the time to wait not the number of confs (in case there are no blocks for a long time)


[27-Feb-20 11:43 AM] Oszy#5734
`confirmations, now 1, required 2`
I believe it's 2 notarizations not confirmations for Assetchains


[27-Feb-20 11:44 AM] jorian#4555
if what you say is true, then the wording needs to change


[27-Feb-20 11:44 AM] Oszy#5734
https://discordapp.com/channels/412898016371015680/584762059430821909/682612604832710686


[27-Feb-20 11:44 AM] Oszy#5734
`but swaps with KMD and KMD ACs take longer, since AtomicDEX waits for a notarization, not just one confirmation`


[27-Feb-20 11:44 AM] jorian#4555
A notarization, so 1


[27-Feb-20 11:45 AM] jorian#4555
i understand perfectly what it means, it just takes too long for the protocol to find out that a KMD AC transaction has been notarized (moving confirmations past 1)


[27-Feb-20 11:46 AM] Oszy#5734
I see what you mean now. 
@artem.pikulin any insight on this?


[27-Feb-20 11:46 AM] jorian#4555
taker payment now at 16 confirmations while 1 is needed


[27-Feb-20 11:46 AM] jorian#4555
still not progressing


[27-Feb-20 11:48 AM] jorian#4555
ah. 34 minutes later, we finished


[27-Feb-20 11:48 AM] Oszy#5734
I am still on 2/3 in my app üòÑ


[27-Feb-20 11:49 AM] jorian#4555
probably waiting for my KMD to confirm


[27-Feb-20 11:49 AM] Oszy#5734
now same for kmd


[27-Feb-20 11:49 AM] Oszy#5734
yeah üòÑ


[27-Feb-20 11:49 AM] Oszy#5734
went trough fine


[27-Feb-20 11:52 AM] jorian#4555
just took too long. @artem.pikulin if you need me to create an issue for this on Github, ping me


[27-Feb-20 12:32 PM] jorian#4555
to add a bit more info:

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/682686592015663109/unknown.png


[27-Feb-20 12:33 PM] cipi#4502
AtomicDEX does not just wait for the next notarization to happen, it waits till the block containing the tx is notarized (or a/couple of blocks higher)


[27-Feb-20 12:33 PM] jorian#4555
after the `now 0, required 1` messages, the tx is actually confirmed, though the protocol doesn't update anymroe


[27-Feb-20 12:39 PM] cipi#4502
you can check that with `komodo-cli txnotarizedconfirmed <txid>`... if it returns `true`, the tx is notarized


[27-Feb-20 12:41 PM] jorian#4555
i think i misunderstand the 0, 1 and 2 in confirmations


[27-Feb-20 12:42 PM] cipi#4502
are you using latest version? the console output of older versions simply does not show if it waits for nota or not
and it will also not show if the other party waits for a nota


[27-Feb-20 12:43 PM] cipi#4502
my output looks morel ike this
`Waiting for tx 25580ad65c9033b6e11b66b2dce1c9fbdc124f8f74b512e0f949e702dcb39361 confirmations, now 1, required 5, requires_notarization false`


[28-Feb-20 12:57 AM] jorian#4555
that is indeed different


[28-Feb-20 12:58 AM] jorian#4555
`mm2-5f079ef1e-Darwin.zip ` which is latest according to <http://195.201.0.6/mm2/>


[28-Feb-20 12:59 AM] jorian#4555
ah, it's not latest anymore


[28-Feb-20 12:59 AM] jorian#4555
did stuff regarding confirmations change last week? (will use <https://github.com/KomodoPlatform/atomicDEX-API/releases> for now)


[28-Feb-20 01:00 AM] jorian#4555
apparently it did. i will continue my endeavour


[28-Feb-20 01:20 AM] cipi#4502
yes, some things have changed... it is now possible to configure coins to require more than 1 confirmation without the need of a notarization, eg
```
    "required_confirmations": 2,
    "requires_notarization": true
```
for KMD to require notarization
if you update mm2, you will also need to update your coins file... if you don't, notarizations will be disabled (`requires_notarization` is default `false`)


[28-Feb-20 01:24 AM] cipi#4502
and there is also another change: dynamic txfees can be configured for all coins, not just BTC and QTUM... which i did... but there is a slight issue with that: https://github.com/KomodoPlatform/atomicDEX-API/issues/588

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/588
Swap tx spends are larger than 300 bytes which leads to min relay f...
https://discordapp.com/channels/412898016371015680/476025090627207168/682550817055834134 MM2 uses 300, but these transactions are slightly larger (301 in provided case from Discord). This hardcode ...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Reactions}
üëç (2) 

[01-Mar-20 06:10 AM] Oszy#5734
I have a swap SUPERNET/BTC, SN has 126 CONFIRMATIONS and notarized but the swap is stuck at `[TakerPaymentSent]`


[01-Mar-20 06:10 AM] Oszy#5734
what is it waiting for?


[01-Mar-20 10:28 AM] Oszy#5734
6 hours and still at that stage ü§î


[01-Mar-20 10:28 AM] Oszy#5734
`374 CONFIRMATIONS`


[01-Mar-20 10:28 AM] Oszy#5734
BTC has 45


[01-Mar-20 10:28 AM] jorian#4555
restart marketmaker?


[01-Mar-20 10:29 AM] jorian#4555
but i'm pretty sure this one failed


[01-Mar-20 10:30 AM] Oszy#5734
restarting..


[01-Mar-20 10:31 AM] cipi#4502
use https://github.com/KomodoPlatform/atomicDEX-API/tree/mm2-electrum-deadlock-fix branch, it contains electrum-deadlock-fix... if you use electrums, it was likely such a deadlock that failed the swap

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/tree/mm2-electrum-deadlock-fix
KomodoPlatform/atomicDEX-API
This is the official AtomicAPI (atomicDEX API) repository - KomodoPlatform/atomicDEX-API
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[01-Mar-20 10:31 AM] cipi#4502
but only log knows more üòâ


[01-Mar-20 10:41 AM] Oszy#5734
restarted with that branch


[01-Mar-20 10:41 AM] Oszy#5734
`01 18:40:26, taker_swap:812] Sending 'taker-payment@efff6df3-b37f-4086-abb5-1368ff012ce6' (390 bytes, crc 3316135784)`


[01-Mar-20 10:42 AM] Oszy#5734
the only relevant entry i can see


[01-Mar-20 10:43 AM] Oszy#5734
the other party needs to change to that branch as well to get rid of the deadlock? is this ever going to fail like this?


[01-Mar-20 10:48 AM] cipi#4502
not always, only sometimes... the more electrum coins you have enabled, the higher the chance... or the other party... but it would be visible in the log/console if that is the cause


[01-Mar-20 10:48 AM] cipi#4502
the `future timed out` errors...


[01-Mar-20 10:48 AM] Oszy#5734
nothing like that.


[01-Mar-20 10:49 AM] Oszy#5734
the only error is the utrum electrum


[01-Mar-20 10:49 AM] cipi#4502
then it is something else, or the other party has a problem


[01-Mar-20 10:51 AM] cipi#4502
i haven't seen any failed swaps with SUPERNET on the seed nodes... so neither maker nor taker has finished the swap and sent it to the seed nodes... or the other party uses a very old version of AtomicDEX (saw 2 not parseable swaps on the nodes)... what uuid is it?


[01-Mar-20 10:51 AM] Oszy#5734
efff6df3-b37f-4086-abb5-1368ff012ce6


[01-Mar-20 10:53 AM] cipi#4502
nope, no such swap uuid on the seed nodes


[01-Mar-20 10:53 AM] Oszy#5734
yeah i couldn't find it either with your tool


[01-Mar-20 10:53 AM] Oszy#5734
Would it be possible to prevent swaps starting / posting orders if there is a version mismatch to avoid problems like this?


[01-Mar-20 10:53 AM] Oszy#5734
especially if there was a bugfix


[01-Mar-20 10:55 AM] cipi#4502
newer versions of atomicdex are banning nodes if swap fails with them...
could also be a good idea to change netid the next time we update... would be like hardfork, all nodes on old netid will not see the nodes on new netid
there are also some other possibilities, eg: https://github.com/KomodoPlatform/atomicDEX-API/issues/513

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/513
[feature request] protocol version ¬∑ Issue #513 ¬∑ KomodoPlatform/at...
plz add a protocol version to invalidate outdated makers on the network - this prevents various issues.
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[01-Mar-20 10:56 AM] Oszy#5734
that's a good idea

{Reactions}
üíØ 

[01-Mar-20 11:54 AM] ph03nix#3115
anyone heard of/looked into this? https://opendex.network/

{Embed}
https://opendex.network/
Hello!
https://images-ext-2.discordapp.net/external/apXd-BCLmkU1MgUadRYJCF-wbI58WaSluJuQHcMWQtI/https/app.gitbook.com/share/space/thumbnail/-Lq7dAvRcXVJXcPrZrNF.png


[01-Mar-20 11:33 PM] artem.pikulin#0794
@Oszy Hi, could you please DM the `my_swap_status` response of `efff6df3-b37f-4086-abb5-1368ff012ce6` from your local node? As BTC is involved the swap will be finished in about 44 hours after start in case of errors due to increased lock times, that's why it might be not on seed node yet.
 `Would it be possible to prevent swaps starting / posting orders if there is a version mismatch to avoid problems like this? especially if there was a bugfix` - Electrum deadlock bug fix doesn't affect swap protocol, the nodes with and without bug fix are 100% compatible to make swaps. We haven't done incompatible changes for long time.

{Reactions}
üëç 

[02-Mar-20 12:18 AM] Oszy#5734
Thank you Artem


[02-Mar-20 01:06 PM] Slyris#2880
@artem.pikulin @artemciy_dice 

regarding the release github page of mm2

Is it possible from a single URL to always have the latest nightly build ?

insted of : https://github.com/KomodoPlatform/atomicDEX-API/releases/download/beta-2.0.1704/mm2-c82f84db6-Windows_NT-Debug.zip

I guess it's not possible because it's use the hash of the last commit in the file name


[02-Mar-20 10:00 PM] gcharang#6833
@Slyris 
something similar to <https://gist.github.com/steinwaywhw/a4cd19cda655b8249d908261a62687f8>
with <https://api.github.com/repos/KomodoPlatform/atomicDEX-api/releases/latest> should work for programmatic download of latest release


[02-Mar-20 10:07 PM] gcharang#6833
the above url gives the latest release
but, for pre releases, you can get the list using https://api.github.com/repos/KomodoPlatform/atomicDEX-api/releases


[02-Mar-20 10:39 PM] artem.pikulin#0794
@Slyris As @gcharang mentioned you may use Github API to retrieve the latest release. Then you can iterate over assets and apply filter to find the download link for required OS, filenames always have same pattern, e.g. `Linux-Debug`, `Darwin-Release` etc.


[02-Mar-20 11:18 PM] Slyris#2880
@artem.pikulin I need to do that with CMake xD


[02-Mar-20 11:18 PM] Slyris#2880
Let's have some fun


[02-Mar-20 11:18 PM] Slyris#2880
CMake is Turing complete ahah

{Reactions}
üòÖ 

[03-Mar-20 01:37 AM] artem.pikulin#0794
@Slyris As 1 of the options you may add a separate bash/python/(something else) download script that saves the file to same location and invoke it from Cmake.


[03-Mar-20 01:40 AM] Slyris#2880
y totally


[10-Mar-20 06:12 AM] yeroun#0535
Hi, I'm trying to get accustomed with the atomicdex. I ran into a strange thing: I submitted two maker orders shortly after another, for different coin pairs. After submitting the first, this order shows up when I query my orders. Submitting the second order however returns a JSON object from which I can read the uuid, but the order doesn't show up in the my orders. Also when I query the order status with the uuid, I get an error object back: {"error":"Order with uuid .... is not found"}. Can someone shed some light on what's happening here? Thanks!


[10-Mar-20 06:36 AM] Oszy#5734
second one overwrites the first one.? MM2 will cancel all existing orders for the selected pair by default;


[10-Mar-20 06:37 AM] Oszy#5734
use setprice with cancel_previous = false to keep them


[10-Mar-20 06:40 AM] yeroun#0535
the first one persists, and the second one (different coin pair) disappears. (submitting a second order for the SAME pair indeed overwrites the first one)


[10-Mar-20 07:50 AM] Oszy#5734
oh i see


[10-Mar-20 07:54 AM] cipi#4502
volume and balance must be > 0.00777, else order is removed from orderbook, but created in the first place, which is a small bug: https://github.com/KomodoPlatform/atomicDEX-API/issues/481#issuecomment-513192020

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/481
MKR/KMD order does not show up in orderbook ¬∑ Issue #481 ¬∑ KomodoPl...
I created an new order with curl --url &quot;http://127.0.0.1:7783&quot; --data &quot;{\&quot;userpass\&quot;:\&quot;$userpass\&quot;,\&quot;method\&quot;:\&...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Reactions}
awthanks 

[11-Mar-20 02:20 AM] artem.pikulin#0794
@yeroun @cipi @Oszy https://github.com/KomodoPlatform/atomicDEX-API/commit/a7f428afe66eadea769704f7da3b326c1420788f - this commit fixes the silent order disapear if volume is lower than `0.00777`, MM2 will return an error from now on.
And yes, please also pay attention to `cancel_previous` in case you're using `setprice` (https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#setprice). It cancels previous orders for selected pair by default, to change this behaviour please set `"cancel_previous":false`.

{Reactions}
üëç (2) 

[14-Mar-20 11:44 PM] ph03nix#3115
update for pytomic? - <https://github.com/KomodoPlatform/developer-docs/pull/161/files>


[15-Mar-20 01:46 AM] TonyL#3577
for pytomic updates you have to summon @smkhound because it's his baby üòÉ

{Reactions}
üöº rum 

[15-Mar-20 01:53 AM] ph03nix#3115
#learning üëÄ


[19-Mar-20 08:04 AM] yeroun#0535
Tried to trade with a buy order. After some time my mm2 went wild with `common:937] RPC error response: lp_ordermatch:852] sender pubkey 031bb83b58ec130e28e0a6d5d2acf2eb01b0d3f1670e021d47d31db8a858219da8 is banned`. What could have caused that?


[19-Mar-20 08:11 AM] cipi#4502
if a swap fails because of other nodes fault, your node bans the pubkey of the other node
you can unban: https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#unban-pubkeys
and take a look why the swap failed


[19-Mar-20 08:30 AM] yeroun#0535
thanks


[20-Mar-20 03:08 AM] yeroun#0535
@cipi Did you use this unban command yourself? Ik got this error: rpc:304] RPC error response: rpc:271] No such method: String("unban_pubkeys")


[20-Mar-20 03:14 AM] Oszy#5734
@yeroun do a git pull and re-compile that was added 2 days ago


[20-Mar-20 03:15 AM] yeroun#0535
That explains it. Thanks!

{Reactions}
üëç 

[20-Mar-20 03:16 AM] yeroun#0535
By the way: Where is this public key ban stored? I assume on the marketmaker that experienced the problems. Would a restart of the mm2 remove the bans as well?


[20-Mar-20 03:23 AM] Oszy#5734
restart removes it too yes

{Reactions}
üëç 

[20-Mar-20 07:03 AM] yeroun#0535
Do I understand right? All ERC20 coins and ETH connect to the same smart contract address (0x8500AFc0bc5214728082163326C2FF0C73f4a871)?


[20-Mar-20 07:08 AM] cipi#4502
yes, that is the address of the etomic-swap contract https://github.com/artemii235/etomic-swap deployed on the ETH chain and mm2 uses that code to perform atomic swaps with ETH and all ERC20 tokens on the same ETH chain

{Reactions}
üëç 

[20-Mar-20 08:42 AM] Patrick Crypto#1546
Is the threshold for a ban 1 fail? If so, maybe that should be raised? Or could it be a configurable option?


[23-Mar-20 06:21 AM] yeroun#0535
I have two nodes running mm2, to experiment with swaps. Regularly an order just vanishes form the radar. To be specific:
- I created a maker order to sell HUSH for KMD, transaction uuid:da92ee29-9719-4fd9-b21e-9dab1ac463bf
- On the other node (with a different seed of course) I created a taker order, which resulted in swap uuid:de144ac3-3f55-48f1-bbf9-29c004f42a6a
- the dex fee was sent, the maker payment was sent, tx cbc51ca1f4d3b9de49d7b78edf8bc0c9eaf5699f8d6b8726fba4e296db083102
- the maker node still thinks only 1 of 2 required confirmations was done, while the block explorer shows 3
- the order vanished from the taker node: myorders method provides empty objects
- on the taker side the my_swap_status has a last event "MakerPaymentWaitConfirmStarted", on the maker side it is "MakerPaymentSent"
- although the maker payment is sent, the HUSH balance is still there
Any one who could shed some light on this?


[23-Mar-20 09:09 AM] cipi#4502
`the maker node still thinks only 1 of 2 required confirmations was done, while the block explorer shows 3`
HUSH and KMD are waiting for a notarization
console output should show it, like
`22 21:41:02, rpc_clients:121] Waiting for tx 72d994445587adb355aa02fd4c46e441b35a8a23095a2d406f5c65e010c81136 confirmations, now 1, required 2, requires_notarization true`
if not, please update to latest version


[23-Mar-20 09:10 AM] cipi#4502
https://github.com/jl777/coins/blob/master/coins#L28


[24-Mar-20 08:23 AM] B. G√ºltekin √áetiner#0626
@Paro @ca333 @dimxy @cipi We had talked about adding MCL to AtomicDEX before. We delayed it till after we have made updates. We have made updates in code and  most people have already updated to new code on marmara chain. However, the consensus will be active in new code with blockheight 11077 in around 10 days. Would you suggest to add MCL to AtomicDEX now or would you suggest to wait until HF height?


[24-Mar-20 08:56 AM] ca333#0333
Please ping us after the HF for aDEX integration.

{Reactions}
üëç (2) 

[26-Mar-20 11:18 AM] 5aubermann#3223
https://github.com/5aubermann/webDEX

{Embed}
https://github.com/5aubermann/webDEX
5aubermann/webDEX
Flask application to run atomicDEX in the browser. Contribute to 5aubermann/webDEX development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/hzdWoBfaEU1RVOdQ0qoYV1bL-X3hcNyvivyEYNIke2E/https/repository-images.githubusercontent.com/250262658/00da3500-6f62-11ea-83aa-ec502b6d6e3c


[26-Mar-20 11:18 AM] 5aubermann#3223
I wrote a Flask application on top of pytomicDEX


[26-Mar-20 11:19 AM] 5aubermann#3223
now you can use atomicDEX in your browser


[26-Mar-20 11:53 AM] Alright#0419
Would not recommend using this for real amounts(or on a machine holding real money) until someone from the team has a chance to look at it


[14-Apr-20 08:30 AM] Mylo#8306
Hello

`curl -s --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"enable\",\"coin\":\"ETH\", \"urls\":[\"http://195.201.0.6:8545\"],\"swap_contract_address\":\"0x7Bc1bBDD6A0a722fC9bffC49c921B685ECB84b94\"}"`

Gives me an error:

`{"error":"rpc:274] lp_commands:92] lp_coins:482] eth:2132] Failed to get client version for all urls"}`

How to fix?

Docs i'm following are http://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#command-for-ethereum-and-erc20-based-blockchains


[14-Apr-20 08:34 AM] Mylo#8306
Using version `{"result":"2.0.1703_mm2_b5ad65be8_Linux_Release"}`


[14-Apr-20 08:52 AM] Mylo#8306
Works with `https://github.com/KomodoPlatform/atomicDEX-API/issues/473#issuecomment-512665061` cipig.net servers, maybe it's the URL in docs no longer working.


[14-Apr-20 08:52 AM] Mylo#8306
thanks.


[14-Apr-20 08:56 AM] Mylo#8306
swap contract address also different.


[14-Apr-20 08:56 AM] Mylo#8306
@gcharang just fyi re: docs üëÜ

{Reactions}
üëç 

[14-Apr-20 08:58 AM] cipi#4502
those params are for testnet, including the contract address... but i don't know the status of that IP, maybe @artem.pikulin knows more
ETH (ERC20) mainnet params are these: https://github.com/KomodoPlatform/coins/blob/master/ethereum/ETH


[14-Apr-20 08:59 AM] Mylo#8306
great, thanks @cipi i was just looking at that file.

how do you know which ERC20 tokens are good for swapping, there's no list like all the BTC based coins?


[14-Apr-20 09:01 AM] cipi#4502
those that were already tested with mm2 have `mm2: 1` set in https://github.com/KomodoPlatform/coins/blob/master/coins
the other ones from there are not tested with mm2


[14-Apr-20 09:02 AM] Mylo#8306
ah of course, if it has `etomic` it's eth/erc20.


[14-Apr-20 09:03 AM] cipi#4502
yes, but only the ones that also have mm2 set to 1 have been tested with mm2. the other ones are from mm1
swap proof for the tested ones are here: https://github.com/KomodoPlatform/coins/blob/master/swaps
like https://github.com/KomodoPlatform/coins/blob/master/swaps/USDC-KMD.md


[14-Apr-20 09:04 AM] cipi#4502
are you looking for a particular token?


[14-Apr-20 09:05 AM] Mylo#8306
no i'm just making changes to how i enable coins.  i had a hard coded list for 6 months, now i just want auto-everything as i get to the final stages of using my app more frequently :)

thanks for help


[14-Apr-20 09:07 AM] Mylo#8306
if i wanted to test ERC20 that have not been done with mm2, do i test by adding `mm2: 1` and making a swap happen?


[14-Apr-20 09:07 AM] cipi#4502
yes, exactly

{Reactions}
üôè (2) 

[14-Apr-20 09:08 AM] Mylo#8306
ah ok, cool. i'll try to do that once i'm done.  thanks


[14-Apr-20 09:11 AM] Mylo#8306
and erc20 contract address = etomic.  just noticed.  thanks again.

{Reactions}
üëç 

[14-Apr-20 02:05 PM] Patrick Crypto#1546
If I cancel an order while there is a swap taking place for a portion of the order, does that impact the swap?


[14-Apr-20 02:10 PM] cipi#4502
a running swap can't be cancelled, so you can cancel the order


[14-Apr-20 02:11 PM] Patrick Crypto#1546
I mean if I have an order on the books for 10 rick and someone is buying 1


[14-Apr-20 02:12 PM] cipi#4502
after the swap for this 1 rick has started, it can't be cancelled
you can only cancel the order
and if you do, it won't affect the already running swap


[14-Apr-20 02:12 PM] Patrick Crypto#1546
Ok, that is what I was asking and figured


[15-Apr-20 12:10 AM] artem.pikulin#0794
@Mylo @cipi Hi, I had to turn off my Ropsten node due to limited storage capacity. @gcharang could you please remove the mention of `http://195.201.0.6:8545` from docs and replace it with recommendation to use some 3rd party service e.g. Infura?
@cipi maybe you also have some space on your nodes for Ropsten testnet node? IIRC it would take not more than 100Gb disk space.


[15-Apr-20 12:30 AM] gcharang#6833
will do

{Reactions}
üôè 

[15-Apr-20 05:43 AM] cipi#4502
@artem.pikulin can you please tell me the command line params for starting ropsten with parity? I can simply start a second parity on the backup server... that one uses less disk space anyway, because the mainnet parity there runs without tracing... the mainnet nodes (eth1-3.cipig.net) all have tracing enabled and the backup node is only used if one of the main nodes is unreachable


[15-Apr-20 06:01 AM] artem.pikulin#0794
@cipi `chain --ropsten` should work (https://wiki.parity.io/Basic-Usage#networking), other params can stay same usually.

{Embed}
https://wiki.parity.io/Basic-Usage
Parity Documentation - Basic Usage
Once the [syncing](/Getting-Synced.html) is complete, new transactions can be sent. Before relaying a transaction Secure Transaction Signer has to ...
https://images-ext-1.discordapp.net/external/1RluMT3SsdS3VQbBJF0h_-ucXyLNLGc1AEouOjN0SQg/http/wiki.parity.io/public/Paritytech_logo_400x400.jpg


[15-Apr-20 06:17 AM] cipi#4502
ok, i will start one on rpcport 8545... do you need tracing?


[15-Apr-20 06:20 AM] cipi#4502
can i run 2 parities on the same node or do i need to change anything other than rpcport, like dbdirs and stuff?


[15-Apr-20 06:29 AM] cipi#4502
```
Apr 15 13:28:39 Debian-101-buster-64-minimal parity[31639]: 2020-04-15 13:28:39 UTC Network port V4(0.0.0.0:30303) is already in use, make sure that another instance of an Ethereum client is not running or change the port using the --port option.
Apr 15 13:28:39 Debian-101-buster-64-minimal parity[31639]: 2020-04-15 13:28:39 UTC Unable to listen on 127.0.0.1:8546
```
not that easy, need to change more stuff...


[15-Apr-20 06:34 AM] cipi#4502
`--ports-shift=100`


[15-Apr-20 06:37 AM] cipi#4502
ok, it syncs... i have not enabled tracing... will be `http://95.216.36.138:8645`


[15-Apr-20 10:07 AM] cipi#4502
ropsten is now running on `http://95.216.36.138:8645`
interesting is that is has only one connection, although i specified `--min-peers=16`
`parity[32810]: 2020-04-15 17:05:54 UTC Imported #7722995 0x2d13‚Ä¶6f6d (0 txs, 0.00 Mgas, 3 ms, 0.53 KiB)`
but if 7722995 is the normal height, it should work


[15-Apr-20 10:25 AM] cipi#4502
@gcharang you can replace `http://195.201.0.6:8545` in the docs with `http://eth-ropsten.cipig.net:8645`
please beware the changed port (8645, instead of 8545)


[15-Apr-20 07:12 PM] gcharang#6833
done. the change should reflect in a few minutes in the docs

{Reactions}
üèÖ 

[15-Apr-20 09:26 PM] artem.pikulin#0794
@cipi @gcharang Thanks a lot! Tracing is not mandatory so it's all fine.


[16-Apr-20 06:30 AM] cipi#4502
@artem.pikulin One other question: Does the taker know what settings for required_confs and requires_nota the maker is using before the swap starts and viceversa? If so, the waiting time for swap completion could be optimized. atm, taker is waiting in `TakerPaymentSpent` because he is waiting for a nota, but maker has already spent the TakerPayment a long time ago, because he is not waiting for nota on this coin. So if taker knows that maker does not need nota, he could finish this stage much sooner.


[16-Apr-20 11:16 PM] artem.pikulin#0794
@cipi Hi, not yet, but it's planned to implement, moreover this information will be available in orderbook before matching so users will be able to choose between orders with e.g. close price but different confirmations settings so swap will take less time.


[16-Apr-20 11:18 PM] artem.pikulin#0794
I also have an idea to make swap payments locktime dynamic based on confirmation settings, if we require more confirmations the longer locktime might be required.

{Reactions}
üëç 

[18-Apr-20 10:13 AM] cipi#4502 (pinned)
i played a bit with AWS API and the deployment of mm2 nodes... and it is very easy to deploy a mm2 instance
in fact it is only passing this script as user-data, either on the webinterface when deploying a new instance or via API
the script looks like this and i tested it on debian 10
```
#!/bin/bash
apt-get update
apt-get install -y unzip jq curl
wget $(curl --silent https://api.github.com/repos/KomodoPlatform/atomicDEX-API/releases | jq -r '.[0].assets[] | select(.name | endswith("Linux-Release.zip")).browser_download_url')
wget https://raw.githubusercontent.com/KomodoPlatform/coins/master/coins
unzip *Linux-Release.zip
./mm2 "{\"netid\":9999,\"gui\":\"aws\",\"passphrase\":\"testpass\",\"rpc_password\":\"testrpc\",\"myipaddr\":\"0.0.0.0\"}"
```
it gets the latest mm2 and coins file and starts mm2 with `testpass` and `testrpc`
this is how to get aws cli ready:
```
sudo apt-get install awscli
export AWS_ACCESS_KEY_ID=whatever
export AWS_SECRET_ACCESS_KEY=whatever
```
and these are the commands to deploy a instance
```
aws ec2 create-key-pair --region us-east-1 --key-name mm2 | jq -r .KeyMaterial > ~/.ssh/mm2.pem
aws ec2 create-security-group --region us-east-1 --group-name mm2 --description "mm2"
aws ec2 authorize-security-group-ingress --region us-east-1 --group-name mm2 --protocol all --cidr 0.0.0.0/0
aws ec2 run-instances --region us-east-1 --image-id ami-083d24fb90054e5f0 --count 1 --instance-type t3.micro --security-groups mm2 --key-name mm2 --user-data file://my_script.txt
```


[18-Apr-20 10:16 AM] cipi#4502
assuming the above script is saved in the file `my_script.txt`
the security group is needed in order to allow connections on all ports from outside
`ami-083d24fb90054e5f0` is the debian 10 AMI on AWS


[18-Apr-20 10:17 AM] cipi#4502
the deployment takes only couple of seconds


[18-Apr-20 10:19 AM] cipi#4502
after that you can simply talk to the mm2 node directly with mm2 rpc api, eg
`ssh -i ~/.ssh/mm2.pem admin@$nodeip 'curl -s --url "http://127.0.0.1:7783" --data "{\"userpass\":\"testrpc\",\"method\":\"my_balance\",\"coin\":\"KMD\"}"'`
$nodeip is the public ip the instance got (eg `aws ec2 describe-instances --region us-east-1 --instance-ids i-07c310a7e78217fd6`)


[18-Apr-20 10:22 AM] cipi#4502
i used `t3.micro` instance (2t, 1GB)... for 0.01 USD/h, but smaller ones would also work
and then there is also the spot market where you can save 70-90%

{Reactions}
üëç (5) 

[18-Apr-20 06:09 PM] gcharang#6833
Pinned a message.


[20-Apr-20 08:28 AM] Mylo#8306
@cipi which VRSC electrums are you using?  i'm having trouble getting a balance in mm2


[20-Apr-20 08:31 AM] Oszy#5734
``` "electrum": [
      {
        "url": "el0.veruscoin.io:17485"
      },
      {
        "url": "el1.veruscoin.io:17485"
      },
      {
        "url": "el2.veruscoin.io:17485"
      }
    ],```
@Mylo


[20-Apr-20 08:32 AM] Mylo#8306
ok, thanks i'll try those.  coins.json has port 17486 with SSL and they are probably buggering it up.


[20-Apr-20 08:46 AM] Mylo#8306
great that worked, thanks

{Reactions}
üëç 

[20-Apr-20 08:50 AM] Zanzarismo#6500
https://twitter.com/CryptoJeans/status/1252154703867191296?s=19

{Embed}
CryptoJeans (@CryptoJeans)
https://twitter.com/CryptoJeans/status/1252154703867191296?s=19
Fiat currencies lose value long-term from inflation. DigitalPrice offers a solution to the question of reserved value. DigitalPrice allows merchants to earn interest from gathered coins and coins and connects freedom with the merchant by merging with a komodo delayed proof wo...
Twitter


[21-Apr-20 01:41 PM] sclear#0274
I'm having a bit of trouble running AtomicDEX on Debian 9. Built it from latest, no problems, got the latest coins file from github. However, upon each start:
https://pastebin.com/V8nNxPMW

{Embed}
https://pastebin.com/V8nNxPMW
>>>>>>>>>> DEX stats 127.0.0.1:7783 DEX stats API enabled at unixti...
https://images-ext-1.discordapp.net/external/lZwHlcJYEP_-CeL744a7RSWVnhrIifPJgiIcmKkDuJY/https/pastebin.com/i/facebook.png


[21-Apr-20 01:45 PM] sclear#0274
Thanks in advance for any and all pointers


[21-Apr-20 02:05 PM] ComputerGenie#7004
@sclear any way to strip out the excess chars and show the print "normally"?


[21-Apr-20 02:07 PM] sclear#0274
this is the raw contents of nohup.out, let me see what I can do


[21-Apr-20 02:09 PM] sclear#0274
hmmm the output looks exactly the same no matter what I do


[21-Apr-20 02:12 PM] sclear#0274
I admit this is a quite strange stack trace yeah


[21-Apr-20 02:22 PM] ComputerGenie#7004
for most of it, anything that isn't alphanumeric or _ is converted to a number or an alphanumeric "code" of sorts üòï


[21-Apr-20 02:23 PM] sclear#0274
Tbh no idea how it produces such output


[21-Apr-20 02:25 PM] ComputerGenie#7004
a specific example is:
`boost::asio::detail::reactive_null_buffers_op<>`
is turned in that print into
`boost4asio6detail24reactive_null_buffers_opIN10`


[21-Apr-20 02:26 PM] ComputerGenie#7004
after that, my eyes glaze over and I can't read squat


[21-Apr-20 02:26 PM] sclear#0274
ugh, I know exactly what you mean


[21-Apr-20 10:18 PM] Oszy#5734
```SigSegV means a signal for memory access violation, trying to read or write from/to a memory area that your process does not have access to. These are not C or C++ exceptions and you can't catch signals.```


[22-Apr-20 12:50 AM] artem.pikulin#0794
@sclear Hi, thanks for your report! Could you please try to `cargo clean`, rebuild AtomicDEX-API from `mm2-libtorrent-segfault-fix` branch (https://github.com/KomodoPlatform/atomicDEX-API/tree/mm2-libtorrent-segfault-fix) and try to launch it again on same OS?


[22-Apr-20 03:11 AM] sclear#0274
@artem.pikulin I'll try this during the day and let you know the results. Thank you!

{Reactions}
ü§ù 

[29-Apr-20 08:43 AM] Mylo#8306

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/705081851248902164/unknown.png


[29-Apr-20 08:43 AM] Mylo#8306

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/705081903518056508/VRSC-KMD-7a07ec34-1616-47ac-bbef-ce25e3cb0e24.json


[29-Apr-20 08:44 AM] Mylo#8306
Hi Devs


[29-Apr-20 08:44 AM] Mylo#8306
in the screenshot, the orderbooks show a very tight spread of nearly 0% (it is rounded).


[29-Apr-20 08:45 AM] Mylo#8306
The amount/volumes match & the quoted price is off by 7 komodoshi


[29-Apr-20 08:45 AM] Mylo#8306
the json file is the swap data for the trade that occurred between the two parties.


[29-Apr-20 08:49 AM] Mylo#8306
i suspect that the trader was happy with receiving coins and then closed the app because this small fraction of the order that remains is visible in the first screenshot, but then a minute later i invert the market to make it easier to report what i'm seeing to match the "Orders for Mylo" table, following.


[29-Apr-20 08:49 AM] Mylo#8306

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/705083381955821578/unknown.png


[29-Apr-20 08:50 AM] Mylo#8306
(i need to round that "Orders for Mylo" table)


[29-Apr-20 08:51 AM] Mylo#8306
why does that 7 komodoshi order exist?


[29-Apr-20 10:42 PM] artem.pikulin#0794
@Mylo Hi, what do you mean by 7 komodoshi order?


[29-Apr-20 10:43 PM] Mylo#8306
6.46000007


[29-Apr-20 10:43 PM] Mylo#8306
when everything had matched at 6.46


[29-Apr-20 10:44 PM] Mylo#8306
sorry not matched, but the original order was 6.46


[29-Apr-20 10:44 PM] Mylo#8306
then it seems someone is trying to match with 6.46, but they've ended up with 6.46000007


[29-Apr-20 10:54 PM] artem.pikulin#0794
@Mylo Did you create this `6.46000007` order by yourself?


[29-Apr-20 10:55 PM] Mylo#8306
no, i was the maker, bidding KMD / VRSC @ 6.46 @artem.pikulin


[29-Apr-20 10:56 PM] Mylo#8306
someone filled my bid.  maybe they did something manually, i'm just wondering how this could happen?


[29-Apr-20 10:58 PM] Mylo#8306
i guess there is just a little too much unknown to have a concrete answer.  i'll start testing from my own alice and bobs more frequently from next week, give you better problem cases if i find any.


[29-Apr-20 11:08 PM] artem.pikulin#0794
What was the call you made to AtomicDEX-API to create `6.46` order? Btw it is not really `6.46`, I guess you apply some rounding on displaying as `0.38 / 0.05882353 = 6.4599999354000006459999935400000...`.


[29-Apr-20 11:11 PM] artem.pikulin#0794
And the swap status you provided also matched not exactly at `6.46` as `19 / 2.94117647058823547 = 6.4599999999999996136920000000000...`.


[29-Apr-20 11:32 PM] Mylo#8306
oh i'm not logging enough.
it was setprice, but it goes from GUI --http--> middleware server --rpc--> mm2
& yes i'm rounding, however i would have put in a lazy 2-3 decimal place figure.

i will keep better notes in future to report unusual stuff if it exists anywhere relevant to you.

thanks for response/care üòÑ

{Reactions}
üëç 

[05-May-20 01:16 AM] Oszy#5734
yay we have a stop call now?


[05-May-20 04:59 AM] artem.pikulin#0794
@Oszy It was always there IIRC üôÇ


[05-May-20 05:04 AM] Oszy#5734
that's mm2 stop you mean


[05-May-20 05:04 AM] Oszy#5734
I meant `0ef0212 Stop swaps on "stop" RPC call. Add swaps file locks. #626 (#628)` @artem.pikulin


[05-May-20 05:04 AM] Oszy#5734
I thought it stops a swap üôÇ


[05-May-20 05:05 AM] Oszy#5734
misunderstood the sentence üòÑ


[05-May-20 05:06 AM] Oszy#5734
will there be a way to reverse a swap mid-swap just like when you force timeout it if you messed up the amount or rate?


[05-May-20 05:06 AM] Oszy#5734
so taker could cancel mid-swap initiating the refund, or stop even before the takerpayment is sent?


[06-May-20 12:07 AM] artem.pikulin#0794
@Oszy Hi, swaps are now stopping forcefully when `stop` RPC is invoked, it's required for platforms like iOS where MM2 is running as thread, not separate process. It is unconditional stop, but swaps will continue (kick start) from point where they stopped when MM2 is started again. It will be a bit harder to implement the  `stop the swap on some step when it's safe to do so`, also such action should possibly affect node reputation: if taker stops the swap before the taker payment is sent and maker payment is already sent too maker's funds are locked for some time preventing him from other trades actually making a little harm to him (or maybe even not so little because BTC swaps lock times are quite high).


[06-May-20 01:14 AM] Oszy#5734
hmmm okay so when someome messes up a trade best course to do is quit the app and wait for timeout


[06-May-20 02:13 PM] allbits#5898
Just realised I have some btc stuck in a 3-address from a failed swap on May second. How do I go about getting that back?


[06-May-20 02:16 PM] cipi#4502
https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#recover-funds-of-swap
`recover_funds_of_swap` with the swap uuid as parameter will refund your BTC


[06-May-20 02:27 PM] allbits#5898
I got an error trying to do that


[06-May-20 02:36 PM] cipi#4502
what error?


[06-May-20 02:38 PM] allbits#5898
I had to leave for a while. Perhaps I can dm error message when I return?


[06-May-20 02:41 PM] cipi#4502
sure


[06-May-20 02:51 PM] allbits#5898
Thank you


[06-May-20 04:12 PM] allbits#5898
Update: in dm with cipi the issue was resolved - thanks cipi

{Reactions}
üëç (3) 

[08-May-20 09:45 AM] allbits#5898
I have more stuck btc - it's been over 24 hours since the swap was initiated - funds are still in 3-addresses.  When I do "recover_funds_of_swap" I receive a message of "swap must be finished before recover funds attempt"


[08-May-20 09:49 AM] Oszy#5734
@allbits BTC has a 44 hour timeout


[08-May-20 09:51 AM] allbits#5898
ok - thanks


[09-May-20 08:04 AM] allbits#5898
tried recover_funds_of_swap and get the following error message


[09-May-20 08:09 AM] Oszy#5734
his error is
 `script_pubkey doesn't match expected a91416add402350c07f8a5f2870f0c45cb496bd8b39c87 when trying to find maker payment spend` 
@allbits dont post log details in public like that


[09-May-20 08:09 AM] allbits#5898
üëå noob smh


[09-May-20 01:41 PM] allbits#5898
Hopefully someone can help with this - it's a significant amount of btc


[09-May-20 06:16 PM] Oszy#5734
is it mm2 on linux?


[09-May-20 06:56 PM] allbits#5898
mm2 on linux


[09-May-20 09:30 PM] TonyL#3577
hi @allbits ! Please try to wait until tomorrow with mm2 opened (not sure if you use mobile or desktop version tho).  Please DM me swap details and mm2 logs if funds will not be recovered automatically until tomorrow.


[10-May-20 08:34 AM] allbits#5898
Ok. I'm on mm2 on linux. Will leave running


[11-May-20 11:37 AM] allbits#5898
Ok, so I'm still trying to figure out how to recover btc from failed swap. recover_funds_of_swap gives error


[11-May-20 12:20 PM] TonyL#3577
Hi @allbits !  `Please DM me swap details and mm2 logs if funds will not be recovered automatically until tomorrow.` Feel free to DM me this info and I'll try to assist you with swap recovery


[11-May-20 12:21 PM] allbits#5898
ok thank you


[12-May-20 09:17 AM] allbits#5898
UPDATE:  @TonyL provided some excellent support and all is fixed!

{Reactions}
üöÄ (8) 

[12-May-20 01:48 PM] Oszy#5734
He's the man üç∫

{Reactions}
üçª (3) 

[13-May-20 01:34 AM] gcharang#6833
@TonyL @artem.pikulin 
2 makerpayments were sent during this swap. one of them was spent by taker <https://dex.explorer.dexstats.info/tx/f48a97fffab5d435d8ee03b522b36c6c8ae3b1974b6c74f57634408c645a827b>
the other one is unspent right now <https://dex.explorer.dexstats.info/tx/7d8440dab4d8427d3466314f167bbf7af0b9e9c9c414ec4a176b6b1a91511081>
is this expected? will the second makerpayment be refunded automatically?


[13-May-20 01:35 AM] TonyL#3577
@gcharang It's a bug - I'll DM you now, please delete links to sensitive data from public chat

{Reactions}
üëç 

[13-May-20 01:37 AM] Oszy#5734
let me know how can i receive 2 makerpayments thank you :troll:

{Reactions}
troll_thuglife 

[24-May-20 04:28 PM] ca333#0333
Hi @everyone!

Our AtomicDEX API developer Sergey Boyko ( @sergey.boyko0791 ) completed a key contribution to AtomicDEX! Thanks to Sergey we now have a new essential data metrics collection feature (for rpc data traffic, general conn i/o, etc.) with Prometheus integration!
Check it out https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html#dex-metrics !

Combined with Grafana it enables beautiful and expressive visualisations of the data traffic : https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html#prometheus-integration

I want to thank Sergey and the entire team for this achievement!

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html
Komodo Developer Documentation
Documentation for developers building on the Komodo Platform
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png

{Reactions}
üëè (17) üëå (13) üíØ (15) üëç (12) üî• (13) dancing_penguin (6) ca333 (3) 2561_feelsevilman (3) 

[24-May-20 04:41 PM] Regnar#6164
Anymore information on what types of graphs can be made with this?


[24-May-20 04:41 PM] Regnar#6164
I'm not too familiar


[24-May-20 04:53 PM] grewalsatinder#9653
Read the docs links
That looks great effort by mm2 team.
üëèüëç


[24-May-20 08:52 PM] Regnar#6164
I did, I think I understand that it is a new way to build time series data based on metrics collected in AtomicDEX and then display them with a new GUI. I'm not too familiar with Atomicdex logs or the types of information being displayed, or could be displayed. For example, what is `rpc_client_traffic_in` ? I'm also curious what other information could be displayed.


[24-May-20 09:05 PM] grewalsatinder#9653
whatever information from logs it gives, rich data on logs reflected by the API in JSON format can be used to create custom charts and visualised info.
having such rich logging and visualisation tools is a great feature making it even more attractive for developers to use AtomicDEX and it's dev toolkit


[24-May-20 09:06 PM] grewalsatinder#9653
helps looking more in depth information with such tools


[24-May-20 09:07 PM] grewalsatinder#9653
Graphana support through Prometheus is on it's own giving a set framework to look at how much data it can help visualise


[24-May-20 09:18 PM] Regnar#6164
Don't get me wrong, I understand the usefulness of easily displaying data. I'm saying I don't know what other information is available in logs, or what RPC_client_traffic_in is. 

<https://docs.komodoplatform.com/qa/extract-swap-data-atomicDEX-log.html#how-to-extract-swap-data-from-a-atomicdex-mobile-log-file>


[24-May-20 09:20 PM] grewalsatinder#9653
I don't know either for sure. Haven't tried mm2 myself yet üòÖ 
I'm just glad there are rich informative dev tools being built and made available with nice documentation.


[24-May-20 09:20 PM] grewalsatinder#9653
just try the logs and RPC API can check yourself. much less effort to get answers üòâ


[24-May-20 09:46 PM] Oszy#5734
Is it possible to start AtomicDEX Pro with these params, or you need to make a new release for that?


[24-May-20 09:47 PM] Oszy#5734
would be nice to see it "integrated" inside the desktop app, maybe have a `stats` menu option embedding the webgui into Qt.

{Reactions}
üëç 

[24-May-20 09:50 PM] Oszy#5734
@Regnar the number of rpc calls made by the mm2 in and out üòÑ


[24-May-20 09:51 PM] Oszy#5734
nice work @sergey.boyko0791  üëç

{Reactions}
üëç (5) 

[24-May-20 09:52 PM] sergey.boyko0791#8143
I guess we should add a list of metrics and comments to them to the documentation. Thanks üòÑ

{Reactions}
üëç (6) 

[24-May-20 09:53 PM] Regnar#6164
It looks great though. Good work!


[24-May-20 09:57 PM] Oszy#5734
I think this is more useful for the seed nodes, and to see the traffic on your regular node with higher traffic, to see your limitations, if ever anything happens you can watch the backlog, as we know mm2 still has some scalability issues.


[25-May-20 12:22 AM] artem.pikulin#0794
Yes, and it also might useful for anyone using AtomicDEX-API in CLI mode and possibly for advanced desktop GUI users too.


[25-May-20 01:45 AM] Mylo#8306
v.cool stuff.  congrats mm2 dev team! üèÖ


[25-May-20 05:43 AM] Dimithras#2092
@Mylo


[26-May-20 01:03 AM] CMaurice#1685
Yea, great. Just fyi there is a mispelling of Prometheus as 'Promotheus' in the doc

{Reactions}
üëç 

[26-May-20 08:30 AM] jansako#3330
they must be Promot-he-ing it üôÇ


[31-May-20 01:13 PM] Oszy#5734
hey


[31-May-20 01:14 PM] Oszy#5734
do you need a seed node for each netid?
i guess just starting mm2 with a different wont work.
How do i set up a node that runs on a  different netid than 9999?


[31-May-20 02:02 PM] jorian#4555
You set the netid parameter to something different


[31-May-20 02:16 PM] Oszy#5734
well wish it was that easy, but cipi answered me elsewhere thanks üòõ


[07-Jul-20 12:30 PM] phm87#7395
<https://github.com/KomodoPlatform/atomicDEX-API/pull/672/files>
I'd like to add a new RPC type / CoinType as they added UTXO and Eth (and Qrc20 soon). I'm using this PR as example, do you have another example or a tutorial how to add a new coinType into mm2 ? (I mean that the RPC calls and how it works is different, such as XMR or LN)
The other solution is to define a normal coin then develop a proxy to "translate" RPC calls from mm2 to the special coin daemon.
Thank you


[07-Jul-20 12:31 PM] phm87#7395
(it is not very far from UTXO coin types functionally so maybe I can just add a parameter or add a new "type" in the list of native, electrum)


[08-Jul-20 04:30 AM] artem.pikulin#0794
@phm87 Hi! It depends on what you mean by `it is not very far from UTXO coin types functionally`. If the coin is bitcoin fork or maybe fork of fork (like KMD is fork of ZEC initially) you can use existing UTXO implementation. If the coin you would like to integrate is UTXO-like but implemented differently from bitcoin protocol (data structures formats, cryptographic algorithms, etc.) you will have to implement entire coin functionality from scratch.
The example of all traits required to be implemented can be found here: https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2/mm2src/coins/test_coin.rs, this is coin that has all methods unimplemented to be mocked in unit tests.
You will have to implement all of them, I recommend to start with something very basic, e.g. fetch balance first, then try to implement withdraw, etc.


[08-Jul-20 06:59 AM] phm87#7395
To be more clear, I'm talking about Lightning Network and LND node/wallet, I think that many rpc calls are different and it works differently. I copied whole utxo.rs and I renamed entities but I have a compilation issue, I hope to be able to fix it tonight. I didn't adapt the content of each function yet, maybe few things will be different
<https://github.com/KomodoPlatform/atomicDEX-API/compare/mm2...phm87:patch-25>
```error[E0283]: type annotations needed for `chain::transaction::Transaction`
   --> mm2src/coins/utxo.rs:665:36
    |
640 |         let tx: UtxoTx = try_fus!(deserialize(payment_tx).map_err(|e| ERRL!("{:?}", e)));
    |             -- consider giving `tx` a type
...
665 |                                 tx.tx_hash()
    |                                    ^^^^^^^ cannot infer type for struct `chain::transaction::Transaction`
    |
    = note: cannot resolve `chain::transaction::Transaction: Transaction`

error[E0283]: type annotations needed for `chain::transaction::Transaction`
   --> mm2src/coins/ln.rs:665:36
    |
640 |         let tx: chain::Transaction = try_fus!(deserialize(payment_tx).map_err(|e| ERRL!("{:?}", e)));
    |             -- consider giving `tx` a type
...
665 |                                 tx.tx_hash()
    |                                    ^^^^^^^ cannot infer type for struct `chain::transaction::Transaction`
    |
    = note: cannot resolve `chain::transaction::Transaction: Transaction```


[08-Jul-20 06:59 AM] phm87#7395
ln.rs is new based on a copy of utxo.rs where I renamed most of "Utxo" to "Ln" but I think that the compiler doesn't know which implementation of "Transaction" to be used. I'm 100% noob in rust but it is weird that it works if only Eth and Utxo are inside the list but it doesn't work when I add "Ln" in the list of TransactionEnum in lp_coins.rs
I'll try again tonight, I don't think that I'm far from having it compiling.
Then biggest part will be to make it discuss properly with LND. I don't want to use c-lightning of blockstream, I prefer LND (I am in contact with few guys of the LND team and they are present in France so we speak the same language)
Hopefully, the swap part with p2sh is already present (no htlc on the LN side, only on the altcoin onchain side so I can re-use mm2 AS IS).
Thank you


[08-Jul-20 07:00 AM] phm87#7395
(maybe I should adapt something into your fork of <https://github.com/artemii235/parity-bitcoin.git> I'll check tonight)


[08-Jul-20 05:11 PM] phm87#7395
It compiles now!
Thanks to your guidance, I was able to define a copy a TestCoin named LnCoin without any implemented methods and it compiles. Next step is to write rpc calls one by one. I'm interested in submarine swaps where the p2sh is onchain (not on LN side). If someone wants to have a look at reverse submarine swaps, please feel free.
Note: if KMD Team doesn't run a Lightning Network node (and mm2 code adapted accordingly), I don't think that it will be possible to collect DEX fees.


[08-Jul-20 05:11 PM] phm87#7395
<https://github.com/KomodoPlatform/atomicDEX-API/compare/mm2...phm87:mm2ln>


[28-Jul-20 03:43 PM] tolken#2655
I just did a fresh pull on AtomicDex-API and recompiled but toward the end, it seemed to throw a few errors and didn't complete properly. I've successfully compiled atomicdex on this machine (Ubuntu 18.04) a couple months ago, but getting this now: https://pastebin.com/5hXwcsBr

{Embed}
https://pastebin.com/5hXwcsBr
"g++"  -ftemplate-depth-512 -pthread -O3 -finline-functions -Wno-in...
Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.


[29-Jul-20 03:10 AM] artem.pikulin#0794
@tolken Hi! Could you please run `cargo clean` and then `cargo build --features native -vv 2>&1 | tee build.log`? After compilation completes please DM me the `build.log` file.


[29-Jul-20 08:50 AM] tolken#2655
absolutely - DM'd log @artem.pikulin


[30-Jul-20 12:53 PM] tolken#2655
!kmdtip @artem.pikulin 10


[30-Jul-20 12:53 PM] KMD TipBot#0077

{Embed}
TipBot
@tolken (tolken#2655)
You tipped @artem.pikulin **10 KMD**


[30-Jul-20 12:54 PM] tolken#2655
thanks again for your help @artem.pikulin just a mem issue as you suggested.

{Reactions}
üëç ü§ù 

[31-Jul-20 12:25 PM] tolken#2655
I'm wrapping some api calls (such as buy/sell) and get errors like ```{'error': 'rpc:338] lp_ordermatch:1239] lp_ordermatch:1297] Base amount 0.0076 is too low, required: 0.00777'}``` Is this error fairly consistent or are the numbers like 338, 1239, 1297 dynamic? Obvious the base amount of 0.0076 is. Is there a concise list of these typica of errors listed anywhere? I'd like to catch/handle some of these responses to react accordingly.  What other errors might i anticipate with calling buy/sell the method?


[31-Jul-20 12:28 PM] cipi#4502
the numbers are line numbers in source code


[31-Jul-20 12:29 PM] tolken#2655
"get_trade_fee" in the API docs, just to clarify how this works. I'm sure there is a good reason, but why isn't this automatically done when calling buys/calls? Is Atomicdex Mobile/Pro doing this for the end user, for every transaction? Is the reason it isn't automatically done at the mm2 level just for speed/efficiency (if user isn't spending whole balance, no need to spend resources checking fees?)


[31-Jul-20 12:31 PM] tolken#2655
@cipi ok, so I should assume they're dynamic for now. Would something like this ultimately be cleaned up/removed after beta, to something more consistent?


[31-Jul-20 12:31 PM] cipi#4502
get_trade_fee is just for some GUIs that want to display the expected txfees for the swap


[31-Jul-20 12:31 PM] cipi#4502
https://github.com/KomodoPlatform/atomicDEX-API/issues/550

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/550
Error codes ¬∑ Issue #550 ¬∑ KomodoPlatform/atomicDEX-API
¬´we need a standardized error message format like {error: {code: 3, message: &quot;This is the error message&quot;, backtrace: &quot;backtrace info for mm2 devs&quot;}} as opposed t...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113

{Reactions}
üëç 

[31-Jul-20 12:33 PM] tolken#2655
I see, so the get_trade_fee is informatin only.


[31-Jul-20 12:33 PM] tolken#2655
was thinking i needed to calculate it prior to buy/sells, my mistake üòâ


[31-Jul-20 12:33 PM] cipi#4502
yes...  btw,  i am also using get_trade_fee in my mm-script and  if the value is too high, the order is removed from orderbook

{Reactions}
üëç 

[31-Jul-20 12:34 PM] tolken#2655
yeah makes a lot of sense. love it üòâ


[31-Jul-20 05:22 PM] tolken#2655
@cipi hopefully we can get the min trade size implemented soon, so we can decide with more nuance if a coin remains available on the orderbooks.


[31-Jul-20 05:23 PM] tolken#2655
I think it‚Äôs a pretty big deal really.


[31-Jul-20 05:34 PM] cipi#4502
indeed... atm it is more the hope that nobody will trade 1 USDC or something, because regardless where you set the threshold, you will loose, so the only option is to take the risk or remove the order completely... i would like to set min trade size = get_trade_fee * 100 and that's it... would solve all problems regarding fees


[31-Jul-20 09:31 PM] tolken#2655
üëç yep. that would be fantastic.


[13-Aug-20 01:15 AM] tolken#2655
Has anyone encountered an issue where MM2 stops writing swaps  to /DB/SWAPS/MY? I can't figure out what may have provoked this. I place buys and it responds as it normally has, with UUID and everything, but no files are generated in the DB, so consequently the "my_recent_swaps" doesn't return anything new. I was just using it yesterday successfully.


[13-Aug-20 01:15 AM] tolken#2655
{"datetime":"2020-07-23T13:31:41+07:00","result":"8c2bf3f91"}


[13-Aug-20 01:15 AM] tolken#2655
(output from version)


[13-Aug-20 01:17 AM] tolken#2655
Running in Ubuntu 18.04. Tomorrow I'll try a fresh atomicdex and see if that helps. Just weird, I wasn't modifying anything on that machine/config afaik, so a little curious.


[13-Aug-20 01:43 AM] artem.pikulin#0794
@tolken Hi! Your orders possibly just don't match, could you please try to call `order_status` (<https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#order-status>) using UUID of your order?


[13-Aug-20 01:44 AM] Oszy#5734
It's possibly not matching, because even Start_Failed generates a json


[13-Aug-20 11:36 AM] tolken#2655
got it, it does seem like my orders should have matched (price was right) on RICK/MORTY, been doing a lot of test trades lately. Digging back in today, probably user error as usual ;P


[13-Aug-20 01:27 PM] tolken#2655
ugg, yes user error. Had some price conversions messed up, just wasn't priced properly. Sorry about that. @artem.pikulin that was helpful, I hadn‚Äôt used that api call before.


[17-Aug-20 10:47 PM] Mylo#8306
is it possible for sendmany to be supported in mm2?


[18-Aug-20 12:40 AM] Oszy#5734
is it not just a simple json-rpc call to the electrum?


[18-Aug-20 12:51 AM] sergey.boyko0791#8143
> is it possible for sendmany to be supported in mm2?
@Mylo 
I guess it is. We could generate a transaction with more than one output and send this transaction using the same blockchain.transaction.broadcast Electrum call


[18-Aug-20 01:12 AM] Mylo#8306
Both interesting answers...
I'm exploring how to do what I need to do next.


[18-Aug-20 04:27 AM] TonyL#3577
> is it not just a simple json-rpc call to the electrum?
adex-pro have to generate raw transaction first, then broadcast by Electrumx protocol as Sergey said
there is no transaction generating methods in Electrumx protocol (https://electrumx.readthedocs.io/en/latest/protocol-methods.html) - it would be quite unsafe in such case


[18-Aug-20 04:28 AM] Mylo#8306
I captured some details some months ago, https://ikomodo.com/sign-transaction-without-daemon-with-electrum-wallet/


[18-Aug-20 04:31 AM] Mylo#8306
Thanks for link to protocol docs. Handy for other things I might need to fetch too.


[18-Aug-20 04:38 AM] Tylor zkFS#8280
When will MM2 be connected to a CEX?


[18-Aug-20 04:48 AM] Deleted User#0000
I believe cipi already does


[18-Aug-20 04:49 AM] Deleted User#0000
The code is there, making it available for the masses and to code up advanced options is what will take time.


[18-Aug-20 06:09 AM] Mylo#8306
https://ikomodo.com/atomic-swap-api-komodo/


[18-Aug-20 06:09 AM] Mylo#8306
under CEX to DEX heading, link to cipi's repo


[04-Sep-20 03:48 AM] jorian#4555
in the output of the recent mm2 builds, i see mm_metrics in the output. does this imply that we can now get information about trades, not just from yourself but from all the trades of the pair in the netid?


[04-Sep-20 03:51 AM] artem.pikulin#0794
@jorian Hi, it is internal metrics of your node that can be also collected by external software (Prometheus is supported: <https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html#dex-metrics>). This does not imply trade statistics collection for other nodes swaps, this is planned, but will be implemented later.


[04-Sep-20 03:52 AM] jorian#4555
ah, i see. thanks!


[08-Sep-20 12:47 AM] artem.pikulin#0794
Hello @everyone!

Backwards incompatible update of AtomicDEX-API coins config is scheduled on Monday, September 14th. It is required to support the QRC20 token type (ERC20 running on QTUM blockchain). Old coins config format did not actually allow us to add new token types so we added `protocol` field that can have arbitrary structure so we are able to represent any config of new coin that will be integrated in the future. If you use the recommended coins file from Github repo (<https://github.com/KomodoPlatform/coins/blob/master/coins>) you will just have to download/pull the new version. To allow smooth transition we have also added `update_config` MM2 CLI mode that will convert your custom coins config to new format, please check the guide (<https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-tutorials/coins-file-update.html>) explaining how to use it.

If you have any questions regarding the update please feel free to ask here, we will be glad to help you. Thanks for you attention üôÇ

{Reactions}
üçª (15) üëç (12) KMD (3) AtomicDEX (4) treasure (2) 

[08-Sep-20 12:49 AM] Mylo#8306
great expansion of capability!

{Reactions}
üíØ (5) 

[10-Sep-20 03:45 AM] NNoperator#3835
@artem.pikulin will this also permit us to deal with ERC-677 tokens?  This will be important soon as it is likely reddit may go this route for the great scaling bakeoff competition   https://www.reddit.com/r/ethfinance/comments/hbjyd3/the_great_reddit_scaling_bakeoff/


[10-Sep-20 03:46 AM] NNoperator#3835
I would love to be able to trade into xDAI stake and chainlink too!


[10-Sep-20 03:49 AM] NNoperator#3835
plus ERC-20 is effectively broken to most non-whales for the current time being...

{Reactions}
treasure 

[10-Sep-20 03:50 AM] artem.pikulin#0794
@NNoperator Hi, ERC-677 does not look like "officially" or community supported standard, it is not mentioned on EIPs website (<https://eips.ethereum.org/all>). However as it actually just extends ERC20 it should be already supported by AtomicDEX (<https://github.com/ethereum/EIPs/issues/677>).


[10-Sep-20 03:52 AM] NNoperator#3835
depends which community you refer to,  Chainlink and xDAI STAKE community would likely beg to differ

{Reactions}
ü•≥ 

[10-Sep-20 03:52 AM] artem.pikulin#0794
Or maybe you meant ERC777? Because I don't see mentions of ERC677 in attached reddit article, but ERC777 is mentioned.


[10-Sep-20 03:54 AM] NNoperator#3835
```Why is STAKE an ERC677?
ERC677 is very similar to an ERC20, but includes additional functionality. We use the transferandCall functionality to enable easier bridge conversions, moving STAKE from the Ethereum Mainnet to the xDai chain and back. 
For more information see the EIP677 standard https://github.com/ethereum/EIPs/issues/677. ```


[10-Sep-20 03:54 AM] NNoperator#3835
that is from STAKE FAQs


[10-Sep-20 03:55 AM] artem.pikulin#0794
As ERC677 is extension of ERC20 it is already supported by AtomicDEX.

{Reactions}
üëç 

[10-Sep-20 03:55 AM] NNoperator#3835
it is likely xDAI will be the route that the bakeoff ends up going to for the scaling solution


[11-Sep-20 01:16 PM] cipi#4502
some interesting findings, which i want to share
a paper about the fairness of atomic swaps: https://eprint.iacr.org/2019/896.pdf
new AtomicDEX thread on bct: https://bitcointalk.org/index.php?topic=5268930 containing a question if american call options can be implemented in the protocol (the 2 things are interlinked, the paper also describes an american call option implementation, but bct has the "solution" in bitcoin script)


[11-Sep-20 06:08 PM] polycryptoblog#1173
The atomic swaps for currency exchange sound like what we have with dexfee


[11-Sep-20 06:09 PM] polycryptoblog#1173
I don‚Äôt see why options couldn‚Äôt be done ?


[14-Sep-20 03:32 AM] artem.pikulin#0794
Hello @everyone! The QRC20 wallet only integration PR is merged, please make sure that you update your coins file along with MM2 update. You can download/pull new config from coins repo (<https://github.com/KomodoPlatform/coins/blob/master/coins>) or use `update_config` MM2 mode if you prefer to use coins file that is different from recommended one. 

If you have any questions or issues referred to the update please feel free to post message here, we will be glad to help you. Thanks for your attention üôÇ

{Reactions}
üëÄ (7) üëç (8) 2561_feelsevilman (3) üíØ (3) AtomicDEX (3) 

[17-Sep-20 06:38 AM] Oszy#5734
do we still have an issue with Coinbase tx'es showing up / being counted in mm2 trough electrum? 
I ran into an issue, where mm2 only shows a fraction of my real balance in the response


[17-Sep-20 06:42 AM] Oszy#5734
then i sent 100 coins to myself and balance in response went down by 2 coins


[17-Sep-20 07:04 AM] cipi#4502
https://github.com/kyuupichan/electrumx/issues/818#issuecomment-633497973


[17-Sep-20 07:08 AM] cipi#4502
@artem.pikulin maybe mm2 needs to implement it like @smkhound ?


[17-Sep-20 07:10 AM] Oszy#5734
hmmmm that could be the case


[17-Sep-20 11:21 PM] artem.pikulin#0794
@Oszy @cipi Hi! Yeah, this is the case for sure. MM2 uses only P2PKH script hash and it doesn't request balance/utxos of P2PK scripthash from Electrum. 

I've created a tracking issue for this: <https://github.com/KomodoPlatform/atomicDEX-API/issues/720>

{Reactions}
üëç 

[20-Sep-20 01:07 AM] tolken#2655
```{"error":"rpc:339] lp_commands:86] lp_coins:702] utxo_standard:32] utxo:687] utxo:904] There are no Electrums with the required protocol version OrdRange(1.2..=1.4)"} ```


[20-Sep-20 01:08 AM] tolken#2655
Getting that error when trying to enable VRSC. Using the mm2 build from 9-14, using latest coin file.


[20-Sep-20 01:08 AM] tolken#2655
https://github.com/jl777/coins/blob/master/electrums/VRSC have tried several of the electrics listed here. Any idea why I get that error?

{Embed}
https://github.com/jl777/coins/blob/master/electrums/VRSC
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/ZluS_vPUp--Ma1oFnNdhU0YaB0OEwzwGFNPA2N_uSAk/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/5962559


[20-Sep-20 01:30 AM] cipi#4502
strange, works for me
```
20 08:28:49, rpc_clients:1724] Electrum client connected to el1.veruscoin.io:17485
20 08:28:49, rpc_clients:1724] Electrum client connected to el2.veruscoin.io:17485
20 08:28:49, rpc_clients:1724] Electrum client connected to el0.veruscoin.io:17485
20 08:28:49, utxo:887] Use protocol version 1.4 for Electrum "el1.veruscoin.io:17485"
20 08:28:49, utxo:887] Use protocol version 1.4 for Electrum "el2.veruscoin.io:17485"
20 08:28:49, utxo:887] Use protocol version 1.4 for Electrum "el0.veruscoin.io:17485"
20 08:28:50, lp_coins:721] ticker = "VRSC", block_count = 1189908
```
btw, you should use https://github.com/KomodoPlatform/coins, me moved the coins repo there


[20-Sep-20 01:46 AM] cipi#4502
`curl --url "http://127.0.0.1:7783" --data "{\"method\":\"electrum\",\"coin\":\"VRSC\",\"servers\":[{\"url\":\"el0.veruscoin.io:17485\"},{\"url\":\"el1.veruscoin.io:17485\"},{\"url\":\"el2.veruscoin.io:17485\"}],\"userpass\":\"$userpass\",\"mm2\":1}"`


[20-Sep-20 12:47 PM] tolken#2655
@cipi thanks - It must have been a temporary issue last night when I reported it. I couldn't get anything VRSC to work. Tried again this morning prior to adopting your electrum config above, and it went through. No idea why that was happening.


[20-Sep-20 01:00 PM] cipi#4502
hmmm, can you try lookup or ping this electrums next time it happens? i suspect some issues with DNS of this servers


[20-Sep-20 01:33 PM] tolken#2655
Will keep an eye on it, sure thing.


[20-Sep-20 02:18 PM] tolken#2655
I see a bid that‚Äôs higher than the ask in VRSC/KMD right now, what‚Äôs the main cause of this? Timed out orders? Misconfigured mm? Saw this last night too - was there for a while. Don‚Äôt recall seeing this much before, but maybe just haven‚Äôt paid enough attention.


[20-Sep-20 02:22 PM] cipi#4502
that is "normal", the maker orders are not automatically filled against each other... so you can buy from one maker, sell it to the other and make a profit


[20-Sep-20 02:24 PM] cipi#4502
one order is likely updated based on external price, the other may be a manual order or based on some other price source üôÇ


[20-Sep-20 02:29 PM] cipi#4502
btw, i started to use the average of coinpaprika price and weighted average price from https://dexapi.cipig.net/public/ticker_24h.php?market=VRSC-KMD for VRSC/KMD, in order to reflect the volume and price from AtomicDEX, because we are not listed anywhere


[20-Sep-20 02:54 PM] tolken#2655
ah hah, got it! didn't know that, makes sense. That is cool, the orderbooks prices between adex/cex seem to be tightening, nice work üòâ Well, its on Graviex, but it might as not be listed, virtually 0 volume there.


[20-Sep-20 03:13 PM] cipi#4502
i need to add graviex to my https://github.com/cipig/mmtools, so i can do the KMD pairs there, but i fear even then, the volume will stay low
i wonder how much will happen on KMD/BTC... that would at least provide me with BTC to buy some of the other coins, like VRSC and HUSH, to put them on AtomicDEX


[20-Sep-20 04:09 PM] cipi#4502
```
2020-09-20 21:47:07 | VRSC       |  1107.00000000 | KMD        |  331.11276633
2020-09-20 21:49:06 | KMD        |   326.57901462 | VRSC       | 1107.00000000
```
well done üòâ


[20-Sep-20 04:11 PM] cipi#4502
there could be more such pairs, you just need to look


[20-Sep-20 05:46 PM] tolken#2655
hah yes, thank you for that  @cipi , can't see letting a few $ go unclaimed üòâ Yeah hard to say, across the board the exchange seems extremely low volume - I just started using/testing a couple days ago.


[20-Sep-20 10:03 PM] tolken#2655
@cipi Btw, why not just fill the KMD/BTC on another CEX? So for example, you sell VRSC/KMD on Adex, sell proceeds as KMD/BTC on another exchange - bring the BTC back to graviex. Doesn't solve te problem of aquiring VRSC if VRSC is too thin on Graviex, but can certainly get back into BTC that way if that's your goal, or if VRSC/BTC volume is more substantial than VRSC/KMD there.

{Reactions}
üëç 

[21-Sep-20 07:15 PM] tolken#2655
```order_type': {'type': 'FillOrKill'}``` Is this formatted properly (submitting via python) to set as a FillOrKill? No matter how I submit, it seems to be going on as a GTC, converting to a maker after 30sec. What might I be doing wrong?


[21-Sep-20 10:37 PM] tolken#2655
For what it's worth, I'm typing in a price for which there is no match at time of submission, but I wouldn't think this would matter.


[21-Sep-20 11:20 PM] artem.pikulin#0794
@tolken Hi! Please check DM üôÇ


[23-Sep-20 04:08 AM] jorian#4555
i still have swaps take a LOOOONG time before they finish. can anyone help me out with why this happens?


[23-Sep-20 04:09 AM] jorian#4555
in the `swapstatus` call, i see `maker_payment_confirmations`, `maker_payment_requires_nota` that apply to me as a maker. they are set to 1 and false respectively


[23-Sep-20 04:10 AM] jorian#4555
i also see `taker_payment_confirmations` and `taker_payment_requires_nota`, both also set to 1 and false


[23-Sep-20 04:10 AM] jorian#4555
is my assumption correct that the confirmation and nota data are retrieved from the taker (the other side of the trade)?


[23-Sep-20 10:40 PM] artem.pikulin#0794
@jorian Hi! Could you please DM me the full swap status and also your MM2 version? It will help to understand what can be wrong.


[23-Sep-20 11:30 PM] jorian#4555
i think what happened is that the takerpayment wasn't sent in the end, but it didn't exactly show that in the swapstatus, even after an hour or so. what happened to the `waiting for takerpayment` messages that used to exist?


[24-Sep-20 12:32 AM] artem.pikulin#0794
I'm unsure ref the `waiting for takerpayment` log, but anyway to answer the question `why my swap took long?` I need a swap status. Everything else is just guessing.


[24-Sep-20 12:10 PM] tolken#2655
Is there any disruption/problem with using setprice at a certain frequency? For example, if I want to setprice every 5-10seconds, does that force the marketmaker to broadcast the price each time and cause any inefficiencies? The reason I ask is that I see my 'order' appearing and disappearing as I watch AtomicDefi Mobile. Does using setprice cause any reset/disruption to the availability of my marketmaker?


[25-Sep-20 12:53 AM] jansako#3330
I could see one... How long does it take for the last node in the chain to see your order? (as in how the order propagates from one node to the next). If it takes longer than 5 seconds, you can never match with the last node as whenever they try to fill your order, it would I expect fail. Or they won't match because they will both turn into maker...


[25-Sep-20 12:54 AM] jansako#3330
I did notice a behavior in the UI, when orders show twice, then one of them disappear. I bet if I would have tried to match the wrong one, I would have a failed swap...


[25-Sep-20 12:55 AM] jansako#3330
Every time you setprice it, it will get a new order id right?


[25-Sep-20 12:59 AM] artem.pikulin#0794
@tolken @jansako 
Hi!
Yeah, as of now it works like this, it is planned to rework this in new protocol so order will be *updated* which will allow to avoid duplicates in such cases. However updating a price every 5-10 seconds might be too often - there will be quite high chance that entire network will always have outdated price for your orders.


[25-Sep-20 08:44 AM] cipi#4502
` Btw, why not just fill the KMD/BTC on another CEX? So for example, you sell VRSC/KMD on Adex, sell proceeds as KMD/BTC on another exchange - bring the BTC back to graviex. ` only thing is that withdrawing BTC from Binance costs 0.0004 BTC, that's like 4$... the "normal" withdraw fee for BTC on exchanges are like 0.0005, so Binance charges a bit less than the average... sending BTC from Adex to graviex or whatever is actually much cheaper
@tolken


[25-Sep-20 09:14 AM] jansako#3330
That is why we need customizable min order size üôÇ

{Reactions}
shexy 

[26-Sep-20 03:17 PM] tolken#2655
@cipi yeah, requires batching larger withdrawals unfortunately :/ hopefully with more volume on adex, that will be less of a concern.


[26-Sep-20 03:19 PM] tolken#2655
@artem.pikulin got it, thanks. I guess I‚Äôll add a price change threshold to help minimize the setprice call frequency. That should dramatically improve it for most of the time.


[27-Sep-20 08:03 PM] tolken#2655
Anyone else experiencing failed RICK/MORTY at the MakerPaymentValidateAndConfirmed step? I have done many trades before, but last day or it seems to stall there.  Message indicating that ```{"error":"taker_swap:907] !wait for maker payment confirmations: rpc_clients:121] Waited too long until 1601261196 for transaction Transaction``` I'm taker.


[27-Sep-20 08:04 PM] tolken#2655
using: ```{"result":"2d0c07ee6","datetime":"2020-09-22T14:18:23+07:00"}```


[27-Sep-20 08:10 PM] tolken#2655
That was from MM2. I tried selling RICK/MORTY via MM2 and Adex Mobile, and it went through but it took 29min for that single step. Could MM2 default to timeout earlier than Adex Mobile?


[27-Sep-20 08:29 PM] TonyL#3577
@tolken there was a problem with blocks generation for RICK/MORTY (I was block producer and nodes stuck), hopefully resolved few minutes ago. sorry for inconvenience


[27-Sep-20 08:29 PM] tolken#2655
oh no problem! good to hear, I tend to assume I'm doing something wrong ;D


[27-Sep-20 08:29 PM] tolken#2655
thank you for the headsup Tony üòâ


[27-Sep-20 08:30 PM] TonyL#3577
glad to help! thank you for this issue raising


[27-Sep-20 08:30 PM] tolken#2655
np at all.


[27-Sep-20 08:34 PM] TonyL#3577
yeah, should be fine now. just swapped

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/759981360173285376/unknown.png

{Reactions}
üëç 

[27-Sep-20 08:43 PM] tolken#2655
Great, I have another mm2/cli one going, I think it‚Äôs about done. Helped me debug some stuff on my end, so kinda glad it happened.


[27-Sep-20 09:14 PM] tolken#2655
yep, all good here.


[30-Sep-20 04:33 AM] michelvankessel#7656
Is compiling mm2 on ubuntu 20.04 possible?


[30-Sep-20 05:44 AM] michelvankessel#7656
> Is compiling mm2 on ubuntu 20.04 possible?
@michelvankessel solved.. was missing cmake (apt get install cmake)

{Reactions}
üëç (2) 

[04-Oct-20 02:03 AM] uak#6718
a BCH developer have added $500 BCH to the 1000 KMD bounty
https://github.com/KomodoPlatform/atomicDEX-API/issues/701#issuecomment-703215180

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/701
Add support for SLP tokens on the BCH network (Bitcoin colored coin...
SLP tokens are Bitcoin colored coins on the BCH network. SLP stands for Simple Ledger Protocol. SLP tokens are growing in popularity, Tether is now available as a Standard Ledger Protocol token on ...
https://images-ext-2.discordapp.net/external/RDvx2WIoH0iRzE_70DuHLDOM6rqONFcnMd4HT0XBnOI/%3Fs%3D400%26v%3D4/https/avatars2.githubusercontent.com/u/21276113


[06-Oct-20 10:11 AM] lightspeed393#5403
I'll post my question again here since it applies and will soon be lost in #ü§ù‚îÇdex-desktop. 

Is ip-block being considered for api/mm2 as well? @ca333

Originally you implyed it was just for atomicDEX-Pro because of services that will be built into the app. Which seems understandable to me. 

But your newer posts seem to imply that the DEX as a whole faces these legal challanges. It would be nice to know if this is something that will be limited to the GUI or implemented in the core as well.

Maybe @artem.pikulin can share some thoughts as well.


[06-Oct-20 10:31 AM] ca333#0333
yes, at some point such (or different form) compliance will extend to the core as well @lightspeed393


[06-Oct-20 10:32 AM] ca333#0333
But this would be only used on version we officially provide to endusers through our distribution channels - i.e. as everything we develop is 100% open source users can fork and change what they do not like in the "official" version.


[07-Oct-20 09:06 PM] Golden Goose üëë#8199
I really liked @Crabby Paddy ‚Äôs idea. Would something like his suggestion be implementable into atomicdex now or in the future?

From what I gather, if atomicswaps can have a set time limit for the lock function, then it should be workable. 

For those who aren‚Äôt in the channel to see, his idea was to allow a different type of order (can be highlighted or somehow differentiated between normal atomicdex orders)

For the buyer they would see a sell order and understand it may take 2-3 hours to complete. They accept and atomic swap process begins. They send their btc and it is time locked. 

Once confirmed, the seller will have a bot running on binance which has his btc funds on it. It will buy the coin that person a was wanting to buy. It then withdraws to atomicdex where the rest of the process for the atomicswap will occur. 

My understanding is this
1) allow special orders which have a longer time limit of locking funds for buyer
2) create a bot or use existing trading software to buy and withdraw from binance

If the above are possible, then the potential will increase multiple times over. 

I understand where he comes from on the illiquidity side. If I have 5 btc, and if atomicdex can grab price feed off coin marketcap or binance directly for special orders, then I could put up 5btc and atomicdex has the special order up. 

It would then have 5btc volume on every possible btc-> alt pairing on binance or my exchange of choice, since I wouldn‚Äôt need to hold any altcoins to market make. 

I could set my spread to say 3%, so every time anyone takes a btc -> any coin trade, the buyer would lock up their coins, then my bot would buy and make me 3% profit in btc and I would never risk holding other coins


[07-Oct-20 09:06 PM] Golden Goose üëë#8199
Something like that


[07-Oct-20 09:06 PM] Golden Goose üëë#8199
Otherwise even if it‚Äôs a Komodo team only type deal where only kmd team can do it (btc on binance rather than atomicdex -> binance to speed up trade) or reputation based system to allow this to run more fluidly


[07-Oct-20 09:07 PM] Golden Goose üëë#8199
I too would use something like that if it was possible in the future


[07-Oct-20 09:07 PM] Golden Goose üëë#8199
call it exchange yield farming üòÇ


[07-Oct-20 09:07 PM] Golden Goose üëë#8199
I don‚Äôt like the idea that if no one wants to hold a coin like nrg, then there‚Äôs no liquidity to trade it


[07-Oct-20 09:08 PM] Golden Goose üëë#8199
But with this system there would be unlimited liquidity for nrg even without holders


[07-Oct-20 09:35 PM] Crabby Paddy#6239
:abusedsmily: hi cryptoau. I don‚Äôt have any knowledge on how atomic swaps work, nor do I know if it‚Äôs even possible to have person a accept an order and have the Funds timelocked for a set period (enough time for person bs bot to buy on binance) or whether person A‚Äôs funds can be locked somehow until set time / swap is completed


[07-Oct-20 09:35 PM] Crabby Paddy#6239
But I was hoping for discussion on other solutions on how to bring liquidity rather than just having more people using / more people market making


[07-Oct-20 09:36 PM] Crabby Paddy#6239
Because even so, the smaller pairs would have issue with liquidity in the long run, hence my suggestion


[07-Oct-20 09:44 PM] Mylo#8306
atm, the utxo needs to be available to trade.
in the crabby paddy model of filling the order by running-around-to-get-the-utxo-once-we-have-the-taker, something needs to change, because the 2nd step (after taker pays dexfee) is maker sending payment
https://i1.wp.com/ikomodo.com/wp-content/uploads/2020/01/iKomodo-atomic-swaps.png?ssl=1

step 2 would need to include a pre-step
maker sends payment to self (locked for XX hours)
maker goes to fill the CEX order to get the correct coin

step 2 then resumes maker sends correct coin 

at this point, price has changed a lot.

{Embed}
https://i1.wp.com/ikomodo.com/wp-content/uploads/2020/01/iKomodo-atomic-swaps.png?ssl=1
https://images-ext-2.discordapp.net/external/GGAptqXeg0x_haYSGkZbq3DLKrhC9LCQEwAQ3BdctgU/%3Fssl%3D1/https/i1.wp.com/ikomodo.com/wp-content/uploads/2020/01/iKomodo-atomic-swaps.png


[07-Oct-20 09:48 PM] Crabby Paddy#6239
What if


[07-Oct-20 09:49 PM] Crabby Paddy#6239
The maker is Komodo team or reputable person only. Rather than having btc on atomicdex which is then sent to binance, the btc are already on binance. Therefore as soon as taker sends payment for locking, maker buys instantly


[07-Oct-20 09:49 PM] Crabby Paddy#6239
üòß price moving later doesn‚Äôt matter for long term holders or day buyers. Ie if taker accepts the price at current shown, then that is price they will get as maker will buy the moment that taker has sent funds.


[07-Oct-20 09:50 PM] Crabby Paddy#6239
Or am I missing a critical step somewhere


[07-Oct-20 09:50 PM] Crabby Paddy#6239
Still don‚Äôt have my head around how the swap fully occurs üòÖüòÖ


[07-Oct-20 09:51 PM] Mylo#8306
read that yellow infographic.


[07-Oct-20 09:51 PM] Mylo#8306
it is same text as atomicdex website


[07-Oct-20 09:52 PM] Mylo#8306
turn off the internet on some of your swaps (with RICK/MORTY)


[07-Oct-20 09:52 PM] Crabby Paddy#6239
Ah maker pays first


[07-Oct-20 09:53 PM] Mylo#8306
maybe vrsc reserve currency liquidity pool ismore suited for what you want?


[07-Oct-20 09:53 PM] Mylo#8306
i'm sure it is possible in a complicated protocol routing-cum-payment-routing way


[07-Oct-20 09:55 PM] Crabby Paddy#6239
Haven‚Äôt actually looked at verus dex, but I‚Äôll get into it üòÅ


[08-Oct-20 08:43 PM] tolken#2655
@Crabby Paddy , @cipi posted an interesting potential solution to this. Very detailed explanation of how it would work, although I‚Äôm not sure how difficult it would be to implement. https://eprint.iacr.org/2019/896.pdf


[15-Oct-20 09:24 PM] tolken#2655
I had a situation RICK/MORTY orderbooks were only returning my own orders (where other markets were fine) - restarting fixed it. Is there anything I can do to help debug this if I see it again? I only noticed it once so far. I had another device on same network that showed the full order book for reference.


[15-Oct-20 09:27 PM] tolken#2655
Maybe not worth worrying about with the new order matching protocol update coming?


[15-Oct-20 11:01 PM] artem.pikulin#0794
@tolken Hi! As it was fixed with simple restart I think we don't have to worry about this issue. And yeah new protocol is coming very soon so it's better to keep focus on it.

{Reactions}
üëç 

[23-Oct-20 07:09 AM] Crabby Paddy#6239
Is there any way to do yield / interest on say BTC loaned for traders, but using own keys on ledger or atomicdex?

Something like people can pool btc in and get paid interest on the pooled btc. 
Alice sends btc to an address she controls but doesn‚Äôt have complete private key to yet. 
Bob takes out btc for margin trading. 
Btc is then given to bob from the pool, while he pays interest to address Alice controls but doesn‚Äôt have full key / can‚Äôt withdraw. 

When Alice decides or when the time limit is reached, she gets rest of oeubto access her original funds + interest paid by bob?


[23-Oct-20 07:09 AM] Crabby Paddy#6239
Semi drunk üòÖ might not be making sense. But like margin loan from own wallet / keys idea


[23-Oct-20 07:10 AM] Crabby Paddy#6239
Collateralised in btc for a btc loan or something


[23-Oct-20 07:12 AM] Crabby Paddy#6239
Also suggestion for user friendliness, would be kinda cool to have a forced 1 minute tutorial / test when first opening up the dex. 

Something like those old school tutorials. Pop up box with arrow pointing to trade *click here to initiate a trade*

Next pop up ‚Äúselect pairs morty and Rick‚Äù

Next pop up ‚ÄúAlice locks up funds in  xx‚Äù ‚Äúexplanation of what an atomic swap is‚Äù


[23-Oct-20 07:16 AM] Crabby Paddy#6239
Doesn‚Äôt even have to be a real trade could just be a simulated one with preset screenshots


[23-Oct-20 08:30 AM] jansako#3330
If bob cannot withdraw, how can he 'trade' with these BTC? If he can't trade (them away), why would he borrow them?


[23-Oct-20 01:03 PM] Deleted User#0000
@Crabby Paddy what if they deposit KMD at 4:1 for the BTC, they lose the ability to take the reward for the duration of the loan plus a % in interest when they pay back


[31-Oct-20 03:28 PM] lightspeed393#5403
I know you can use the same coins to set orders on multiple pairs, but is it possible to set multiple orders on the same pair? Whenever I try it cancels the first order and I'm not sure if I'm just doing something wrong or if it's designed like this. Similar to a CEX, I'd like to be able to set orders at different prices/quantities on one pair.


[31-Oct-20 03:43 PM] jansako#3330
Are you doing UI or CLI? I will assume CLI if you are in this channel. There used to be 2 ways to set an order, 'setprice' and one more. One of them would do what you are describing, it would cancel the existing order on that pair. Sorry I cannot be more specific, the mm2 documentation should have the details.


[31-Oct-20 03:45 PM] lightspeed393#5403
Yes I'm talking about cli. I was trying to set multiple orders using `setprice` and it would cancel the previous. I'll check out `buy` and see if that allows 2


[31-Oct-20 03:47 PM] jansako#3330
I believe 'setprice' is meant for bots, once the price changes, a new 'setprice' order will move the bot price point higher or lower.


[31-Oct-20 03:47 PM] jansako#3330
that way you do not need to issue 2 calls


[31-Oct-20 03:51 PM] lightspeed393#5403
That makes sense, thanks @jansako I'm gonna play around


[31-Oct-20 03:57 PM] jansako#3330
yeah, it is used for an arbitrage the bot that watches an external (CEX) price, then adjusts the DEX price accordingly. Then it can sell/buy on CEX after it made a DEX trade. Very promising, but I haven't looked at it for ages... they were talking about integrating it to AtomicDex a while ago https://github.com/smk762/mmbot_qt/releases
Have fun!

{Embed}
https://github.com/smk762/mmbot_qt/releases
Releases ¬∑ smk762/mmbot_qt
MarketMaker2 BobBot GUI for pythonQT. Contribute to smk762/mmbot_qt development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/6xcX3Z50JaMIMuZ9mAXOpQv_L8FfDr-TLGFP0GMRbbU/%3Fs%3D400%26v%3D4/https/avatars3.githubusercontent.com/u/35845239


[31-Oct-20 04:08 PM] lightspeed393#5403
I should've read the docs better. Setprice can be used with `cancel_previous=false`


[01-Nov-20 10:53 AM] tolken#2655
@lightspeed393  Setprice modifies the existing order price each time (by default) Buy or Sell defaults to GTC orders, which convert from taker to maker orders if not matched after 30sec and will not cancel previous by default. In other words, if you make a bunch of taker orders that don‚Äôt get immediately matched, you‚Äôll get a bunch of maker orders stacked in the orderbooks.

{Reactions}
üëç 

[01-Nov-20 10:59 AM] tolken#2655
Found out the hard way early on, made a bunch of unsuccessful taker orders, cluttered orderbooks with maker orders until I added the FillOrKill flag to buy/sell requests.


[01-Nov-20 11:12 AM] lightspeed393#5403
Thanks for the info @tolken , I did some testing and I'm good to go for now.


[03-Nov-20 11:27 PM] artem.pikulin#0794
@everyone We have started a new developer bounty campaign. If you're interested in developing AtomicDEX PoCs for SLP or EWT, read this blog post for more details and comment directly on the GitHub issue pages.
https://komodoplatform.com/atomicdex-developer-bounties-november-2020/

{Embed}
Artem Pikulin
https://komodoplatform.com/atomicdex-developer-bounties-november-2020/
AtomicDEX Developer Bounties - Komodo
We have assigned two developer bounties for AtomicDEX integration PoC demos. Check out the descriptions below and comment on the GitHub issue pages if you‚Äôre interested in participating. ' Bounty #1: SLP PoC 1,000 KMD for a developer who can provide an HTLC proof of concept fo...
https://images-ext-2.discordapp.net/external/30DYRKsh2-VWNTGKds_Bp0by8J0gJOUiUXcKw1ZBQuA/https/komodoplatform.com/wp-content/uploads/2020/11/Komodo-Banner-Bounty-Campaign-Dark_Top.png

{Reactions}
AtomicDEX (6) ca333 (3) üíØ (3) üëç 

[04-Nov-20 02:56 AM] vogelfreund88#4534
Ewt üëç


[04-Nov-20 05:40 AM] daemonfox#6136
> Is there any way to do yield / interest on say BTC loaned for traders, but using own keys on ledger or atomicdex?
> 
> Something like people can pool btc in and get paid interest on the pooled btc. 
> Alice sends btc to an address she controls but doesn‚Äôt have complete private key to yet. 
> Bob takes out btc for margin trading. 
> Btc is then given to bob from the pool, while he pays interest to address Alice controls but doesn‚Äôt have full key / can‚Äôt withdraw. 
> 
> When Alice decides or when the time limit is reached, she gets rest of oeubto access her original funds + interest paid by bob?
@Crabby Paddy pretty sure you are describing what Verus will be doing once the DeFi pieces launch


[04-Nov-20 05:41 AM] daemonfox#6136
its just not atomicswaps


[04-Nov-20 05:41 AM] daemonfox#6136
But maybe a Verus token of a real coin can be atomic swapped?


[04-Nov-20 09:09 AM] jansako#3330
"Bob takes out btc for margin trading. 
Btc is then given to bob from the pool,..."
Why would he ever give it back? And if it is locked against being moved, you can't atomic swap with it so what is the point? Maybe I am just not seeing it?


[04-Nov-20 09:19 AM] jansako#3330
Possibly something like locking a bunch of collateral which would be used in say the Verus Liquidity pool or some such. But now we have crypto loans rather than margin trading. I don't think Atomic swaps lend themselves to that kind of thing. 

Now automated crypto-loans backed by other coins, there is an idea!
- send crypto XXX to a 'b-address' (a temporary address that no 'person' has the private keys)
- receive BTC at say 30% value of your 'locked' crypto
- return the BTC + interest 
- receive your XXX crypto back
- if the collateral goes to under 50% get margin called (or add more crypto XXX to maintain >50% collateral), your crypto gets Atomic swapped or Verus Liquidity pool swapped

No idea if the current CC or Verus smart contract capabilities would be able to handle something like this... Then you got the gorilla to deal with, the legal issues... I ain't touching this for sure üôÇ


[04-Nov-20 09:34 AM] Mylo#8306
@jansako https://ikomodo.com/collateralized-stablecoin-backed-by-crypto-assets/
blockchain financial products section.

the price feed oracles section links to decentralized oracle technology developed by jl777.  it is not production ready nor in active development it seems, and a reason kmd has partnered with band protocol for scalable oracle technology

https://medium.com/bandprotocol/komodo-strategically-partners-and-integrates-band-protocol-into-flagship-decentralized-exchange-3904e68f1a96

{Embed}
iKomodo Mylo
https://ikomodo.com/collateralized-stablecoin-backed-by-crypto-assets/
Collateralized Stablecoin Backed By Crypto Assets - iKomodo P2P
Collateralized stablecoin issuance within custom DeFi products can be done with the right blockchain building blocks. Oracles, price feeds & pegs.
https://images-ext-2.discordapp.net/external/7QUXR3MC0E-K8r-l52py1YxHnIrJjQOC8XaA039QTfI/%3Ffit%3D1280%252C720%26ssl%3D1/https/i1.wp.com/ikomodo.com/wp-content/uploads/2020/02/komodo-stablecoin.jpg

{Embed}
https://medium.com/bandprotocol/komodo-strategically-partners-and-integrates-band-protocol-into-flagship-decentralized-exchange-3904e68f1a96
Komodo Strategically Partners and Integrates Band Protocol into Fla...
Komodo, the blockchain industry‚Äôs first open composable smart chain platform, has chosen to integrate Band Protocol for scalable price‚Ä¶
https://images-ext-2.discordapp.net/external/kb1EuwGWzEr-Q5bNBAqYt2rxUF47-GEaNko3yoAmJ0A/https/miro.medium.com/max/1200/0%2A_yS0-ziAPz0wriJo


[04-Nov-20 09:43 AM] jansako#3330
Cool, thank you sir! Check it out @Crabby Paddy  if you have not seen it already.


[04-Nov-20 10:41 AM] Roger#1320
Hi there could anyone  point me to a developer that could help us create a smart contract based on                                                                                                                            
 Smart contract allowing to exchange our ILN coin (Komodo based) for a ECR 20 Token. 

From ILN to ECR20

The exchange rate would be. The ILN coin is linked to gold price and the ECR 20 rate would be got from Uniswap.

From ECR20 to ILN

The exchange rate would be. The amount of ecr20 token in circulation  divided by the amount of ILN token converted.
I believe this can be done using tools built by Komodo. Any help would be greatly appreciated .


[05-Nov-20 12:41 AM] jl777c#5810
@Mylo i dont know of any bugs with DTO, but if nobody will use it, then there are not DTO available to use


[05-Nov-20 12:42 AM] jl777c#5810
so not sure what more development is needed, what is needed is for someone to use it to create a blockchain consensus enforced price feed


[05-Nov-20 12:43 AM] Mylo#8306
you're not wrong.

when i said "not ready for production", maybe i should have said, "turnkey".


[05-Nov-20 12:44 AM] jl777c#5810
making people having to launch a chain,  isnt turnkey enough. sigh


[05-Nov-20 12:44 AM] jl777c#5810
allowing people to specify custom URL to get pricefeed isnt turnkey enough


[05-Nov-20 12:44 AM] jl777c#5810
certainly we cant be doing everything for everyone to make their lives easier, if they add no value to the process, then they are not adding any value


[05-Nov-20 12:45 AM] Mylo#8306
i haven't looked at docs in 12 months.  if it's turnkey why isn't one running?


[05-Nov-20 12:45 AM] jl777c#5810
because nobody bothered to launch a chain with the DTO enabled


[05-Nov-20 12:45 AM] jl777c#5810
and keep it running


[05-Nov-20 12:46 AM] jl777c#5810
because why? we didnt make a gui so they can click a button to launch the chain? no idea why nobody did


[05-Nov-20 12:47 AM] jl777c#5810
anybody could have launched a DTO chain in the last year and half and then we would have that chain.


[05-Nov-20 12:47 AM] jl777c#5810
not sure what "turnkey" aspect is required


[05-Nov-20 12:49 AM] jl777c#5810
DTO actually requires less work than oracles CC


[05-Nov-20 12:49 AM] Mylo#8306
well if there's an opportunity i'll check it out.


[05-Nov-20 12:49 AM] jl777c#5810
to launch a chain that has it active


[05-Nov-20 12:50 AM] Mylo#8306
make something basic so there is one implementation available to point to


[05-Nov-20 12:50 AM] Mylo#8306
thanks for your input @jl777c üëç


[05-Nov-20 12:50 AM] jl777c#5810
https://github.com/dimxy/komodo/wiki/%27Prices%27-module-configuration-notes

{Embed}
https://github.com/dimxy/komodo/wiki/%27Prices%27-module-configuration-notes
dimxy/komodo
Komodo. Contribute to dimxy/komodo development by creating an account on GitHub.
https://images-ext-2.discordapp.net/external/FG7_8N0jtCftKtsAk7K5U05eeO1dpQWPnEQ9A5NQLBI/%3Fs%3D400%26v%3D4/https/avatars0.githubusercontent.com/u/21120539


[05-Nov-20 12:51 AM] jl777c#5810
we had a testchain for a while, even with charts


[05-Nov-20 12:51 AM] jl777c#5810
that was over a year ago


[05-Nov-20 12:52 AM] jl777c#5810
one of the reasons i stopped making new tech is that the tech i made is not used, so there seems not much point to make even more tech that nobody uses


[05-Nov-20 12:52 AM] Mylo#8306
yeah i wrote about it in tech tuesday in 2019.
it did not seem to be moved from testing


[05-Nov-20 12:53 AM] Mylo#8306
> one of the reasons i stopped making new tech is that the tech i made is not used, so there seems not much point to make even more tech that nobody uses

100% understand


[05-Nov-20 12:53 AM] Mylo#8306
i would do the same.


[05-Nov-20 12:53 AM] jl777c#5810
it was tested and no bugs found that i know of, so then are we supposed to launch a production chain with it? that requires some team dedicated to such a chain


[05-Nov-20 12:53 AM] jl777c#5810
but i saw the problem with aggregated oracles, their prices can be manipulated and take advantage of, like we have seen


[05-Nov-20 12:54 AM] jl777c#5810
DTO wont allow all of the usecases that a realtime pricefeed would, but it also avoids the $30 million "hack" that abuses the oracles


[05-Nov-20 12:54 AM] jl777c#5810
aggregated oracles are good when you have a specific publisher you want data from, but not when it is used as a basis for other contracts price resolution


[11-Nov-20 10:26 AM] chaubunhtha#9256
@jl777c


[22-Nov-20 11:45 PM] tolken#2655
@artem.pikulin when calling ‚Äúmy_balance‚Äù  When, if ever, should I expect to see a ‚Äúlocked_by_swaps‚Äù  in the response? I kept checking my balance through a swap and haven‚Äôt seen that data. I need a balance that reflects my ‚Äòfree‚Äô balance, so I figured there must be a ‚Äòlocked_by_swaps‚Äô value somewhere that I could deduct from it, but I‚Äôm not seeing it anywhere.  I only get coin, balance and address data.


[23-Nov-20 12:08 AM] tolken#2655
Weird, my mobile Adex-mobile, won‚Äôt currently match with my maker, but my maker will take from the Adex-mobile immediately after the Adex-mobile converts the order to a maker job.


[23-Nov-20 12:09 AM] tolken#2655
I‚Äôve done this successfully between these two before, so not sure why its behaving like this now, have had many takers successfully trading from my primary maker today.


[23-Nov-20 12:25 AM] tolken#2655
Just saw another taker take from my primary maker... so assuming the issue is my Adex-mobile. /me shrugs


[23-Nov-20 12:34 AM] tolken#2655
Successfully used another machine mm2 setup on same network to take from primary maker, going fine. I wonder what could be up with the Adex-mobile (using latest IOS version)


[23-Nov-20 01:27 AM] artem.pikulin#0794
@tolken Hi! `locked_by_swaps` field was removed from `my_balance` response some time ago. It requires additional calls to coin RPCs in some cases which we would like to avoid as GUIs call `my_balance` quite frequently. `locked_by_swaps` can be returned using another new RPC, please let me know if it will be useful for you.


[23-Nov-20 01:30 AM] artem.pikulin#0794
> Weird, my mobile Adex-mobile, won‚Äôt currently match with my maker, but my maker will take from the Adex-mobile immediately after the Adex-mobile converts the order to a maker job.
Could you please try to match your order from GUI and then DM me the logs?


[23-Nov-20 02:18 AM] tolken#2655
Sure, i have to get some sleep but I‚Äôll make a note to grab logs and send to you asap


[23-Nov-20 02:20 AM] tolken#2655
unless you can think of a better way, yes it seems like I would need the lock_by_swaps. Maybe I should just use max_taker_vol, I was sort of calculating that myself, but if it properly estimates the actual usable balance, that would do what I need.


[25-Nov-20 05:13 PM] tolken#2655
Having difficulty getting log from Adex-mobile. Still get it sorted then get the logs to you.


[25-Nov-20 10:33 PM] artem.pikulin#0794
Hi @tolken! 
> Maybe I should just use max_taker_vol
Yeah, `max_taker_vol` takes everything required into account (balance, miner fees, funds locked by other swaps) and returns the amount that can be passed to `sell` call as is. For coins with fixed fee the resulting trade should leave no dust at all on your address. For more precise calculation please consider using it with `trade_with` arg, e.g.:
```
{
    "userpass": $userpass,
    "method": "max_taker_vol",
    "coin": "MYCOIN1",
    "trade_with": "KMD"
}
```
It is not mentioned in docs yet.


[26-Nov-20 05:27 PM] Roger#1320
hi all, I am new to here, ok so can a market maker with a komodo based coin and at ecr 20token be set up on atomic dex and if yes is there anyone can give me a hand or point in the right direction


[26-Nov-20 08:45 PM] gcharang#6833
if you are familoar with cli, you can follow the guide here for basics: https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html
and further customize the scripts for your use. If not, you can use the AtomicDEX desktop.

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html
How To Become a Liquidity Provider on AtomicDEX
The following tutorial introduces the reader to a simple method to become a liquidity provider on the main network of the AtomicDEX software.
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[29-Nov-20 10:59 AM] Patrick Crypto#1546
Can someone tell me what this means? [2020-11-29T18:57:57Z INFO  atomicdex_gossipsub::behaviour] HEARTBEAT: relays low. Contains: 0 needs: 2


[29-Nov-20 11:22 AM] Patrick Crypto#1546
My orders aren't being broadcast after updating to the latest binary and new coins format


[29-Nov-20 11:15 PM] TonyL#3577
Hi @Patrick Crypto ! It looks like you've switched to new mm2.1 with reworked networking stack which is not compatible with current 9999 netid network. Please use binary from `mm2` branch until the official announcement


[30-Nov-20 06:45 AM] lightspeed393#5403
Congrats @artem.pikulin, @sergey.boyko0791, and the rest of the team on the mm2.1 release. üëè


[30-Nov-20 07:34 AM] sergey.boyko0791#8143
@lightspeed393 thank you so much üòÅ


[30-Nov-20 08:21 AM] artem.pikulin#0794
@lightspeed393 Thanks a lot! Please consider this as release candidate and wait for further announcements üôÇ It is not compatible with existing MM2 netid 9999 network and not included in GUIs yet.

{Reactions}
üëç 

[01-Dec-20 07:47 AM] Patrick Crypto#1546
That worked thanks


[02-Dec-20 02:58 PM] tolken#2655
@artem.pikulin thanks for the tip on trade_with, I‚Äôll give that a shot. btw, sent you mobile and mm2 logs DM.

{Reactions}
üëå 

[03-Dec-20 07:00 PM] tolken#2655
Will the stress test use mm2.1?

{Reactions}
üëçüèª (2) 

[07-Dec-20 10:33 PM] tolken#2655
Seem to be running mm2.1 successfullly so far, just did first rick/Marty swap.


[07-Dec-20 10:34 PM] tolken#2655
Seeing a weird thing though where the mobile mm2.1 leaves keeps broadcasting order even though it doesn‚Äôt have any active orders, other than that so far so good.


[07-Dec-20 11:12 PM] artem.pikulin#0794
Hi @tolken!
> Will the stress test use mm2.1?
Yes, stress test will run on top of mm2.1 network.
> Seeing a weird thing though where the mobile mm2.1 leaves keeps broadcasting order even though it doesn‚Äôt have any active orders
Could you provide more info on this please? Do you receive "maker order" sound notifications from mobile app even when you don't have any active maker orders?


[08-Dec-20 12:49 AM] tolken#2655
I initiated at least one ‚Äòtaker‚Äô order on adex mobile, which was converted to a ‚Äòmaker‚Äô . On the  DEX>ORDERS tab, it shows two ‚Äòorders‚Äô which both say 100% filled. There is a ‚Äòcancel‚Äô button next to each of them though. I do hear the ‚Äúmaker order placed‚Äù audio on 30 second or so intervals, which I suppose explains why its showing up. Why if both are already filled at 100% and it keeps going is strange. I suppose if I hit cancel it will stop it. @artem.pikulin


[08-Dec-20 01:20 AM] artem.pikulin#0794
@tolken Could you please DM me the screenshots and logs?


[08-Dec-20 07:01 AM] tolken#2655
I‚Äôll try again on other device as ipad (where I noticed this) the logs can‚Äôt be exported.

{Reactions}
üëç 

[10-Dec-20 10:17 PM] CHMEX#0686
`{
  "error": "rpc:233] lp_commands:85] lp_coins:709] utxo_standard:50] utxo:833] utxo:1050] Failed protocol version verifying of at least 1 of Electrums in 5 seconds."
}
{
  "error": "rpc:233] lp_coins:1022] No such coin KMD"
}` @artem.pikulin why idea what I'm missing i recompiled the latest mm2.1 version downloaded and saved the coins file in the mm2 folder and still it complains it can find the coin


[10-Dec-20 10:19 PM] CHMEX#0686
I try to connect to an electrum which usualy works however it appears it does not locate the coins file properly is there a way to force mm2 to take a specific coins file by argument?


[10-Dec-20 11:53 PM] artem.pikulin#0794
@CHMEX Hi! Could you please provide a full JSON of `electrum` request that you send to MM2? 
The KMD is not activated on your MM2 instance because of `Failed protocol version verifying`.
The `lp_coins:1022] No such coin KMD"` error comes from `set_required_confirmations` call that can not be made on inactive coin. So there seems to be no issue with coins file, the problem is with Electrum call or selected Electrum servers.


[11-Dec-20 04:19 AM] CHMEX#0686
@artem.pikulin thank you verybmuch that worked now looks like someting was strange in the parsing of the file if i do it manual it works

{Reactions}
üëç 

[13-Dec-20 10:47 PM] CHMEX#0686
@artem.pikulin how do I recover those fund from swaps that failed because the other party did not continue?
it's now 12 hours for some of them

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/787933666810003466/unknown.png


[13-Dec-20 10:53 PM] CHMEX#0686
btw:
"method":"my_recent_swaps"
is the things that eats the memory


[13-Dec-20 10:55 PM] artem.pikulin#0794
Swaps in MakerPaymentWaitRefund state should end up with refund automatically. Please wait until Finished event appears is swap status. If funds are not refunded please use `recover_funds_of_swap` call. <https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-api.html#recover-funds-of-swap>

{Reactions}
üëç 

[13-Dec-20 10:55 PM] CHMEX#0686
restarted it and it used 50MB or so
executed `my_recent_swaps` and it used 500MB
executed a second time it uses 1100MB 
executed again and than it used 1600MB


[13-Dec-20 10:55 PM] CHMEX#0686
So I shall just wait than thanks will monitor it


[13-Dec-20 11:01 PM] artem.pikulin#0794
> executed my_recent_swaps and it used 500MB
> executed a second time it uses 1100MB 
> executed again and than it used 1600MB
Interesting, what do you use to check memory consumption?


[13-Dec-20 11:01 PM] CHMEX#0686
htop I hope that is correct


[13-Dec-20 11:02 PM] CHMEX#0686

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/787937425640521728/unknown.png


[13-Dec-20 11:02 PM] artem.pikulin#0794
Could you please show a full screen of htop output?


[13-Dec-20 11:03 PM] CHMEX#0686
sent in pm

{Reactions}
üëå 

[18-Dec-20 08:38 AM] Patrick Crypto#1546
Getting these errors in my log: 

‚ö° 2020-12-17 07:15:25 +0100 [seed_connection 195.201.116.176:47772] Connected
‚Ä¶ 2020-12-17 07:15:25 +0100 [seed_connection 46.4.87.18:47772] Connecting‚Ä¶
üòü 2020-12-17 07:15:25 +0100 [seed_connection 46.4.87.18:47772] Connection error Connection refused (os error 111)
‚Ä¶ 2020-12-17 07:15:25 +0100 [seed_connection 46.4.78.11:47772] Connecting‚Ä¶
üòü 2020-12-17 07:15:25 +0100 [seed_connection 46.4.78.11:47772] Connection error Connection refused (os error 111)
üòü 2020-12-17 07:15:55 +0100 [seed_connection 195.201.116.176:47772] Didn't receive any data in 30 seconds, dropping connection


Orders are not being broadcast


[18-Dec-20 08:44 AM] sergey.boyko0791#8143
mm2.1 is the current maintained branch. Please try to checkout this branch and retry


[18-Dec-20 08:45 AM] Patrick Crypto#1546
[MM2 v2.0.2712


[18-Dec-20 08:45 AM] Patrick Crypto#1546
I tried 2.1 before and was getting different errors and TonyL said to use the other=/


[18-Dec-20 08:46 AM] sergey.boyko0791#8143
Hmm, ok üòÑ


[18-Dec-20 08:47 AM] Patrick Crypto#1546
https://discord.com/channels/412898016371015680/449950331577565194/782867294141153280


[18-Dec-20 08:47 AM] sergey.boyko0791#8143
What error do you get on 2.1?


[18-Dec-20 08:47 AM] Patrick Crypto#1546
[2020-11-29T18:57:57Z INFO  atomicdex_gossipsub::behaviour] HEARTBEAT: relays low. Contains: 0 needs: 2


[18-Dec-20 08:48 AM] sergey.boyko0791#8143
Ok thanks, I see


[18-Dec-20 08:51 AM] Patrick Crypto#1546
Thought maybe reverting to old coins file would help but didn't


[18-Dec-20 08:53 AM] sergey.boyko0791#8143
Did you use `netid: 9999` field in your mm2 conf? If so, try to remove this field or set it to `netid: 7777`


[18-Dec-20 08:55 AM] Patrick Crypto#1546
It is 9999 yes


[18-Dec-20 08:56 AM] sergey.boyko0791#8143
Please try to run mm2.1 with `netid: 7777` (or remove this field)


[18-Dec-20 09:00 AM] Patrick Crypto#1546
Did I miss the announcementüòÜ


[18-Dec-20 09:12 AM] Patrick Crypto#1546
vrsc did not seem to activate for some reason


[18-Dec-20 09:16 AM] Patrick Crypto#1546
restarted and now it did... hopefully my orders start appearing

{Reactions}
üëç 

[18-Dec-20 09:19 AM] Patrick Crypto#1546
nothing so far


[18-Dec-20 09:25 AM] sergey.boyko0791#8143
I didn't understand a little what you meant :D
> > [2020-11-29T18:57:57Z INFO  atomicdex_gossipsub::behaviour] HEARTBEAT: relays low. Contains: 0 needs: 2
Orders start appearing, therefore this log entry doesn't appear more?


[18-Dec-20 09:26 AM] sergey.boyko0791#8143
> vrsc did not seem to activate for some reason
Could you please show the electrum/enable RPC call?
Eg `curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"test123\",\"method\":\"electrum\", ...}"`


[18-Dec-20 09:44 AM] Patrick Crypto#1546
Sorry, trying to update something


[18-Dec-20 09:59 AM] Patrick Crypto#1546
was using SMKs tui, tried to update it and broke everything. bleh


[20-Dec-20 12:11 AM] tolken#2655
@artem.pikulin max_taker_vol, I‚Äôm passing trade_with arg, trying with and without and don‚Äôt seem to see any difference in output. Trying coin ‚ÄúKMD‚Äù and trade_with ‚ÄúBTC‚Äù, or flipped, doesn‚Äôt seem to make a difference.  How different should the results be, what should I expect?


[21-Dec-20 02:31 AM] artem.pikulin#0794
@tolken Hi! There is a 10% dex_fee discount for all swaps involving KMD. You should see a difference when you call `max_taker_vol` for BTC without `trade_with` and with `trade_with:KMD`.


[21-Dec-20 11:26 AM] tolken#2655
```{'userpass': ‚Äòxxxx‚Äô, 'method': 'max_taker_vol', 'coin': 'BTC'}
{'result': {'numer': '787823', 'denom': '100000000'}}

{'userpass': 'xxxx', 'method': 'max_taker_vol', 'coin': 'BTC', 'trade_with': 'KMD'}
{'result': {'numer': '787823', 'denom': '100000000'}}```


[21-Dec-20 11:27 AM] tolken#2655
@artem.pikulin Odd though, I swear I saw it working once, so not ruling out that I‚Äôm doing something wrong but it seems fairly straight forward. Not sure why its returning the same thing both ways. Using "result":"2.1.2793_mm2.1_19701cc87_Linux_Release","datetime":"2020-12-04T18:04:20+07:00"}


[27-Dec-20 08:39 PM] tolken#2655
Anyone else flooded with RICK/MORTY orderbooks from pubkey 02bb5b9d0be72e062a4e778f4ea33d25113bce22542a3ff84b480423514e791d86 ? What‚Äôs the best course of action when this sort of thing happens? THere are about 25 orders on both bid/asks showing up on my end. I guess I can do a simple local blacklist, but seems like this could be a problem for typical GUI users. Assuming this is an issue for anyone else, I‚Äôm sure the future reputation system will help here, but just curious what thoughts are.


[28-Dec-20 09:52 PM] artem.pikulin#0794
@tolken Hi, thanks for testing! I will recheck it this week - there might be a bug.


[28-Dec-20 09:58 PM] artem.pikulin#0794
We can enforce the rules to have not more than N orders per 1 pair per peer. Everyone else on the network won't sync the entire order book of nodes, which doesn't comply with the rules. The N will be some reasonable number - 10 should be enough, I guess. We can also add filtering right in GUI.

{Reactions}
üëç (2) 

[01-Jan-21 11:36 AM] tolken#2655
What happens when you do a setprice with volume arg at 100KMD... and someone submits an order to ‚Äòtake‚Äô 200KMD? It will match /trade 100KMD correct? Is there any way we could possibly do a ‚Äòsetprice‚Äô without broadcasting? My concern is that I would like to reduce (increasing isn‚Äôt as important) my volume more frequently than I adjust the price. For example, lets say I‚Äôm clamping the volume to an external source that needs to update frequently, I don‚Äôt want to re-broadcast the adex order so frequently. The goal here would be to avoid orders matching that are greater than the volume of the external source - if this isn‚Äôt updated frequently enough, the likelyhood of this disparity increases. If the new external value (volume) is greater than the current setprice and I wish to tell mm2 to increase the volume, it isn‚Äôt entirely important to the taker to immediately have an accurate volume value reflected in the orderbooks - at worse they simply won‚Äôt be able to trade as much as the maker actually has available. Secondly, if my price is ‚Äòbetter‚Äô than than the last price they were offered, it isn‚Äôt always necessary for the ‚Äòtaker‚Äô to receive this new price update as their order should still match.


[01-Jan-21 11:38 AM] tolken#2655
Does this make sense?


[01-Jan-21 11:44 AM] tolken#2655
With that said, how should we handle this? Would a flag to not broadcast such a change be possible, or is there a better solution? My concern revolves around my assumption that we still shouldn‚Äôt setprice too frequently to avoid spamming the orderbooks with out of date values. However, its important that the volume is expediently clamped to this external source, perhaps more importantly than the price itself.


[02-Jan-21 03:37 PM] tolken#2655
Maybe the simple /possible solution be to add an argument to setprice to broadcast changes or not?


[11-Jan-21 12:07 AM] tolken#2655
Welcome back @artem.pikulin ! üòâ


[11-Jan-21 12:08 AM] artem.pikulin#0794
Hi, thanks a lot üôÇ I had quite a good rest, will reply to your questions shortly üôÇ

{Reactions}
üëç (2) 

[11-Jan-21 12:48 AM] tolken#2655
Great to hear, very well deserved time away- adex better than ever.


[11-Jan-21 12:50 AM] artem.pikulin#0794
@tolken 
> What happens when you do a setprice with volume arg at 100KMD... and someone submits an order to ‚Äòtake‚Äô 200KMD?
The orders won't match in this case - the maker order can match partially with a request having < 100 KMD volume, but never with a request > 100 KMD.
> Is there any way we could possibly do a ‚Äòsetprice‚Äô without broadcasting?
It is possible and easy to implement.
> My concern revolves around my assumption that we still shouldn‚Äôt setprice too frequently to avoid spamming the orderbooks with out of date values. However, its important that the volume is expediently clamped to this external source, perhaps more importantly than the price itself.
Yeah, it is a good point. Adding the `no_broadcast` (or similar) param to the `setprice` can cause some order book sync "glitches" sometimes. However, it might be not ever noticed because the node forcefully syncs its order book state with the network every 30 seconds.


[11-Jan-21 01:03 AM] tolken#2655
Thanks, interesting. Is it more of a design preference or a technical challenge that a 200kmd take request won‚Äôt match with 100kmd maker? With a highly active maker, the balance could quickly drop lower, frustrating takers as they try to take 100kmd, but seconds later there are only 90kmd on the maker, failing the match. Wouldn‚Äôt it be ideal to max out what it takes? Or is this some utxo related restraint?


[11-Jan-21 02:02 AM] artem.pikulin#0794
It is more a design preference inherited from MM1. We had an idea to implement the partial match of taker requests too. We will possibly do it soon.


[11-Jan-21 05:40 PM] tolken#2655
@artem.pikulin great, yea it does seem like it would lead to smoother / higher rate of matches, behaving more like a CEX in that respect.


[31-Jan-21 01:26 PM] webworker01#3884
When I try to connect to an electrum using just the mm api, I generally have to retry multiple times before I get it to connect. Are the electrums overloaded or am I doing something wrong?


[31-Jan-21 01:27 PM] webworker01#3884
I feel like since it eventually does connect, I got the params right for the call


[31-Jan-21 01:32 PM] webworker01#3884
maybe i'm missing the protocol: ssl param is causing it


[31-Jan-21 01:32 PM] webworker01#3884
will try that out


[31-Jan-21 01:57 PM] webworker01#3884
yeah think that was it ü§¶‚Äç‚ôÇÔ∏è


[31-Jan-21 02:00 PM] webworker01#3884
does mm use ssl first if both are defined in the electrums file?


[31-Jan-21 02:08 PM] webworker01#3884
https://github.com/webworker01/mmtools/commit/a2a7d451432a70d3049fd3b9390b847c5b4e29b8


[31-Jan-21 02:10 PM] webworker01#3884
@lightspeed393 only for space i get this error in the logs
```31 22:09:01, rpc_clients:1823] "electrum1.spaceworks.co:50002" error Custom { kind: InvalidData, error: WebPKIError(BadDER) }
```


[31-Jan-21 02:10 PM] webworker01#3884
maybe ssl not updated ?


[31-Jan-21 02:11 PM] webworker01#3884
oh man so happy it's smooth now otherwise üòÑ


[31-Jan-21 02:11 PM] cipi#4502
mm2 needs a real cert, for SSL SPVs, self signed ones don't work... i use one from letsencrypt for the cipig.net SPVs


[31-Jan-21 02:12 PM] webworker01#3884
ah


[31-Jan-21 02:12 PM] webworker01#3884
wonder if that electrums file can have this param added `disable_cert_verification` then


[31-Jan-21 02:12 PM] webworker01#3884
for self signed certs


[31-Jan-21 02:13 PM] webworker01#3884
or exclude ssl if they do not have a proper cert


[31-Jan-21 02:13 PM] lightspeed393#5403
i'll look into it thanks for sharing

{Reactions}
üëç 

[31-Jan-21 02:17 PM] cipi#4502
i am trying to remember... i guess the problem was not because of self signed, but because they were not signed at all
i have this commands still in my docs... i guess that cert worked... 
```
vi v3.ext
authorityKeyIdentifier=keyid,issuer
basicConstraints=CA:FALSE
keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment

openssl genrsa -out rootCA.key 2048
openssl req -x509 -new -nodes -key rootCA.key -sha256 -days 10240 -out rootCA.pem
openssl req -new -nodes -out server.csr -newkey rsa:2048 -keyout server.key
openssl x509 -req -in server.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out server.crt -days 10240 -sha256 -extfile v3.ext
```
but letsencrypt is easy and doesn't cost anything, so i decided to go that way


[31-Jan-21 02:17 PM] cipi#4502
so you are signing it with your own rootCA üôÇ


[31-Jan-21 02:19 PM] lightspeed393#5403
I thought I used letsencrypt because I do for everything else, but something might have happened. I did do a reinstall once too, possibly forgot to set it back up üòÖ


[31-Jan-21 02:21 PM] webworker01#3884
wondering if i need to add anything to send ssl servers only  if the electrum file has them defined, or if mm handles that by default


[31-Jan-21 02:25 PM] cipi#4502
it does not, it will simply enable all electrums you pass him
i have put the infos on github, so it doesn't get lost, but haven't thought that someone uses the file as is... although it was actually meant to be that way... now ADEX Desktop and Mobile have their own list of electrums and stuff, so we have everything 3x and need to change it in 3 repos when something changes

{Reactions}
üòï 

[31-Jan-21 02:32 PM] webworker01#3884
can that be just copied in from the coins repo during the build pipeline?


[31-Jan-21 02:32 PM] webworker01#3884
or different format?


[31-Jan-21 02:34 PM] cipi#4502
same format... at least in ADEX Desktop
putting this: https://github.com/KomodoPlatform/coins/blob/master/electrums/AXE#L1 to there https://github.com/KomodoPlatform/atomicdex-desktop-generics/blob/main/config/0.4.0-coins.json#L24


[31-Jan-21 02:40 PM] webworker01#3884
https://github.com/webworker01/mmtools/commit/fe3e117885c253028c00b624996d550e053400df


[31-Jan-21 02:41 PM] webworker01#3884
easy enough to do ssl first then tcp


[31-Jan-21 02:42 PM] webworker01#3884
oh adex assumes all are ssl?


[31-Jan-21 02:43 PM] cipi#4502
nice... yes, it's JSON, many things can be done üôÇ
no, ADEX uses only the TCP ports

{Reactions}
üòÖ 

[31-Jan-21 02:44 PM] webworker01#3884
shell script security ftw


[01-Feb-21 03:31 AM] Alright#0419
```
01 11:29:18, mm2src/lp_ordermatch.rs:328] WARN Warning: couldn't find [0, 0, 0, 0, 0, 0, 0, 0] hash root in memory_db
01 11:29:18, mm2src/lp_ordermatch.rs:328] WARN Warning: couldn't find [0, 0, 0, 0, 0, 0, 0, 0] hash root in memory_db
01 11:29:18, mm2src/lp_ordermatch.rs:328] WARN Warning: couldn't find [0, 0, 0, 0, 0, 0, 0, 0] hash root in memory_db
01 11:29:18, mm2src/lp_ordermatch.rs:328] WARN Warning: couldn't find [0, 0, 0, 0, 0, 0, 0, 0] hash root in memory_db
01 11:29:18, mm2src/lp_ordermatch.rs:328] WARN Warning: couldn't find [0, 0, 0, 0, 0, 0, 0, 0] hash root in memory_db
```
is this a known issue? Getting spammed with this in stdout


[01-Feb-21 03:31 AM] Alright#0419
also can't seem to get mm2 to listen on the p2p port?


[01-Feb-21 03:31 AM] Alright#0419
not sure if that's related or if I have something misconfigured


[01-Feb-21 04:08 AM] artem.pikulin#0794
@Alright 
> is this a known issue? Getting spammed with this in stdout
Some node might broadcast an invalid orderbook trie root to the network so you see these messages.

> also can't seem to get mm2 to listen on the p2p port?
Could you please provide more info on this: your node configuration, logs, etc?


[01-Feb-21 04:09 AM] Alright#0419
I was mistaken regarding the p2p port issue


[01-Feb-21 04:10 AM] Alright#0419
regarding the log messages, is it just a case of older nodes with different code?


[01-Feb-21 10:54 PM] artem.pikulin#0794
I think there might be a bug. Do you see these messages on 7777 netid?


[02-Feb-21 09:16 PM] webworker01#3884
I see these on 7777

{Reactions}
üëç 

[02-Feb-21 09:20 PM] artem.pikulin#0794
Thanks for report! We will investigate and fix this: <https://github.com/KomodoPlatform/atomicDEX-API/issues/807>

{Reactions}
üôè (2) 

[05-Feb-21 09:34 PM] webworker01#3884
i seem to recall that mm2 would allow different guis to share in the dex fees, is this still the case and how does an alternative gui get added?


[05-Feb-21 09:35 PM] webworker01#3884
i set a different string in `MM2.json` but assume it needs to be handled in the mm2 code as well


[05-Feb-21 09:37 PM] 0x03#8822
crosspost from #ü§ù‚îÇgeneral-support - please stop switching your logging around dudes. it means addon work for the people building bots around mm2. 
https://discord.com/channels/412898016371015680/429676282196787200/807484659449593886


[05-Feb-21 09:37 PM] 0x03#8822
PLEASE stop it.


[05-Feb-21 09:38 PM] 0x03#8822
my `setprice` function now has like 10-ish lines of `grep -v` to clean up messages like `rpc:239] lp_ordermatch:2981] Not sufficient balance: lp_swap:461] The total required ETH amount 0.02061675 is larger than available 0, balance: 0, locked by swaps: 0`


[05-Feb-21 09:38 PM] 0x03#8822
and it's growing and growing and growing and growing and frankly this is a pain in my backside


[05-Feb-21 09:40 PM] 0x03#8822
if i had one free wish, a config switch to remove the source code locations from the log lines would be a strong start


[05-Feb-21 09:59 PM] 0x03#8822
(or, optionally, in the anicent unix times we used to restrict our line lengths to 80 chars. maybe a limit like that would be helpful, again)


[05-Feb-21 10:14 PM] grewalsatinder#9653
@ca333 @artem.pikulin probably can answer this logging query/feature request @0x03

{Reactions}
üëç 

[06-Feb-21 02:25 AM] ca333#0333
yes we can certainly add a debug option to enable/disable verbose outputs - @0x03 plz open issue ticket with this feature request

{Reactions}
üëç 

[06-Feb-21 04:13 AM] sergey.boyko0791#8143
@0x03 thank you for the feature request. Unfortunately, mm2 is in the active stage of development. It means we are adding new features and refactoring old functionality. Sometimes it requires modifying existing log entries.

We are planning to refactor the error messages within RPC responses in the future. In particular, we are planning to add the enumerated error type. It should help people building applications around mm2 to handle the errors.

I also do not recommend building an application logic based on parsing logs. Please see our API documentation <https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html>
Most of the information you might need is available through RPC calls. If there is no RPC call you need, feel free to open an issue ticket.

{Reactions}
üëé 

[06-Feb-21 05:55 AM] Alright#0419
@webworker01 I don't believe that value does anything other than provide information to seed nodes at the end of a swap

{Reactions}
üëç (2) 

[11-Feb-21 05:25 AM] 0x03#8822
LESS log. not more :<


[11-Feb-21 05:25 AM] 0x03#8822
the mm2 binary is now shoving out up to 10, 20 lines per one request


[11-Feb-21 05:26 AM] 0x03#8822
with this log output commandline is unusable


[11-Feb-21 05:26 AM] 0x03#8822
i'm not parsing logs btw, i'm trying to clean them up as much as possible that i can make sense of them on one glance.


[11-Feb-21 05:28 AM] 0x03#8822
"please read the api docs" i'm probably the 2nd ever person to make use of your CLI


[11-Feb-21 05:29 AM] 0x03#8822
are you fucking kidding me üëé looks like it's about time to stop recommending this product to others if my support requests are met with denial (re: band protocol) or "rtfm requests" when i state log is too spammy and theres not even an option to make it shut the fuck up


[11-Feb-21 05:36 AM] artem.pikulin#0794
I would strongly advise you to use less offensive wording - you can then find that people are more likely to help you in general.


[11-Feb-21 05:42 AM] artem.pikulin#0794
About the initial problem: please try to run MM2 with `RUST_LOG=off` env and see if it makes any difference.


[11-Feb-21 05:45 AM] artem.pikulin#0794
And I also advise you to open Github issue when you have a feature request, bug report or just a thing that annoys you. If it is easy to do, we will implement/fix it fast or suggest an acceptable workaround otherwise.


[11-Feb-21 05:51 AM] artem.pikulin#0794
And btw MM2 always logs the RPC errors and we won't remove this. You should avoid making calls that will lead to error.


[11-Feb-21 05:52 AM] artem.pikulin#0794
In this particular case you have to check balance before creating an order.


[12-Feb-21 05:31 PM] panpansh#0811
komodo: this is the top secret project I cant talk about publicly yet. --jl777 üôÉ


[13-Feb-21 04:45 AM] mo7881#6408
is this the right place to ask about the margins by becoming a Liquidity Provider with the instructions on here:

https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html#installing-dependencies

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html
How To Become a Liquidity Provider on AtomicDEX
The following tutorial introduces the reader to a simple method to become a liquidity provider on the main network of the AtomicDEX software.
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[13-Feb-21 05:48 AM] Cryptoon#3362
yes


[13-Feb-21 05:21 PM] phm87#7395
I'd like to use lightwallet functionalities of AtomicDEX-API/mm2, I'm using ``withdraw`` when I want to use ``sendtoaddress`` but about ``sendmany``, I found nothing but maybe I can copy and adapt ``withdraw``, what do you think ?


[16-Feb-21 10:13 PM] artem.pikulin#0794
Hi, it will be a nice addition when it's possible on the coin side (UTXO at least). Could you open an issue with the feature request, please?


[17-Feb-21 08:55 PM] Tylor zkFS#8280
Can't we just kWRAP everything??? Tired of having 4 exchanges


[18-Feb-21 12:59 AM] tolken#2655
Has anyone experienced any mm2 performance issues with using max_taker_vol and/or get_taker_fee with ETH? I‚Äôm not saying with certainty that there is, I‚Äôm just trying to isolate a performance issue where I‚Äôm hitting mm2 with regular updates using those API calls. I‚Äôm hitting about 4 coins (LTC, BTC, KMD, VRSC) with those requests about every 30 seconds and mm2 has remained fairly snappy/responsive. May be something else, but seems when ETH is in the mix, it slows to a crawl, taking so long my other requets go unanswered. I am using asynchronous coding, but may still have some blocking operations. That said, the other coins seem to play well together - wondering if the ETH requests are inherently slower? I‚Äôll try to better parallelize this portion of my code to avoid this, but @artem.pikulin curious if you had any thoughts on this?


[18-Feb-21 01:06 AM] sergey.boyko0791#8143
Hi @tolken , could you please set the `RUST_LOG=debug` env variable, reproduce this problem and send me your log file? `max_taker_vol` has been refactored recently, perhaps this is a reason.

{Reactions}
üëç 

[18-Feb-21 01:11 AM] tolken#2655
Thanks @sergey.boyko0791 I‚Äôll give it a shot. I may need to update to the latest first, see how that behaves. I‚Äôm using the release that was just put out days before last stress test, I think i saw notes for the refactored max_taker_vol on a subsequent release.


[18-Feb-21 01:14 AM] sergey.boyko0791#8143
Please let me know mm2 version that is causing this behavior


[18-Feb-21 01:15 AM] tolken#2655
Is there any cache mechanism for those calls, or does it query the blockchain for each max_taker_vol / get_trade_fee ? (Sec, I‚Äôll grab version)


[18-Feb-21 01:16 AM] tolken#2655
I wrote my own cache to avoid calling it so often, but maybe there‚Äôs another issue here.


[18-Feb-21 01:17 AM] tolken#2655
```{"result":"2.1.2793_mm2.1_19701cc87_Linux_Release","datetime":"2020-12-04T18:04:20+07:00"}```


[18-Feb-21 01:19 AM] sergey.boyko0791#8143
We're thinking about integrating the cache üôÇ
> get_trade_fee
Please consider using trade_preimage <https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#trade-preimage>


[18-Feb-21 01:21 AM] tolken#2655
Certainly, I‚Äôll take a closer look at that. Thank you! I will try testing with that log option (not entirely sure where to put that flag, but I‚Äùll give it a shot) and return the logs, hopefully by tomorrow night.


[18-Feb-21 01:22 AM] sergey.boyko0791#8143
As I thought, this version doesn't include the refactored `max_taker_vol` and the new `trade_preimage`.


[18-Feb-21 01:23 AM] tolken#2655
Tried a few times. VRSC, KMD, LTC, BTC - snappy, KMD, LTC, BTC, ETH, i seem to get at least 5 sec delays. Will continue investigating, would never rule out my end, but nothing is unique at all with respect to ETH on my side.


[18-Feb-21 01:23 AM] sergey.boyko0791#8143
But I think the latest version may result in more freeze due to a more complex algorithm.


[18-Feb-21 01:23 AM] tolken#2655
Would you prefer me to use the latest, just upgrade, or test with my current ?


[18-Feb-21 01:24 AM] tolken#2655
I‚Äôd rather just move to the latest and go from there.


[18-Feb-21 01:25 AM] sergey.boyko0791#8143
> not entirely sure where to put that flag, but I‚Äùll give it a shot)
For example, in terminal:
`RUST_LOG=debug ./mm2 "{\"gui\":\"MM2GUI\", ...}"`


[18-Feb-21 01:26 AM] tolken#2655
Got it, will give it a shot thanks!


[18-Feb-21 01:27 AM] tolken#2655
I‚Äôm just concerned as I‚Äôd like to marketmake far more than 4 coins and this is creating a bottleneck at the moment. I need to have accurate max_taker_vol/fees etc for everything to work smoothly. I think caching was a worthwhile thing to do, but ultimately its leading me to believe the Eth call was the culprit. I have a feeling I could probably add way more coins (non-Eth) before seeing this behavior (don‚Äôt have enough other coins to test yet, or I would ;P)


[18-Feb-21 01:29 AM] sergey.boyko0791#8143
Ideally, this freeze may stop reproducing üòÑ

{Reactions}
üòõ 

[18-Feb-21 01:30 AM] tolken#2655
Indeed


[18-Feb-21 01:30 AM] tolken#2655
Are these calls blocking though, on the mm2 side? If they aren‚Äôt, seems like I should be able to just fully parallelize my code and it may work well enough?


[18-Feb-21 01:31 AM] sergey.boyko0791#8143
Feel free to send your logs here or dm in any case you reproduce this issue.


[18-Feb-21 01:31 AM] tolken#2655
Ok will do.


[18-Feb-21 01:36 AM] sergey.boyko0791#8143
> Are these calls blocking though, on the mm2 side? If they aren‚Äôt, seems like I should be able to just fully parallelize my code and it may work well enough?
There may be a slow connection to the Eth host. It will be clear from the logs.

{Reactions}
üëç 

[19-Feb-21 12:05 AM] tolken#2655
@sergey.boyko0791 I‚Äôm modifying one of the example startup shell scripts, starts like:  ```stdbuf -oL nohup ./mm2 "{\"gui\‚Äù```


[19-Feb-21 12:05 AM] tolken#2655
Should I just add the argument like this? ```stdbuf -oL nohup RUST_LOG=debug ./mm2 "{\"gui\‚Äù```


[19-Feb-21 12:05 AM] tolken#2655
I did that, but that seems to be incorrect.


[19-Feb-21 12:06 AM] tolken#2655
I wrote out logs using VRSC, LTC, KMD, BTC vs ETH, LTC, KMD, BTC without that RUST_LOG argument, can send those right away.


[19-Feb-21 12:08 AM] tolken#2655
@artem.pikulin is there any sensitive information in standard logs when using nohup? Keys/passwords etc?


[19-Feb-21 12:12 AM] artem.pikulin#0794
Hi! No, MM2 doesn't log keys or passwords. However, we don't recommend sharing logs in public or with untrusted persons for privacy reasons and just in case.

{Reactions}
üëç ‚ô•Ô∏è 

[19-Feb-21 02:12 AM] sergey.boyko0791#8143
@tolken starts like this:
```bash
RUST_LOG=debug stdbuf -oL nohup ./mm2 "{\"gui\‚Äù}"
```

{Reactions}
üí™ 

[19-Feb-21 04:21 AM] hastrup#8742
If I wanted to be a maker for let's say verus. And I wanted to arbitrage 5% is there a way to automatically update my orders so its always over current value over let's say binance?


[19-Feb-21 05:01 AM] cipi#4502
if you call `setprice`again, it will cancel the previous order and create a new one with the updated price


[19-Feb-21 05:13 AM] cipi#4502
i use a perl script to fetch prices from coingecko and set prices based on spread configured
repo: https://github.com/cipig/mmtools
config entry for VRSC: https://github.com/cipig/mmtools/blob/master/mpm/mpm.conf.dex.KMD#L149


[19-Feb-21 05:16 AM] hastrup#8742
@cipi thank you I look into it brand new to market making. I just know a couple of guys that have a few btc they want to invest. And I thought be a market maker is not a bad way to start. Obviously I'm not starting out with the btc but some small verus kmd trades just to get me going thx for info :)


[19-Feb-21 05:20 AM] cipi#4502
be carefull with BTC, fees can be high


[19-Feb-21 06:28 AM] hastrup#8742
Yeah in thinking of converting them to a high speed coin and then convert it to btc after x events


[19-Feb-21 06:36 AM] cipi#4502
that would save a lot of fees üòâ
i use KMD, BCH, LTC and BTC as base coins on my marketmakers and the same spread setting for all


[19-Feb-21 06:38 AM] hastrup#8742
But I'm still completely new at this so I will be testing alot first :)


[19-Feb-21 10:27 AM] tolken#2655
Do it @hastrup üòÑ good luck!


[19-Feb-21 10:34 AM] hastrup#8742
Thx for the encouragement :) @tolken


[19-Feb-21 10:41 AM] tolken#2655
Mm2 works very well these days, so at least you‚Äôre building upon a solid foundation. Lots of great people here to help you along too.


[19-Feb-21 11:05 AM] hastrup#8742
Nice :)


[20-Feb-21 01:09 AM] hastrup#8742
im getting this error


[20-Feb-21 01:09 AM] hastrup#8742
{"error":"rpc:333] Userpass is invalid!"}hastrup@LPNode:~/atomicDEX-API/target/debug$ nano MM2.json


[20-Feb-21 01:09 AM] hastrup#8742
im using this guide


[20-Feb-21 01:09 AM] hastrup#8742
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html#running-the-marketmaker'

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html
How To Become a Liquidity Provider on AtomicDEX
The following tutorial introduces the reader to a simple method to become a liquidity provider on the main network of the AtomicDEX software.
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[20-Feb-21 01:10 AM] hastrup#8742
i have check


[20-Feb-21 01:10 AM] hastrup#8742
3 times that the rpc is the same in the 3 files mm2.json userpass and start.sh


[20-Feb-21 01:11 AM] hastrup#8742
its a ubuntu vm 18.04 mini  vm in proxmox it have 8t and 64 gb ram 500gb 1g up and down


[20-Feb-21 01:16 AM] hastrup#8742
when i run:  stdbuf -oL nohup ./mm2 i get 
nohup: ignoring input and appending output to 'nohup.out'


[20-Feb-21 01:23 AM] gcharang#6833
this should be fine. is it responding to rpc requests?


[20-Feb-21 01:24 AM] hastrup#8742
idk


[20-Feb-21 01:24 AM] hastrup#8742
how do i do that?


[20-Feb-21 01:24 AM] hastrup#8742
i super new to this


[20-Feb-21 01:25 AM] gcharang#6833
if you are following that guide, 
```
./KMDconnect.sh
```


[20-Feb-21 01:26 AM] hastrup#8742
{"error":"rpc:333] Userpass is invalid!"}hastrup@LPNode:~/atomicDEX-API/target/debug$ nano MM2.json


[20-Feb-21 01:26 AM] hastrup#8742
im getting this error when i run that command


[20-Feb-21 01:27 AM] gcharang#6833
lets take this to DMs


[20-Feb-21 01:27 AM] hastrup#8742
ok


[20-Feb-21 03:36 AM] hastrup#8742
My error whas likely I had multiple mm2 sessions open pkill -15 mm2 fix my issue

{Reactions}
üëç 

[20-Feb-21 05:48 AM] cipi#4502
if u use `"{\"userpass\":\"$userpass\"` in your API calls, than you also need to set $userpass correctly to the same value that was used to start mm2 (`\"rpc_password\":\"$userpass\"`)
best is to simply export that env variable
`export userpass="whatever"`


[20-Feb-21 02:57 PM] hastrup#8742
That was the weird part it was correct.


[20-Feb-21 02:58 PM] hastrup#8742
But that pkill fix it somehow gcharang can confirm


[20-Feb-21 05:33 PM] Sdunbar#5064
Is the guide very out of date? https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html#running-the-marketmaker

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html
How To Become a Liquidity Provider on AtomicDEX
The following tutorial introduces the reader to a simple method to become a liquidity provider on the main network of the AtomicDEX software.
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[20-Feb-21 05:33 PM] Sdunbar#5064
Step 1: OS packages -  sudo apt-get install build-essential git jq llvm-3.9-dev libclang-3.9-dev clang-3.9 cmake libssl-dev pkg-config


[20-Feb-21 05:33 PM] Sdunbar#5064
E: Unable to locate package llvm-3.9-dev
E: Couldn't find any package by glob 'llvm-3.9-dev'
E: Couldn't find any package by regex 'llvm-3.9-dev'
etc etc


[20-Feb-21 05:37 PM] lightspeed393#5403
some parts are definitely out of date as the rustup version is now `rustup install nightly-2020-10-25`. As for the packages, that probably depends on what version os you are usuing.


[20-Feb-21 05:40 PM] cipi#4502
`nightly-2020-10-25` is definitely needed and the correct branch for atomicDEX-API is `mm2.1`


[20-Feb-21 05:42 PM] lightspeed393#5403
It was changed recently to make mm2.1 the default branch


[20-Feb-21 05:42 PM] cipi#4502
```
git clone https://github.com/KomodoPlatform/atomicDEX-API -b mm2.1
cd atomicDEX-API
git log --pretty=format:'%h' -n 1 > MM_VERSION
git log '--pretty=format:%cI' -n 1 > MM_DATETIME
cargo build --features native --release
```
should work... try


[20-Feb-21 05:44 PM] cipi#4502
but before that do
```
rustup install nightly-2020-10-25
rustup default nightly-2020-10-25
```


[20-Feb-21 05:44 PM] Sdunbar#5064
dont need to worry about : sudo apt-get install build-essential git jq llvm-3.9-dev libclang-3.9-dev clang-3.9 cmake libssl-dev pkg-config ?


[20-Feb-21 05:45 PM] cipi#4502
try rustup first, you may already have all other needed packages installed


[20-Feb-21 05:45 PM] Sdunbar#5064
thanks


[20-Feb-21 05:46 PM] Sdunbar#5064
been years since I touched any of this stuff so going to be stumbling through lol


[20-Feb-21 05:47 PM] cipi#4502
`sudo apt-get install build-essential cmake libtool autotools-dev automake autoconf pkg-config libssl-dev`


[20-Feb-21 05:59 PM] Sdunbar#5064
error: the legacy LLVM-style asm! syntax is no longer supported


[20-Feb-21 06:03 PM] Sdunbar#5064
Which OS is recommended, still ubuntu 18.04?


[20-Feb-21 06:21 PM] cipi#4502
i am on debian 10, but ubuntu 18.04 should do i guess
`sudo apt-get install build-essential cmake libtool autotools-dev automake autoconf pkg-config libssl-dev clang libclang-dev`


[20-Feb-21 07:21 PM] Sdunbar#5064
Looks like it compiled successfully this time


[20-Feb-21 07:21 PM] Sdunbar#5064
Thanks


[20-Feb-21 07:47 PM] Sdunbar#5064
What are you guys using to generate 24 word seed phrase?


[20-Feb-21 07:51 PM] cipi#4502
i simply use the output from `head -c 32 /dev/urandom | base64` for seeds and passwords of any kind üôÇ


[20-Feb-21 07:56 PM] lightspeed393#5403
you could use https://dogeseed.com


[20-Feb-21 08:29 PM] Sdunbar#5064
Thanks to both


[20-Feb-21 09:41 PM] Sdunbar#5064
did something wrong along the way here i think


[20-Feb-21 09:41 PM] Sdunbar#5064
./start.sh


[20-Feb-21 09:42 PM] Sdunbar#5064
~/atomicDEX-API/target/debug$ nohup: appending output to 'nohup.out'
nohup: failed to run command './mm2': No such file or directory


[20-Feb-21 10:11 PM] cipi#4502
don't know what's in start.sh, but i start with
`stdbuf -oL nohup ../../target/release/mm2 "{\"netid\":7777,\"gui\":\"cli123\",\"userhome\":\"/${HOME#"/"}\",\"passphrase\":\"$passphrase\",\"rpc_password\":\"$userpass\"}" > /tmp/mm.log &`
`../../target/release/mm2` is in this case the path to the mm2 binary that got compiled and the one start.sh does not seem to find


[20-Feb-21 10:14 PM] cipi#4502
oh, i guess start.sh is looking for the debug build, but you built a release... so its `target/release/mm2`, not `target/debug/mm2`


[20-Feb-21 10:17 PM] cipi#4502
`cd ~/atomicDEX-API/target/release`


[21-Feb-21 09:20 AM] Sdunbar#5064
Doesn't look like mm2 is in that directory either, problem might be that I followed a mix of the instructions on help article but here as well, maybe did something wrong in the process ?


[21-Feb-21 09:20 AM] Sdunbar#5064
~/atomicDEX-API/target/release$ ls
build  deps  examples  incremental


[21-Feb-21 09:24 AM] phm87#7395
For me, it appears in target/debug


[21-Feb-21 09:30 AM] Sdunbar#5064
thanks seems something in the build must not have worked correctly


[21-Feb-21 09:32 AM] cipi#4502
it depends wheter you build with `cargo build --features native --release`, than it's release or with `cargo build --features native`, than it's debug... but release is better, afaik


[21-Feb-21 09:33 AM] cipi#4502
you can also simply download prebuilt binaries of latest mm2 from https://github.com/KomodoPlatform/atomicDEX-API/releases


[21-Feb-21 09:33 AM] Sdunbar#5064
seems mm2 is not in either directory, so not sure what went wrong


[21-Feb-21 09:33 AM] Sdunbar#5064
Sounds good will try that, thanks for help


[21-Feb-21 09:34 AM] cipi#4502
if it's in neither of them, the build likely failed


[21-Feb-21 09:37 AM] Sdunbar#5064
i see what happened


[21-Feb-21 09:37 AM] Sdunbar#5064
somehow i have two levels of atomic-api folder


[21-Feb-21 09:37 AM] Sdunbar#5064
nested inside eachother


[21-Feb-21 09:38 AM] Sdunbar#5064
lol


[21-Feb-21 09:38 AM] cipi#4502
but the prebuilt releases are easier to use
```
# download latest available Linux-Release.zip and unzip
wget $(curl --silent https://api.github.com/repos/KomodoPlatform/atomicDEX-API/releases | jq -r '.[0].assets[] | select(.name | endswith("Linux-Release.zip")).browser_download_url')
unzip *Linux-Release.zip
# download latest coins file
wget https://raw.githubusercontent.com/KomodoPlatform/coins/master/coins
# start mm2
./mm2 "{\"netid\":7777,\"gui\":\"something\",\"passphrase\":\"$passphrase\",\"rpc_password\":\"something\"}"
```


[21-Feb-21 09:39 AM] Sdunbar#5064
thanks will try that this time, need to wipe all this out now


[21-Feb-21 09:40 AM] Sdunbar#5064
best way to just remove and start fresh? Delete or more needs to be done to eliminate traces?


[21-Feb-21 09:41 AM] cipi#4502
it doesn't matter, you can do the above in a new directory ~/my_mm2
and start it from there... it will use the coins file from that dir and create some DB-dirs for each passphrase you use


[21-Feb-21 09:47 AM] Sdunbar#5064
thanks, going to go that route


[21-Feb-21 09:48 AM] Sdunbar#5064
appreciate all the help, been a number of years since i've looked at any of this


[21-Feb-21 10:02 AM] Sdunbar#5064
Is there a guide for this as well? Seems a bit disconnected from whats in the old guide


[21-Feb-21 10:10 AM] cipi#4502
there is also this if you want to skip the compile part: https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/setup-atomicdex-aws.html
same as what i posted above, but also with outdated netid
all you need is a the mm2 binary, the coins file (in same dir) and then start it with params
netid 7777
passphrase "yourpassphrase"
rpc_password "yourrpcpassword"
when it runs, everything else is done through API calls https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html by using `userpass` in all calls to identify (= rpc_password from mm2 params)
that's all


[21-Feb-21 10:13 AM] Sdunbar#5064
excellent thanks, yes was able to start it up just fine when skipping compile


[21-Feb-21 10:13 AM] Sdunbar#5064
just wasn't 100% sure on next step


[21-Feb-21 10:13 AM] Sdunbar#5064
will look at that thanks


[21-Feb-21 10:18 AM] Sdunbar#5064
Is there a plan going forward for some sort of GUI for marketmakers?


[21-Feb-21 10:19 AM] Sdunbar#5064
I can manage to figure stuff out with some hand-holding, but I know it would be a barrier to a lot of people


[21-Feb-21 10:20 AM] Sdunbar#5064
general public i mean


[21-Feb-21 10:22 AM] lightspeed393#5403
the mm2 you're running is the same thing included in the AtomicDEX-Desktop gui


[21-Feb-21 10:23 AM] lightspeed393#5403
you *can* use AtomicDEX-Desktop for all the same things. But for mm's that want to provide liquidity, it's a bit easier leaving it running on a server than your desktop


[21-Feb-21 10:47 AM] Need4Speed#3484
Who would be right person to DM for decentralized launchpad for KMD?


[21-Feb-21 10:48 AM] lightspeed393#5403
not sure, maybe just post your ideas for it in #üíª‚îÉdev-general and see if anyone's interested in working on it.


[21-Feb-21 10:50 AM] Sdunbar#5064
Ah ok, was aware of as much but didn't realize the entire functionality available in CLI was built into the GUI


[21-Feb-21 10:50 AM] Sdunbar#5064
good to know


[27-Feb-21 03:01 AM] hastrup#8742
Do anyone know about the mm gui tools when they will be available.?? Does it mars sense to learn cli mm or wait for the gui tools?


[27-Feb-21 03:11 AM] cipi#4502
if you learn CLI, you will be able to write your own tools üòâ


[27-Feb-21 03:31 AM] hastrup#8742
That is tru


[27-Feb-21 03:33 AM] hastrup#8742
It's just the time commitment üò¨ but I quess that the skill passover to other things :)


[27-Feb-21 03:35 AM] Oszy#5734
use pytomicDEX or in that regard, atomicdex is a mm2 gui üòÇ


[27-Feb-21 04:06 AM] hastrup#8742
@Oszy do you have a link? :)


[27-Feb-21 04:09 AM] hastrup#8742
https://github.com/smk762/pytomicDEX

{Embed}
https://github.com/smk762/pytomicDEX
smk762/pytomicDEX
Contribute to smk762/pytomicDEX development by creating an account on GitHub.
https://images-ext-1.discordapp.net/external/C8rWCodA-upjRGEDDywhaxuiP6ZVynjmeYjQJjJ1YRY/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/35845239

{Reactions}
üëç (2) 

[27-Feb-21 04:10 AM] hastrup#8742
Got it :)


[07-Mar-21 08:16 AM] cipi#4502
when i try to buy < 1 DOGE (dust is 1 DOGE) with ADEX Desktop, it let's me place the order and tries to match
it takes 3 minutes, then taker gets above failed swap
maker is failing the swap right away with: https://dexapi.cipig.net/public/error.php?uuid=1a85e6fa-c60f-455a-9b38-5cf97ae01e00 because of the dust on DOGE
problem is that taker has no idea why his swap failed
can we have a better handling here? like deny order placement by mm2 or GUI? whatever is better
@Slyris @artem.pikulin

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/818155230365089802/unknown.png


[07-Mar-21 08:25 AM] cipi#4502
this is the order in the orderbook
```
  "base": "BTCZ",
  "biddepth": 0,
  "bids": [
    {
      "coin": "DOGE",
      "address": "DP1GH73GKRdRz8Qxc8mxe2hFtu5NRwTBXV",
      "price": "0.002924541180771560249968124489817592917936317421385641313157678336802743051922674253350119126599318158",
      "maxvolume": "26983.65004087",
      "min_volume": "0.00777",
```
i think the best solution would be if mm2 would automatically set `min_volume` to 1 (the dust setting for DOGE)... so if dust > 0.00777 use dust as default for min_volume in orders from setprice/buy/sell
GUI will handle min_volume, so it will solve GUI problem too


[07-Mar-21 08:37 AM] cipi#4502
https://github.com/KomodoPlatform/atomicDEX-API/issues/849

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/849
set min_volume to dust in orders ¬∑ Issue #849 ¬∑ KomodoPlatform/atom...
Currently mm2 sets min_volume to 0.00777 as default if nothing else is passed. Can it be set to the setting of dust from coins file instead, in case the dust setting is higher than 0.00777 (or alwa...
https://images-ext-1.discordapp.net/external/22LglkYqJGgf5n05qZ_ycizyn0hhH24aNCqZC6jt6CI/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/21276113

{Reactions}
üëç 

[07-Mar-21 10:26 PM] artem.pikulin#0794
Hi! Yeah, setting the `min_volume` to the dust amount instead of the hard coded `0.00777` will solve the problem. We will do it this week. Thanks for creating the issue!


[29-Mar-21 07:06 PM] Tylor zkFS#8280
yo - we going to set up swaps for ERC-721 and ERC-1155 soon? @artem.pikulin


[29-Mar-21 07:07 PM] Tylor zkFS#8280
Enjin $enj NFT swaps


[30-Mar-21 05:42 AM] artem.pikulin#0794
Hi! We have NFT integration on our global roadmap but no specific timeline for this yet. Please stay tuned üôÇ


[06-Apr-21 09:00 PM] Patrick Crypto#1546
Does a partial trade remove an order from the order book? I wouldn't think it does, but sometimes it seems like someone buys a small portion of my orders and they disappear from the books


[07-Apr-21 12:03 AM] artem.pikulin#0794
Hi! Your order will be automatically canceled/removed when the available unmatched amount is lower than min_volume. Shouldn't happen if only a small portion is matched. Are these disappeared orders still listed in the `my_orders` response?


[07-Apr-21 02:55 AM] Slyris#2880
Is it somehow related to https://discord.com/channels/412898016371015680/705374203972419616/829270465171685446 @artem.pikulin 

In our case in the desktop application some order remains available despite the fact that they are < 0.00777 as amount


[07-Apr-21 03:01 AM] artem.pikulin#0794
It seems opposite - Patrick reports that his orders disappear from orderbook when small portion is filled while you state that there are orders with amount less than threshold.

{Reactions}
üëç 

[07-Apr-21 03:01 AM] Slyris#2880
I believe it's old version mm2 running for this order (our case)


[07-Apr-21 03:02 AM] Slyris#2880
I will add a filter in the GUI for such order


[07-Apr-21 03:03 AM] artem.pikulin#0794
This should be done on the API side - we have this proposal discussed now <https://github.com/KomodoPlatform/atomicDEX-API/issues/873> so `0.00777` will be likely lowered for certain cases. So you can filter out valid orders occasionally.

{Reactions}
üëç 

[07-Apr-21 03:04 AM] Slyris#2880
I see, make sense for coins that have a lot of value such as BTC or YFII


[07-Apr-21 03:05 AM] jansako#3330
I don't think this should be filtered on the UI side, unless you want to implement a custom filter as a feature.


[07-Apr-21 03:06 AM] jansako#3330
Otherwise in general valid orders should be broadcast & invalid orders should not which I understand is implemented, we just have someone on an old version. Thank you gentlepeople! üôÇ


[07-Apr-21 03:13 AM] artem.pikulin#0794
@jansako @Slyris Created the issue <https://github.com/KomodoPlatform/atomicDEX-API/issues/895>. Thanks for the report!

{Reactions}
üëç (2) 

[10-Apr-21 04:23 AM] phm87#7395
Issue opened for the feature request, thank you !
https://github.com/KomodoPlatform/atomicDEX-API/issues/899

{Embed}
https://github.com/KomodoPlatform/atomicDEX-API/issues/899
[Feature Request] UTXO Coin - withdraw - Request for sendmany equiv...
Now, withdraw allows to send coins to a single address, I&#39;d like to be able to make one single transaction to withdraw to several address (equivalent of sendmany). The aim is to lower trans...
https://images-ext-1.discordapp.net/external/22LglkYqJGgf5n05qZ_ycizyn0hhH24aNCqZC6jt6CI/%3Fs%3D400%26v%3D4/https/avatars.githubusercontent.com/u/21276113


[11-Apr-21 10:44 PM] artem.pikulin#0794
Thanks!


[03-May-21 08:19 PM] Mylo#8306
hey artem & co
i have one curiosity, but it leads to further questions if i stumble into the question at the wrong angle.


[03-May-21 08:19 PM] Mylo#8306
is mm2 tightly coupled to electrum & full node for getting utxos to trade?


[03-May-21 08:19 PM] Mylo#8306
my curiosity is more precisely: can mm2 run from a json utxo array in theory?


[03-May-21 08:19 PM] Mylo#8306
also has mm2 been tested with nspv?


[04-May-21 03:12 AM] artem.pikulin#0794
@Mylo Hi!
> is mm2 tightly coupled to electrum & full node for getting utxos to trade?
Yes, as of now local full node or electrum connection is required for UTXO coins.

> my curiosity is more precisely: can mm2 run from a json utxo array in theory?
What is the reason to have it? Even if UTXOs are not got from coin RPC we will still need the daemon/Electrum to broadcast the transaction so it makes a little sense to have it IMHO.

> also has mm2 been tested with nspv?
No, we haven't tried to integrate nspv yet.


[04-May-21 06:38 AM] Mylo#8306
right.. for the utxo signing, because it's a client side thing, and the privkey is already in mm2, the broadcast (and fetch of utxo) can be done through an explorer.


[04-May-21 07:02 AM] Slyris#2880
yeah but that's a bit weird to use atomicdex to just sign the tx and then broadcast it through an explorer, any use case for that ?


[04-May-21 07:10 AM] Mylo#8306
for me, it enables multiple passphrase used on one mm2 instance to sign & broadcast different r-address.
i do it in python using electrum client sources for signing tx, but broadcast (& fetch utxo) through explorer- would be cool to have functionality like this from within rust app, then be able to use mm2 

nothing to do with explorer but, storing utxo offline would make for quicker interim balance on re-connection, e.g. when contacting 10+ electrum servers, use cached utxo from when last open, but maybe already does this?


[04-May-21 07:11 AM] Mylo#8306
kind of like turning mm2 for a toolkit, but it's super edge case.  i use it to sign wallets in the food chain stuff i'm doing, so one instance of the app signs multiple addresses.


[05-May-21 06:23 AM] artem.pikulin#0794
MM2 can use only a single passphrase, as of now. Passing the UTXOs from `different r-address`  won't make it automatically supporting multiple privkeys.
But in general, I have to say that we don't have plans to support such a use case in MM2.

As an alternative, you can try to modify the `withdraw` code <https://github.com/KomodoPlatform/atomicDEX-API/blob/419f36ef5c4b0a3a971759036dbe80f230ce516b/mm2src/coins/utxo/utxo_common.rs#L1346> and build the unspents manually or from json file. It's even possible to extract this code to a separate toolkit with not that much effort, I think.


[05-May-21 07:19 AM] Mylo#8306
cool - yeah to create a toolkit of these pioneering functions is definitely something to consider for the different use cases.
for this year i'm good with python+electrum+explorer and the other parts that need building.

understanding how to use mm2 & libnspv offerings for next gen p2p/dapps integration is an honour üôè thanks for pointers/info/insights


[05-May-21 02:54 PM] purple_nation#9201
looking at the docs for creating an mm2 instance on aws, I notice the aws security group sets all ports open. Is this strictly necessary or is there a narrower range that will work?


[05-May-21 10:47 PM] gcharang#6833
@cipi can tell you for sure


[17-May-21 07:56 AM] igor l $ARRR#5852
Do you plan to support EOS and other projects on this blockchain in atomicDex???


[17-May-21 08:57 AM] Slyris#2880
@igor l $ARRR i think eos is listed as a bep20 token right now


[18-May-21 12:43 AM] digiotai#8327
Hi. just notice this specific room for mm. i am using mmtools. does anyone know where can i access to mmtools log file?


[19-May-21 12:09 AM] fa1123#0148
Hi... I am trying to install using the guide https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-setup/get-started-atomicdex.html

I follow the steps successfully and run the build command "cargo build --features native -vv"
Then it reaches step 626 / 630 on installing and i suddenly loose access to SSH

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-setup/get-started-atomicdex.html
Installing AtomicDEX Software (MM2)
::: warning Note
If you would prefer to avoid building MM2 from source, you can download our pre-built binary from our Github releases page.
:::
https://images-ext-2.discordapp.net/external/SnZnXUvUopT3sNu01OU1y3kpeeFdfynW7YhHeG4NKcU/https/developers.komodoplatform.com/get-started-atomicdex/rustup-minimal.png


[19-May-21 12:09 AM] fa1123#0148
Any thoughts on that?


[19-May-21 12:16 AM] Slyris#2880
You maybe simply loose connection ? - I do not know if cargo use multithreaded compilation, but with clang i already have similar issue in the past by using all my CPU through compilation, you can use taskset


[19-May-21 12:17 AM] Slyris#2880
https://man7.org/linux/man-pages/man1/taskset.1.html @fa1123


[19-May-21 12:18 AM] Slyris#2880
(if you have a small vps, or a small machine, this maybe a possibility)


[19-May-21 12:19 AM] smkhound#7640
set some swap space


[19-May-21 12:20 AM] smkhound#7640
https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04

{Embed}
https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04
How To Add Swap Space on Ubuntu 20.04 | DigitalOcean
One way to guard against out-of-memory errors in applications is to add some swap space to your server. In this guide, we will cover how to add a swap file to an Ubuntu 20.04 server.
https://images-ext-2.discordapp.net/external/kG9JfObrsR5Z1y7GV55cdGmhTnr6zD75I6O_0KK1U7I/https/community-cdn-digitalocean-com.global.ssl.fastly.net/variants/8yQCHV4wc6cw8Abom6c8UfyE/035575f2985fe451d86e717d73691e533a1a00545d7230900ed786341dc3c882


[19-May-21 12:27 AM] fa1123#0148
Ok... Thank you... Will try that


[19-May-21 01:43 AM] fa1123#0148
It worked... Thank you

{Reactions}
üôÇ üëç 

[24-May-21 06:09 AM] phideas#8309
recently i started to get familiar with mm2 cli and playing with some old assets to learn how to do LP stuff. i created two jq formatting scripts, just to make life a little bit easier in cli. pls check it out.  @gcharang  https://github.com/phideas/mm2scripts/commit/7add241cc26d717168cd855a6b029b78f00a79f0

{Reactions}
üëç 

[24-May-21 09:17 AM] phideas#8309
after a while my node always starts to get these warn msgs. is it normal?
`WARN Received zero or hashed_null_node pair KMD:ZEC trie root from pub`


[24-May-21 08:36 PM] jspook16#3059
Curious....after the hard fork, should one be able to use CLI market maker to trade ARRR?


[24-May-21 08:38 PM] webworker01#3884
feedback please, trying to make it very simple

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/846592998631669770/unknown.png


[24-May-21 08:39 PM] jspook16#3059
Maybe something also showing how the refunds work because that seems to freak folks out when a trade fails and funds are "stuck"

{Reactions}
ü§î 

[24-May-21 08:42 PM] jspook16#3059
Maybe as a second graphic?


[24-May-21 09:01 PM] webworker01#3884
i'd think so yes


[24-May-21 09:01 PM] webworker01#3884
i'm not sure what the steps would look like beyond wait for time to pass? üòÑ


[24-May-21 09:03 PM] webworker01#3884
any glaring errors or something i missed in the graphic? saw some people wanting a flowchart on reddit. Can always link for further information


[24-May-21 09:20 PM] gcharang#6833
as I understand it, 2 <-> 3 should be interchanged and 4 <-> 5 should be reversed as well


[24-May-21 09:26 PM] webworker01#3884
ok thank you, i was basing on this video that i remembered https://www.youtube.com/watch?v=7LHfoNAjodU  just found your write up here and will reformat 
https://komodoplatform.com/en/blog/atomic-swaps/

{Reactions}
üëç 

[24-May-21 10:05 PM] webworker01#3884
updated

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/846614817514717204/unknown.png


[24-May-21 10:12 PM] jspook16#3059
@webworker01 There is also the youtube vid. https://www.youtube.com/watch?v=2r6XPrEJJI8 but it might be outdated since i think the process for an atomic swap was simplified.

{Embed}
MarketPeak Eurasia
https://www.youtube.com/watch?v=2r6XPrEJJI8
Komodo Atomic Swaps Explained
Atomic swaps are often discussed but rarely understood in full. How do atomic swaps work? And what makes them so important?  

What Are Atomic Swaps?

Put simply, a atomic swaps are trades of cryptocurrencies made directly from one user to another. Atomic swaps are sometimes called ‚Äúpeer-to-peer‚Äù trades because the trade is made wallet-to-wallet...
https://images-ext-2.discordapp.net/external/Qbkc6gmdmoeRyANW4t-9WQvKxeDXwqD1Lh0Y-Q6GwmU/https/i.ytimg.com/vi/2r6XPrEJJI8/maxresdefault.jpg


[24-May-21 10:13 PM] jspook16#3059
Maybe a note in the graphic at the bottom that says "If swap fails, an automatic refund will be issued within 4 hours"


[24-May-21 10:13 PM] webworker01#3884
yeah that one seems wrong now


[24-May-21 10:14 PM] webworker01#3884
even with the annotations i think it's out of order because of the couple steps that were simplified


[24-May-21 10:14 PM] webworker01#3884
the one i linked above had some annotations saying this step isn't needed etc


[24-May-21 10:14 PM] jspook16#3059
I see ... Wonder who made the vid and if they would be willing to make a new one


[24-May-21 10:15 PM] webworker01#3884
yeah i kinda loved that video


[24-May-21 10:15 PM] jspook16#3059
same here


[24-May-21 10:19 PM] gcharang#6833
yes, the video is outdated. we do want to create a new video explaining the newer version and have a basic anology+explanation ready. just need to connect to a animator and have them execute it.

{Reactions}
üëç 

[24-May-21 10:20 PM] webworker01#3884
ok final version?

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/846618765046579210/unknown.png


[24-May-21 10:21 PM] webworker01#3884
pirate redditors want to know what it all means üôÇ


[24-May-21 10:21 PM] gcharang#6833
4th step can be: `bob claims the ltc thereby revealing the secret`
then 5th: `alice can use the revealed secret to claim doge`


[24-May-21 10:22 PM] jspook16#3059
Do you think it would be a good idea for the new vid to include a mention of pirate (private) atomic swap functionality?


[24-May-21 10:23 PM] webworker01#3884
i want to be sure to use small words üòÑ people drunk on rum and what not

{Reactions}
üòÜ (2) 

[24-May-21 10:23 PM] webworker01#3884
hash is hopefully not too complicated


[24-May-21 10:23 PM] gcharang#6833
the process is same for all atomic swaps. and the semi technical anology will be exactly the same as well. but, we can add the z-atomic swap mention to the voiceover I guess


[24-May-21 10:25 PM] jspook16#3059
Ok yeah Im just thinking from a spectator perspective....they might ask..."ok, now how does a z atomic swap work" but if the vid explains its the same process, all information would be in one place

{Reactions}
üëç 

[24-May-21 10:26 PM] gcharang#6833
got it. but I feel that "send" means bob has to do it and if he doesn't alice can't claim. but "reveal" means that bob has no option but to make the secret public to claim the LTC. so, no way for alice to get cheated. some other words that can convey the the second case's meaning are also ok


[24-May-21 10:26 PM] webworker01#3884
hmm right


[24-May-21 10:27 PM] webworker01#3884
i think reveal also kind of implies that bob has to do something though.. was struggling on that


[24-May-21 10:27 PM] webworker01#3884
might need an extra word


[24-May-21 10:27 PM] webworker01#3884
maybe just "is revealed"


[24-May-21 10:27 PM] jspook16#3059
automatiically revealed?


[24-May-21 10:28 PM] gcharang#6833
"has to reveal the secret to claim LTC"

{Reactions}
ü§î 

[24-May-21 10:30 PM] webworker01#3884

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/846621335002284072/unknown.png


[24-May-21 10:31 PM] gcharang#6833
looks good


[24-May-21 10:31 PM] jspook16#3059
Yep


[24-May-21 10:31 PM] jspook16#3059
Where is it going to go?


[24-May-21 10:32 PM] webworker01#3884
the automatic part, i was hoping "Under the hood" implies that normal users won't have to worry about it really üôÇ


[24-May-21 10:32 PM] webworker01#3884
i wanted to share on pirate reddit


[24-May-21 10:33 PM] jspook16#3059
oh maybe on pirate discord too,,,,,during the parties. I offer some kmd bounties in the form of Rick or Morty for KMD on ADEX. Would be good if a graphic was there to help them understand


[24-May-21 10:34 PM] webworker01#3884
i'll post the reddit link in a sec there

{Reactions}
üëç 

[24-May-21 10:34 PM] jspook16#3059
Ok. nice work @webworker01

{Reactions}
üíØ üôè 

[24-May-21 10:38 PM] webworker01#3884
thank you for the feedback, let me get a couple fake internet points then feel free to use it however üòÇ


[24-May-21 10:41 PM] jspook16#3059
Yep. Will hold off till the weekend :KMD:


[24-May-21 10:43 PM] webworker01#3884
https://www.reddit.com/r/komodoplatform/comments/nkighj/how_atomic_swaps_work_on_atomicdex_under_the_hood/

{Embed}
https://www.reddit.com/r/komodoplatform/comments/nkighj/how_atomic_swaps_work_on_atomicdex_under_the_hood/
r/komodoplatform - How Atomic Swaps work on AtomicDEX Under the Hoo...
0 votes and 1 comment so far on Reddit
https://images-ext-1.discordapp.net/external/qzVnDgc217QtLEYo_FgND2HhqPhT81CUpQKU3mW_kzs/%3Fauto%3Dwebp%26s%3Daf28f7593a26e2d2eae2773b4081e4d64069ed2c/https/preview.redd.it/25zrn476h7171.png


[24-May-21 11:20 PM] Slyris#2880
@webworker01 You have twitter ?


[24-May-21 11:20 PM] webworker01#3884
yes same name


[24-May-21 11:22 PM] Slyris#2880
i will follow you after my sleeping time, currently sleeping

{Reactions}
yassinheart 

[24-May-21 11:24 PM] grewalsatinder#9653
What dream you having at the moment? :troll_cool:


[24-May-21 11:24 PM] webworker01#3884
me

{Reactions}
üòÖ (2) 

[24-May-21 11:46 PM] Mylo#8306
thats cool man.  i included the negotiation part @ https://ikomodo.com/atomic-swaps-for-dummies/


[24-May-21 11:52 PM] webworker01#3884
cool! I added to my submission statement


[24-May-21 11:58 PM] Mylo#8306
great. submission statement for what? üòÑ


[25-May-21 12:02 AM] webworker01#3884
on the reddit post, just added a comment along with it instead of only a link


[25-May-21 12:02 AM] Mylo#8306
oh right...thanks for doing that!

{Reactions}
ü§ü 

[09-Jun-21 02:56 AM] shokker#4105
hey all, I was just asking in the #ü§ù‚îÇdex-desktop channel about auto splitting coins for trading. I'm just trying to understand this a bit better because when I place a DOGE/KMD order there's no issue, but if I was to place DOGE/BTC for eg, would my BTC be optimised by the dex? would this cost me anything?


[09-Jun-21 02:57 AM] shokker#4105
sorry for the noob questions but I can't find any info on this and someone told me it was a known issue with atomic swaps ü§∑‚Äç‚ôÇÔ∏è


[09-Jun-21 03:16 AM] TonyL#3577
hey! atomicdex-api (aka mm2) handling UTXO management "under the hood" and it will not cost you any additional extra for splitting. It was a known UX issue in the first version of the protocol (aka mm1 + barterdex gui) which was eliminated in second generation


[09-Jun-21 03:32 AM] shokker#4105
ok thanks for the answer @TonyL  so placing DOGE/BTC or KMD/BTC orders won't cost me anything for coin splitting. nice to know thanks!

{Reactions}
üëç ‚úÖ 

[09-Jun-21 03:33 AM] shokker#4105
is there a link to this info on the api site? I couldn't find it anywhere


[09-Jun-21 03:50 AM] TonyL#3577
we don't highlight it explicitly and take it for granted on this stage of technology evolving. most of the new users unlikely knows that there was a need for manual utxos managing nightmare in the past üôÇ

{Reactions}
üëç 

[09-Jun-21 07:31 AM] shokker#4105
@TonyL just to be sure, there are no network fees for splitting BTC if I place an order? I just checked an online tool and it looks like it could cost > $5 to do the split


[09-Jun-21 07:32 AM] shokker#4105
sry to bug, just want to be sure before I get hit with any hidden fees


[09-Jun-21 03:51 PM] lightspeed393#5403
the orderbook is not on chain so you can place orders without worrying about fees. mm2 won't spend or split any coins until the order is matched and swap begins. At that time then you'll be paying network fees, which for BTC are high. Some people use KMD or LTC as base pairs instead to avoid this.

{Reactions}
üëç (2) 

[09-Jul-21 08:23 AM] BaltimoreHacker#0880
after updating the coins file where would i put the file containing the electrum config https://github.com/jl777/coins#4-electrum-servers-optional-required-for-listing-in-mobile-guis

{Embed}
https://github.com/jl777/coins
jl777/coins
coin parameters and all files needed for GUI support - jl777/coins
https://images-ext-1.discordapp.net/external/Rqhb5Y5kn1E-_ba7u3YMOVieO7I42x76O6teCC2wLh0/https/opengraph.githubassets.com/afb0d080064f8184f84b9c79f876b4f33e604163f93165950fc54a589170649c/jl777/coins


[09-Jul-21 08:42 AM] cipi#4502
please use the repo from https://github.com/KomodoPlatform/coins, we moved
there are files in electrums subdir, like this: https://github.com/KomodoPlatform/coins/blob/master/electrums/VRSC


[23-Jul-21 02:42 AM] jorian#4555
i am looking into running a couple marketmakers, and i noticed the mmrpc protocol 2.0. Is this being worked on actively? I only see withdraw and trade_preimage as supported methods


[23-Jul-21 02:43 AM] Slyris#2880
Yes


[23-Jul-21 03:03 AM] artem.pikulin#0794
Yes, only `withdraw` and `trade_preimage` are now available in mmrpc 2.0. We plan to implement enable/electrum/my_balance next: <https://github.com/KomodoPlatform/atomicDEX-API/issues/1006>


[30-Jul-21 10:52 AM] jansako#3330
@PTYX Are you able to share the status of the MM 'bot' mentioned in today's update? Is it going to be included in 0.5 and/or available to try for non-tech gurus?


[30-Jul-21 10:58 AM] gcharang#6833
@Slyris is developing it. he can give us the exact situation


[30-Jul-21 10:58 AM] jansako#3330
THX!


[30-Jul-21 11:00 AM] jansako#3330
Loving the 'Grid' feature on Gate.io so if something like that became available in AtomicDex...


[30-Jul-21 11:09 AM] PTYX#6840
Not on 0.5 but i asked @Slyris when he though a beta and gui would be available and he said all heavy lifting is done. It's a matter of just testing the configurations first and then a GUI can be spun up within a week after he feels comfortable it's ready to test


[30-Jul-21 11:09 AM] PTYX#6840
Currently there's liquidity already being provided by the mmbot


[30-Jul-21 11:10 AM] PTYX#6840
It's similar to @cipi's bot but i think it's easier to use and if a GUI can he built on top, it will bring us closer to competing with the AMMs most LPs are accustomed to.


[30-Jul-21 11:10 AM] PTYX#6840
With the benefits of no impermanent loss

{Reactions}
2561_feelsevilman 

[30-Jul-21 11:11 AM] jansako#3330
How do you not have impermanent loss? Is it pure ARB?


[30-Jul-21 11:12 AM] PTYX#6840
Yes, as the dex is built right now LPs make money off arbs from other exchanges. Slyris built the bot to communicate with other CEXes and Dexes so the vision is that the bot will allow for easy arb/rebalancing between exchanges.


[30-Jul-21 11:13 AM] PTYX#6840
Arb is also another big reason SmartFi wanted to build on Atomicdex. So people can arb between the atomicdex network and their CEX


[30-Jul-21 11:14 AM] PTYX#6840
However, as more trading types such as Premium Options are introduced, LPs will be able to make profit from the premium fees they setup.


[30-Jul-21 11:15 AM] PTYX#6840
In theory once the bot is built, people can create strategies and even services where users either buy the strat or pay someone to run their LPs in a profitable wayy


[30-Jul-21 11:19 AM] jansako#3330
Don't get me wrong, I love being able to arb, in fact that is the only way I trade manually. It is just my experience that once there is certain amount of liquidity, it stops being profitable because of the number of players (bots) that come in. At that point you either leave or go to grid/indices trading. An automated grid trading algo is a good next steps at that point to have 'visible' depth. Arb bots make the orderbook heavily front loaded.


[30-Jul-21 11:20 AM] jansako#3330
Looking forward to get my hands on it though!


[30-Jul-21 11:22 AM] PTYX#6840
I think the first step is to build the bot in a way that is easy to use and we can start adding more complex trading algo for it as it evolves

{Reactions}
üëç 

[30-Jul-21 11:23 AM] PTYX#6840
There are a few things we need to get right. Ease of use, ease of customization, and a clear path of profitability for the LPs


[30-Jul-21 11:23 AM] PTYX#6840
With AMMs profitability is actually not that clear. Sure you make 0.03% off all trades but you're exposed to IL


[30-Jul-21 11:24 AM] jansako#3330
"Ease of use, ease of customization" - the holy grail, I think we both live in the same world sir!

{Reactions}
üëç 

[30-Jul-21 11:25 AM] jansako#3330
TBH I don't understand why IL is such a scare word... U make a trade U always risk making a bad decision, that is to be expected.


[30-Jul-21 11:26 AM] jansako#3330
Half of the time you make an impermanent gain anyway...


[30-Jul-21 11:26 AM] jansako#3330
Impermanent cause most people fail to take profit...


[30-Jul-21 11:26 AM] PTYX#6840
Yeah in my mind, ease of use will cater to the normal Joe that has coins they want to sell and don't necessarily want to do all trades manually. Possibly miners, etc. Customization for more advanced traders who want to actually make profit off trading algos, and profitability to attract LPs from other platforms


[30-Jul-21 11:27 AM] jansako#3330
Happy to provide feedback once it becomes appropriate. Thank you!

{Reactions}
komodopog (2) 

[30-Jul-21 11:28 AM] PTYX#6840
Sounds great, @Slyris will let us know when we can start testing it publicly. Shouldn't be too long üôå


[30-Jul-21 01:33 PM] Slyris#2880
yeah i like grid trading too, may add such a strategy later


[30-Jul-21 01:34 PM] Slyris#2880
Well it's a bit a naive bot atm so he try to prevent you to loose money, so you are not always the first entry in the orderbook, but most of the time


[30-Jul-21 01:37 PM] Slyris#2880
for the moment i did only benefits trade so will let know later about results

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/870766998156623932/unknown.png

{Reactions}
üëç (5) 

[01-Sep-21 08:23 AM] Jupiter&Mars#3880
Hi, could you post github links to those bots you develop? 
I would be happy to test them. üôÇ


[05-Sep-21 10:59 PM] uak#6718
where I can get the electurm servers for a currency? I want it for tBCH and sTST


[05-Sep-21 10:59 PM] Slyris#2880
In the coins repository ?


[05-Sep-21 10:59 PM] uak#6718
I'll try those https://github.com/KomodoPlatform/coins/blob/master/electrums/tBCH

{Embed}
https://github.com/KomodoPlatform/coins/blob/master/electrums/tBCH
coins/tBCH at master ¬∑ KomodoPlatform/coins
coin parameters and all files needed for GUI support - coins/tBCH at master ¬∑ KomodoPlatform/coins
https://images-ext-1.discordapp.net/external/t9gWJe4lkSaI9kVfRNBjYtlDuXs7TCu5W3-HN95B1MU/https/opengraph.githubassets.com/738a138041bae2b488bce5bca0be3294a5bb24e6d867b51a6bf9024afbf99e06/KomodoPlatform/coins


[05-Sep-21 10:59 PM] Slyris#2880
yep


[05-Sep-21 11:02 PM] uak#6718
```#!/bin/bash
source userpass
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"electrum\",\"coin\":\"tBCH\",\"servers\":[{\"url\":\"tbch.loping.net:60002\"},{\"url\":\"electroncash.de:50004\"}]}"
```


[05-Sep-21 11:03 PM] uak#6718
```
{"error":"rpc:173] dispatcher_legacy:155] lp_commands:98] lp_coins:1201] unknown variant `BCH`, expected one of `UTXO`, `QTUM`, `QRC20`, `ETH`, `ERC20`"}
```


[05-Sep-21 11:03 PM] uak#6718
what should I change?


[05-Sep-21 11:18 PM] uak#6718
is it because the tbch and stst support isn't merged yet?


[05-Sep-21 11:26 PM] Slyris#2880
You should try that with the mm2 from slp swaps branch


[05-Sep-21 11:50 PM] TonyL#3577
how testnet BCH related to SLP integration?


[05-Sep-21 11:51 PM] TonyL#3577
according to error problem is that you set coin type BCH instead of UTXO in coins file


[05-Sep-21 11:52 PM] TonyL#3577
https://github.com/KomodoPlatform/coins/blob/master/coins#L5765 ah I see

{Embed}
https://github.com/KomodoPlatform/coins/blob/master/coins
coins/coins at master ¬∑ KomodoPlatform/coins
coin parameters and all files needed for GUI support - coins/coins at master ¬∑ KomodoPlatform/coins
https://images-ext-1.discordapp.net/external/t9gWJe4lkSaI9kVfRNBjYtlDuXs7TCu5W3-HN95B1MU/https/opengraph.githubassets.com/738a138041bae2b488bce5bca0be3294a5bb24e6d867b51a6bf9024afbf99e06/KomodoPlatform/coins


[05-Sep-21 11:52 PM] TonyL#3577
yeah, SLP compatible mm2 binary is needed


[05-Sep-21 11:58 PM] TonyL#3577
never mind my last messages üôÇ

{Reactions}
üëç 

[05-Sep-21 11:59 PM] uak#6718
I've changed it in coins from `BCH` to `UTXO` but same error


[05-Sep-21 11:59 PM] uak#6718
maybe need to compile something. I'll try to see how to get the mm with SLP support


[06-Sep-21 12:02 AM] TonyL#3577
yeah, thats intended that for SLP there is BCH protocol type for tBCH - I was not in context and without morning coffee. SLP support marketmaker WIP is in this branch (https://github.com/KomodoPlatform/atomicDEX-api/tree/mm2.1-slp-swap) but it's not finished yet, should try for testnet only

{Embed}
https://github.com/KomodoPlatform/atomicDEX-api/tree/mm2.1-slp-swap
GitHub - KomodoPlatform/atomicDEX-API at mm2.1-slp-swap
This is the official AtomicAPI (atomicDEX API) repository - GitHub - KomodoPlatform/atomicDEX-API at mm2.1-slp-swap
https://images-ext-2.discordapp.net/external/xrFrE5IBq7hIhARmzTUlrc5PAZxV2o1POZRkeluOVDg/https/opengraph.githubassets.com/7b755df40e566ea2e420bb3cb240336e9b537c768ed9802493437df6494d35d4/KomodoPlatform/atomicDEX-API


[06-Sep-21 12:05 AM] uak#6718
thanks, I've to compile everything again now üòê


[06-Sep-21 12:39 AM] uak#6718
@TonyL I see the same error about coin type 
```{"error":"rpc:173] dispatcher_legacy:155] lp_commands:98] lp_coins:1201] unknown variant `BCH`, expected one of `UTXO`, `QTUM`, `QRC20`, `ETH`, `ERC20`"}
```


[06-Sep-21 12:39 AM] uak#6718
how can I make sure I got the correct mm?


[06-Sep-21 12:44 AM] uak#6718
ok, will try again, I think I got the original branch again


[06-Sep-21 12:57 AM] uak#6718
I've tried different servers but getting this:
```
{"error":"rpc:173] dispatcher_legacy:155] lp_commands:98] lp_coins:1256] bch:231] utxo_common:116] utxo_common:89] utxo:1206] utxo:1328] utxo:1371] utxo:1549] Failed protocol version verifying of at least 1 of Electrums in 5 seconds."}
```


[06-Sep-21 01:19 AM] uak#6718
I've tried this command to query the servers but non is responding with anything. Maybe they are made different than other coins
```
 (echo '{ "id": 1, "method": "server.version", "params": ["barterDEX", ["1.4", "2.0"]] }'; sleep 0.5) | ncat testnet.bitcoincash.network 60002
```


[06-Sep-21 01:27 AM] artem.pikulin#0794
Hi, `60002` is SSL port - sending requests with netcat won't work.


[06-Sep-21 01:30 AM] artem.pikulin#0794
@uak Please try using `openssl s_client -connect testnet.bitcoincash.network:60002` instead. Please also check that the `"protocol":"SSL"` is set in `electrum` call, example: <https://github.com/KomodoPlatform/coins/blob/master/electrums/tBCH#L4>


[06-Sep-21 01:36 AM] uak#6718
thank you, like this?
```
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"electrum\",\"coin\":\"tBCH\",\"servers\":[{\"url\":\"bch0.kister.net:51002\",\"protocol\":\"SSL\"}},{\"url\":\"electroncash.de:50004\",\"protocol\":\"SSL\"}]}"
```


[06-Sep-21 01:37 AM] artem.pikulin#0794
Yes, this should work.


[06-Sep-21 01:39 AM] uak#6718
nice it worked, now time to check sTST üôÇ


[06-Sep-21 01:43 AM] uak#6718
any better way to show open orders, it's a bit hard to see in this format using `jq`


[06-Sep-21 01:43 AM] uak#6718
https://imgur.com/a/T81RpMc


[06-Sep-21 01:43 AM] uak#6718
https://i.imgur.com/PlAjP5O.png

{Embed}
https://imgur.com/PlAjP5O
https://images-ext-2.discordapp.net/external/jNIQkdIBj2cv4WCZp1F_n7aW5BA4xQzixpA5qEeC7Nc/https/i.imgur.com/PlAjP5O.png


[06-Sep-21 01:44 AM] uak#6718
also any way to get already made COINconnect.sh files for other coins?


[06-Sep-21 01:44 AM] uak#6718
or all those should be done manually


[06-Sep-21 01:54 AM] artem.pikulin#0794
<https://www.convertjson.com/json-formatter.htm> can format the JSONs and put the long nested arrays in one line making the orderbook response more readable. I'm unsure if it's possible with jq or another formatter, but they should be capable of filtering the `_fraction` and `_rat` fields out.


[06-Sep-21 01:55 AM] artem.pikulin#0794
Do you mean curl scripts to activate the coins in CLI?


[06-Sep-21 01:55 AM] uak#6718
yes


[06-Sep-21 01:57 AM] artem.pikulin#0794
I'm gradually adding some to <https://github.com/KomodoPlatform/atomicDEX-API/tree/mm2.1/etomic_build/client>. There is an example for tBCH in the `mm2.1-slp-swap` branch: <https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2.1-slp-swap/etomic_build/client/enable_tBCH>. If you make more scripts, please open a PR, the contribution is welcome üôÇ


[06-Sep-21 01:57 AM] uak#6718
nice


[06-Sep-21 01:58 AM] uak#6718
I have few suggestions to the GUI, like adding a tip next to the fees calculation that shows what fees went as a network fees and which ones went to the DEX.


[06-Sep-21 01:59 AM] uak#6718
also in some places it's not sure what are you buying and what are you selling in the pro window


[06-Sep-21 02:00 AM] artem.pikulin#0794
Could you please open issues in the desktop repo with these requests?


[06-Sep-21 02:00 AM] uak#6718
sure

{Reactions}
üôè 

[06-Sep-21 02:01 AM] uak#6718
I see you didn't use all those slashes in that file as it's in KMDconnect.sh


[06-Sep-21 02:01 AM] uak#6718
looks more neat


[06-Sep-21 02:06 AM] cipi#4502
if those use SSL, you can also use `ncat --ssl` to query them


[06-Sep-21 02:07 AM] uak#6718
it works thanks


[06-Sep-21 02:59 AM] uak#6718
where should I report outdated doc? https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html#installing-dependencies
Version mentioned are not available anymore. this worked for me:
`sudo apt-get install build-essential git jq llvm-dev libclang-dev clang cmake libssl-dev pkg-config`


[06-Sep-21 03:06 AM] artem.pikulin#0794
Please open an issue here: <https://github.com/KomodoPlatform/developer-docs>


[07-Sep-21 10:20 AM] uak#6718
Hey, is there away for mm2 user (liquidity provider) to see history of successful trades from the CLI?


[07-Sep-21 10:21 AM] gcharang#6833
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html#my-recent-swaps
does this help?

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex/atomicdex-api.html
DEX API
MM2 now offers the num-rational crate feature. This is used to represent order volumes and prices.
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[07-Sep-21 10:24 AM] uak#6718
it helped half the way, from where do I get the uuid? it also doesn't accept my userpass which I've not changed


[07-Sep-21 10:28 AM] uak#6718
I think I was able to see. I suggest doc start with the simple example on top. not sure why the example to show page 3 was there while it wasn't existing on my history


[07-Sep-21 10:31 AM] gcharang#6833
do you mean this `from_uuid` parameter? it is optional and is only required if you want to skip some swaps


[07-Sep-21 10:32 AM] gcharang#6833
did the userpass work?


[07-Sep-21 10:34 AM] uak#6718
@gcharang yeah I got it to work.


[07-Sep-21 10:35 AM] uak#6718
I noticed that there are a lot of escaping going on `\"` which make it confusing and hard to edit


[07-Sep-21 10:38 AM] Slyris#2880
You can use postman, it's easier, or even CLI from community members


[07-Sep-21 10:45 AM] uak#6718
where I can read more about those?


[07-Sep-21 10:46 AM] Slyris#2880
Postman is just a GUI tools that facilitate http requests ^^ (https://www.postman.com/) you also have open-source equivalent: https://github.com/Kong/insomnia


[07-Sep-21 11:37 AM] uak#6718
thanks


[07-Sep-21 11:38 AM] uak#6718
and what is it community members CLI


[16-Sep-21 01:04 AM] uak#6718
Hi, I was trying yesterday to do a successful swap with a fork of BCH that uses the cashaddress format but seems that the cashaddress format only supported in BCH. How we can get that enabled for the other coin?


[16-Sep-21 01:05 AM] uak#6718
https://discord.com/channels/412898016371015680/429676282196787200/887775752773308436


[16-Sep-21 01:05 AM] uak#6718
I was talking with @cipi about it


[16-Sep-21 04:03 AM] artem.pikulin#0794
Hi. Could you open an issue with a detailed explanation on Github, please?


[17-Sep-21 10:37 AM] uak#6718
I think @Licho92  will do it


[17-Sep-21 10:40 AM] Licho92#7762
Ok!

{Reactions}
üôè (2) 

[28-Sep-21 11:15 AM] uak#6718
I've seen errors like this on the internet when dealing with ethereum:
```
Invalid params: invalid type: integer `4`, expected a 0x-prefixed hex string with length between (0; 64]
```
on the swap I'm having issues with I get:
```
invalid type: null, expected a 0x-prefixed hex string with length between (0; 16]\", line: 0, column: 0)
```


[28-Sep-21 11:16 AM] uak#6718
what could be this 16 char long that the dex is expecting?


[28-Sep-21 11:16 AM] uak#6718
What happened to #ü§ù‚îÇgeneral-support channel, is it deprecated?


[28-Sep-21 11:39 AM] gcharang#6833
the questions you are asking are related to on going dev work by the atomicdex-api team and your issue seems to be tracked by a github issue too. Please wait for the developers to get back online


[28-Sep-21 01:58 PM] uak#6718
haha, don't get me wrong. I was referring to channel getting hidden and hard to find. seems it automatically get collapsed under products & support when there are no new activity. I thought it was deleted or something.


[29-Sep-21 01:24 AM] gcharang#6833
haha, got it


[04-Oct-21 11:56 AM] QualityASSURANCE#1813
is there a list of coins supported for Adex?


[04-Oct-21 12:10 PM] CHMEX#0686
https://dexstats.info/coins.php

{Embed}
https://dexstats.info/coins.php
Dexstats Dashboard - AtomicDEX Supported Coins and Tokens
UTXO Coins and ETH Tokens supported on AtomicDEX


[10-Oct-21 02:40 AM] uak#6718
Hi, I see SLP support have been added to market maker dev version. https://github.com/KomodoPlatform/atomicDEX-API/pull/1094

When I try to activate an SLP token I'm getting this message:
```
$ ./HONKconnect.sh
{"error":"rpc:174] dispatcher_legacy:155] lp_commands:98] lp_coins:1277] Platform coin BCH is not BCH"}
```
file content is:
```
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"electrum\",\"coin\":\"HONK\",\"servers\":[{\"url\":\"electrum1.cipig.net:10055\"},{\"url\":\"electrum2.cipig.net:10055\"},{\"url\":\"electrum3.cipig.net:10055\"}]}"

```
coins file:
```
            {
            "coin":"HONK",
            "protocol":{
                "type":"SLPTOKEN",
                "protocol_data":{
                    "decimals":0,
                    "token_id":"7f8889682d57369ed0e32336f8b7e0ffec625a35cca183f4e81fde4e71a538a1",
                    "platform":"BCH",
                    "required_confirmations": 1
                }
            },
            "mm2": 1
        },

```


[10-Oct-21 08:46 PM] Franswa Andre#2142
@cryptosammy


[10-Oct-21 08:46 PM] Franswa Andre#2142
You should get a lot of help here!


[10-Oct-21 11:53 PM] cryptosammy#3587
probably dumb question, but is mm2 the AtomicDEX API? And is AtomicAPI something different?


[10-Oct-21 11:53 PM] cryptosammy#3587
Also, can this tech be used to trade tokens?


[10-Oct-21 11:56 PM] gcharang#6833
mm2 and AtomicDEX-API are the same. the AtomicDEX-API repo on github compiles to the mm2 binary

{Reactions}
üçâ 

[10-Oct-21 11:57 PM] gcharang#6833
not KMD tokens. but, SLP tokens on BCH are being tested rn

{Reactions}
üò¢ 

[10-Oct-21 11:58 PM] cryptosammy#3587
why are KMD tokens not on the priority?


[10-Oct-21 11:59 PM] cryptosammy#3587
what would it take to have AtomicDEX API support for tokens made with Komodo chains?


[11-Oct-21 12:04 AM] gcharang#6833
not sure. let's wait for one of the devs to come online

{Reactions}
üëç 

[11-Oct-21 12:08 AM] Slyris#2880
What do you mean by Tokens? If you are referring to smart chains, plenty of them are already supported


[11-Oct-21 12:09 AM] cryptosammy#3587
a token created by the AssetsCC or in my case tokenv2 (Tokel)


[11-Oct-21 12:10 AM] cryptosammy#3587
a NFT created by a coin


[11-Oct-21 12:11 AM] Slyris#2880
Yes it's absolutely not a priority, and SLP tokens are not NFT's so that's a bit different.


[11-Oct-21 12:11 AM] Slyris#2880
in #üì¢‚îÉannouncements you can read what is expected for the end of the year.

{Reactions}
üçâ 

[11-Oct-21 12:13 AM] cryptosammy#3587
thank you, i just read it


[11-Oct-21 12:14 AM] cryptosammy#3587
i am not that deep tech ( i am not even surface tech who am i kidding )


[11-Oct-21 12:14 AM] cryptosammy#3587
but what makes it a real obstacle?


[11-Oct-21 12:15 AM] cryptosammy#3587
because you can create and sent a token from holder to receiver


[11-Oct-21 12:19 AM] Slyris#2880
It's not an obstacle, it's just not on the roadmap right now as you can see ^^


[11-Oct-21 12:27 AM] uak#6718
SLP tokens could be NFTs


[11-Oct-21 12:29 AM] uak#6718
https://www.juungle.net/

{Embed}
https://www.juungle.net/
Juungle
On-chain NFT Marketplace
https://images-ext-1.discordapp.net/external/vfBRylPnauH4wqPzNOKeSm0Ztx1pHnvUX7-ZjP6_k7g/https/www.juungle.net/android-chrome-192x192.png

{Reactions}
checkmark 

[11-Oct-21 12:32 AM] uak#6718
@artem.pikulin maybe you know about this issue, did the format change? I'm unable to enable tBCH too


[11-Oct-21 12:38 AM] Slyris#2880
oh that's nice i was not aware SLP could also be NFT's


[11-Oct-21 12:50 AM] artem.pikulin#0794
Hi, I added `bchd_urls` param, which is now required to activate BCH/tBCH. Example for tBCH:
```
{
  "method":"electrum",
  "coin":"tBCH",
  "servers":[
    {
      "url":"blackie.c3-soft.com:60001"
    },
    {
      "url":"testnet.imaginary.cash:50001"
    },
    {
      "url":"tbch.loping.net:60001"
    },
    {
      "url":"electroncash.de:50003"
    }
  ],
  "bchd_urls":[
    "https://bchd-testnet.greyh.at:18335"
  ],
  "allow_slp_unsafe_conf":false
}
```


[11-Oct-21 12:51 AM] uak#6718
same for SLP?


[11-Oct-21 12:52 AM] artem.pikulin#0794
> {"error":"rpc:174] dispatcher_legacy:155] lp_commands:98] lp_coins:1277] Platform coin BCH is not BCH"}
Could you please also recheck that BCH and tBCH have
```
"protocol": {
      "type": "BCH",
```
in the config?


[11-Oct-21 12:52 AM] artem.pikulin#0794
No, SLP tokens use the configuration of the platform coin.


[11-Oct-21 12:52 AM] uak#6718
I didn't have an issue with enabling bch just with tbch. will check again.


[11-Oct-21 12:54 AM] uak#6718
BCH has protocol type UTXO in my config. will change it

{Reactions}
üëå 

[11-Oct-21 12:57 AM] uak#6718
I've changed protocol to `BCH` for BCH and now it shows this error:
```
$ ./BCHconnect.sh 
{"error":"rpc:174] dispatcher_legacy:155] lp_commands:98] lp_coins:1242] missing field `protocol_data`"}
```


[11-Oct-21 12:59 AM] uak#6718
I don't see BCH has `protocol data` here and it's set to UTXO too
https://github.com/KomodoPlatform/coins/blob/master/coins#L711


[11-Oct-21 01:00 AM] artem.pikulin#0794
It is in a separate branch because we have not merged the SLP support into the mm2.1 release branch. Could you please use config from <https://github.com/KomodoPlatform/coins/blob/bch-slp-mainnet-TEST-ONLY/coins#L529>?


[11-Oct-21 01:04 AM] uak#6718
```
./BCHconnect.sh 
{"error":"rpc:174] dispatcher_legacy:155] lp_commands:98] lp_coins:1265] bch:229] invalid type: null, expected a sequence"}
```


[11-Oct-21 01:04 AM] uak#6718
same for tBCH


[11-Oct-21 01:05 AM] uak#6718
I'm using mm2 from dev


[11-Oct-21 01:06 AM] artem.pikulin#0794
I guess `bchd_urls` are missing. I've replied to my message with a new `tBCH` activation command. For mainnet BCH, you will have to use other URLs from <https://bchd.fountainhead.cash/>.


[11-Oct-21 01:11 AM] uak#6718
I see, but this would prevent people from using BCH if bchd server is down?


[11-Oct-21 01:18 AM] uak#6718
@artem.pikulin it works after adding BCHD url, thanks


[11-Oct-21 01:21 AM] artem.pikulin#0794
Possibly, but according to <https://slp.dev/guides/slp-implementation-instructions/#have-multiple-sources-of-validation-or-client-side-validation>, it's highly recommended to use several validation sources. If validation on at least one of the specified sources fails, MM2 won't be able to construct/send SLP transactions.


[11-Oct-21 01:22 AM] artem.pikulin#0794
It is the point of failure, of course. But I prefer better safe than sorry.


[11-Oct-21 01:24 AM] uak#6718
I agree, but I mean if someone just want to use BCH without SLP, can we ignore the BCHD parameter instead of making it a requirement to enable BCH?


[11-Oct-21 01:26 AM] artem.pikulin#0794
You can pass empty `bchd_urls` and `allow_slp_unsafe_conf: true`. Also, passing non-empty `bchd_urls` doesn't interfere with BCH-only usage - it will use only Electrum connection without making any requests to BCHD.


[11-Oct-21 01:30 AM] artem.pikulin#0794
So, if BCHD is down, users will still be able to use all features of BCH (activate, withdraw, trade). They can also activate SLP tokens, but transaction generation/broadcast during withdrawal or swap will fail for them.

{Reactions}
üíØ 

[11-Oct-21 01:38 AM] uak#6718
ok understood. Thanks man

{Reactions}
ü§ù 

[11-Oct-21 01:40 AM] uak#6718
for now I guess automatic builds with the dev or slp branch wouldn't work till the temporary coins repo get updated with a proper BCHD server, right?


[11-Oct-21 01:41 AM] uak#6718
I mean with validation enabled


[11-Oct-21 01:45 AM] artem.pikulin#0794
Do you mean GUI builds?


[11-Oct-21 01:48 AM] uak#6718
yes


[11-Oct-21 02:38 AM] artem.pikulin#0794
@Slyris has already messaged me about it. I think new GUI builds supporting new request params will be available this week.

{Reactions}
checkmark (2) 

[11-Oct-21 11:45 AM] uak#6718
awesome thanks, appreciate your hard work

{Reactions}
ü§ù üôè 

[01-Nov-21 11:59 AM] Licho92#7762
Hey guys! Where can I find your disclosure policy details?


[01-Nov-21 12:03 PM] Milerius#3376
When you create an account in AtomicDex you will have the disclosure agreement that appears


[01-Nov-21 12:04 PM] Licho92#7762
Need email and keys


[01-Nov-21 12:05 PM] Milerius#3376
You mean for a security or a bug report?


[01-Nov-21 12:05 PM] Licho92#7762
Yeah


[02-Nov-21 10:00 AM] uak#6718
```
02 16:59:32, utxo:1606] Electrum servers [ElectrumRpcRequest { url: "electrum2.cipig.net:10001", protocol: TCP, disable_cert_verification: false }, ElectrumRpcRequest { url: "electrum1.cipig.net:10001", protocol: TCP, disable_cert_verification: false }] ping error JsonRpcError { client_info: "coin: KMD", request: JsonRpcRequest { jsonrpc: "2.0", id: "78948", method: "server.ping", params: [] }, error: Transport("rpc_clients:1349] All electrums are currently disconnected") }

```


[02-Nov-21 11:06 AM] cipi#4502
could be this https://github.com/KomodoPlatform/atomicDEX-API/issues/913
disable and reenable KMD


[02-Nov-21 01:01 PM] cipi#4502
what the hell is this? https://infura.io/docs/transactions
so infura developed a system (additional RPC calls + smart contract deployed) just to make the handling of ETH (and now Polygon) transactions easier for dapps
code examples: https://github.com/INFURA/demo-eth-tx/tree/master/infura-transactions
this is the smart contract they deployed: https://rinkeby.etherscan.io/address/0x015c7c7a7d65bbdb117c573007219107bd7486f9#code
@artem.pikulin maybe this could provide some inspiration in dealing with ERC20 txes in mm2


[02-Nov-21 01:04 PM] cipi#4502
eg https://infura.io/docs/transactions#section/Gas-price-escalation-schedules


[02-Nov-21 08:27 PM] uak#6718
is there anyway to detect that and automatically restart?


[02-Nov-21 11:45 PM] artem.pikulin#0794
I have similar ideas of tracking the confirmation status and rebroadcasting transactions if it takes too long to be mined. The problem with this approach is users can pay much more fees than they have seen initially in GUIs from the `trade_preimage` response. We may need an additional option, e.g. `allow higher fees` with a maximum threshold.


[02-Nov-21 11:48 PM] artem.pikulin#0794
Does MM2 keep printing these errors? Could you please DM me logs before these started to happen?

{Reactions}
üëç 

[07-Nov-21 02:44 AM] uak#6718
hi, Is it possible to change the amount in the `withdraw` method to accept `max`, instead of having to set `max=ture`?


[07-Nov-21 03:27 AM] Slyris#2880
max=true is exactly made for this purpose. why not using it ?


[07-Nov-21 03:28 AM] uak#6718
because I've to use different curl quires for each


[07-Nov-21 03:29 AM] uak#6718
there is the `withdraw.sh` file, I've created a separate `withdraw_max.sh` file just for that case. There could be more elegant ways to do it but for simplicity I thought it could be put in `amount`


[07-Nov-21 03:31 AM] Slyris#2880
Personally I think the current behavior is correct.


[07-Nov-21 03:38 AM] uak#6718
what do you suggest to make the current `withdraw.sh` accept max as an option?


[07-Nov-21 04:10 AM] Slyris#2880
Use a decent bash script that change the json based on input parameters


[07-Nov-21 04:11 AM] Slyris#2880
```go
func NewWithdrawRequest(coin string, amount string, address string, fees []string, coinType string) *WithdrawRequest {
    genReq := NewGenericRequestV2("withdraw")
    params := WithdrawRequestParams{Coin: coin, To: address}
    req := &WithdrawRequest{Userpass: genReq.Userpass, Method: genReq.Method, WithdrawRequestParams: params, MMRpc: genReq.MMRpc}
    if amount == "max" {
        req.WithdrawRequestParams.Max = true
    } else {
        req.WithdrawRequestParams.Amount = amount
    }
    if len(fees) > 0 {
        req.WithdrawRequestParams.Fee = &Fee{}
        switch coinType {
        case "ERC-20", "BEP-20":
            req.WithdrawRequestParams.Fee.Type = "EthGas"
            req.WithdrawRequestParams.Fee.GasPrice = fees[1]
            req.WithdrawRequestParams.Fee.Gas, _ = strconv.Atoi(fees[2])
        case "QRC-20":
            req.WithdrawRequestParams.Fee.Type = "Qrc20Gas"
            req.WithdrawRequestParams.Fee.GasPrice = fees[1]
            req.WithdrawRequestParams.Fee.GasLimit, _ = strconv.Atoi(fees[2])
        case "UTXO", "Smart Chain":
            switch fees[0] {
            case "utxo_fixed":
                req.WithdrawRequestParams.Fee.Type = "UtxoFixed"
            case "utxo_per_kbyte":
                req.WithdrawRequestParams.Fee.Type = "UtxoPerKbyte"
            }
            req.WithdrawRequestParams.Fee.Amount = fees[1]
        }
    }

    return req
}
```

Same kind of logic in bash is possible


[07-Nov-21 08:50 PM] gcharang#6833
can you share the withdraw script you are using?


[07-Nov-21 08:56 PM] uak#6718
```
#!/bin/bash
source userpass
curl --url "http://127.0.0.1:7783" --data "{\"method\":\"withdraw\",\"coin\":\"$1\",\"to\":\"$2\",\"amount\":\"$3\",\"userpass\":\"$userpass\"}"
```


[07-Nov-21 08:57 PM] uak#6718
```
#!/bin/bash
source userpass
curl --url "http://127.0.0.1:7784" --data "{\"method\":\"withdraw\",\"coin\":\"$1\",\"to\":\"$2\",\"max\":true,\"userpass\":\"$userpass\"}"
```
I use this for max


[07-Nov-21 08:57 PM] uak#6718
cool but a bit complicated


[07-Nov-21 09:36 PM] gcharang#6833
```
#!/bin/bash
source userpass
amount=$3
if [ $amount == "max" ]
then
  curl --url "http://127.0.0.1:7784" --data "{\"method\":\"withdraw\",\"coin\":\"$1\",\"to\":\"$2\",\"max\":true,\"userpass\":\"$userpass\"}"
else
  curl --url "http://127.0.0.1:7783" --data "{\"method\":\"withdraw\",\"coin\":\"$1\",\"to\":\"$2\",\"amount\":\"$amount\",\"userpass\":\"$userpass\"}"
fi
```
should work. use `max` as 3rd argument instead of amount for max


[07-Nov-21 09:37 PM] uak#6718
thank you


[09-Nov-21 12:32 AM] uak#6718
Someone shared this with me:
```
#!/usr/bin/env python3
###
# This is a script that probably does something
##
import sys
import requests

# Build variables
coin, recipient, amount = sys.argv[0], sys.argv[1], sys.argv[2]
userpass = get_userpass()


# Base request
query_args = {
    'method': 'withdraw',
    'coin': sys.argv[1],
    'to': sys.argv[2]',
    'userpass': userpass,
    }

# Massage for "max"
if amount == 'max':
    query_args['max'] = 'true'
else:
    query_args['amount'] = amount

# Make the API request
response = requests.get(url='http://127.0.0.1:7784', params=query_args)

# Do something with the results
print(response.json())
```


[09-Nov-21 12:34 AM] gcharang#6833
this is the same script in python. you should get `get_userpass()` from someother place or hardcode the value in the file


[09-Nov-21 01:10 AM] uak#6718
yeah


[23-Nov-21 12:47 AM] artem.pikulin#0794
Hello @everyone!

We are going to merge the PR this week (<https://github.com/KomodoPlatform/atomicDEX-API/pull/1144>) that applies additional rules to the RPC password set in the config as follows:

1. It can't contain the word "password".
2. Its length should be between 8 and 32 characters.
3. It should contain at least 1 digit.
4. It should contain at least 1 lowercase character.
5. It should contain at least 1 uppercase character.
6. It should contain at least 1 special character.
7. It can't contain the same character 3 or more times in a row.

Please change your RPC password accordingly on the API update from mm2.1 or dev branches after this is merged. This change will also be released on Github this week. If you prefer to turn off these restrictions, please add `"allow_weak_password":true` in the MM2.json.

{Reactions}
üëç (15) KMD (10) AtomicDEX (7) KomodoCore (3) 3040_kingpeepo (2) üê± (3) ca333 

[23-Nov-21 04:38 AM] artem.pikulin#0794
@everyone The PR mentioned above is merged. You can find the new password policy description at <https://developers.atomicdex.io/basic-docs/atomicdex/atomicdex-setup/configure-mm2-json.html#mm2-json>.

{Reactions}
AtomicDEX (10) KMD (11) KomodoCore (5) 3040_kingpeepo (3) 

[29-Nov-21 11:30 AM] cipi#4502
somebody with `mm2_makerbot                 | 2.1.4962_dev_1b989f62e_Linux_Release` is failing all BEP20 swaps with `    "taker_swap:856] !taker_coin.negotiate_swap_contract_addr eth:997] UnexpectedOtherAddr, addr supplied Bytes([204, 209, 124, 145, 58, 215, 183, 114, 117, 90, 212, 240, 189, 255, 123, 52, 198, 51, 145, 80])"`
i guess the fallback swap contract address is missing in the `enable` call


[29-Nov-21 10:23 PM] artem.pikulin#0794
The fallback contract is not required on Binance smart chain. The bytes sequence represents the swap contract address from the BSC testnet: <https://testnet.bscscan.com/address/0xccd17c913ad7b772755ad4f0bdff7b34c6339150>. Someone has to fix the enable call and use the proper `swap_contract_address` from <https://github.com/KomodoPlatform/coins/blob/master/ethereum/BNB>.
@Slyris Is that your node or maybe you know who manages it?


[29-Nov-21 10:29 PM] Slyris#2880
Hey, my node always have the GUI set to `AtomicDEX CLI Client`


[02-Dec-21 09:27 AM] aaronm#3394
Hi.  i'm trying to set up a utxo coin , but the API documents i've found only seem to show electrum servers and not RPC, and also don't seem to show how to do the maker part of the transaction, is there a better guide somewhere?  thanks


[02-Dec-21 09:31 AM] cipi#4502
coins config has `rpcport` and `name` configured
if you defined them correct, wallet is running and you imported the address into wallet (`importaddress`), you can enablle the coin with `curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"enable\",\"coin\":\"DGB\"}"`
it will look into `~/.$name/$name.conf` for the config file, grab rpcpassword and rpcusername from there and connect to the wallet on the configured RPC port


[02-Dec-21 09:32 AM] cipi#4502
the rest of the options from coins file are explained here: https://github.com/KomodoPlatform/coins


[02-Dec-21 09:33 AM] aaronm#3394
thanks so just remove the servers section and remove type electrum i take it


[02-Dec-21 09:33 AM] aaronm#3394
that link still doesnt show the maker stuff, just says i need to do a api call, but when i go to api it only shows the RICK MORTY taker part


[02-Dec-21 09:34 AM] cipi#4502
not sure what you mean... the API calls are here: https://developers.komodoplatform.com/basic-docs/atomicdex-api-legacy/setprice.html
if you want to place an order, look at the `setprice`call... or `buy`/`sell`


[02-Dec-21 09:35 AM] aaronm#3394
ok got it so do one call with sell then another with buy, can that be done on same machine or 2 needed?


[02-Dec-21 09:36 AM] cipi#4502
for bid and ask? you can also use `setprice` for both... it will create a maker order right away (buy and sell will try with a taker order first, only if that does not match with one in orderbook, it will be converted to a maker order)


[02-Dec-21 09:37 AM] aaronm#3394
thanks will give it a try, was going to do on docker but that just crashed on load lol


[02-Dec-21 09:39 AM] cipi#4502
example
```
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setprice\",\"base\":\"KMD\",\"rel\":\"REVS\",\"price\":9.92,\"max\":true}" # bid 0.1008
curl --url "http://127.0.0.1:7783" --data "{\"userpass\":\"$userpass\",\"method\":\"setprice\",\"base\":\"REVS\",\"rel\":\"KMD\",\"price\":2.775,\"max\":true}" # ask
```
first one is the bid, second one the ask for KMD/REVS
price for the bid is inverted... so 9.92 from above example means 1/9.92 = 0.1008
the price of ask is "normal"


[02-Dec-21 09:39 AM] aaronm#3394
nice, thanks for that


[04-Dec-21 04:23 AM] svliege#2909
Hi, I'm trying to setup a new UTXO coin, when activating this coin, you get a wallet address returned. You need to send <coin> to that address to use it in a swap right? How long toes it take before <coin> becomes available in balance? After 2hrs `my_balance` still shows 0.


[04-Dec-21 09:32 AM] gcharang#6833
it will appear instantly. you have to input the electrum server addresses properly if using lite mode. see: https://developers.komodoplatform.com/basic-docs/atomicdex-api-legacy/coin_activation.html

{Embed}
https://developers.komodoplatform.com/basic-docs/atomicdex-api-legacy/coin_activation.html
Coin Activation
A coin can only be activated once per session, and must be activated before it can be used in trading or wallet functions.
https://images-ext-2.discordapp.net/external/JRuH6_LDrjOGd6HbRckiIc9OBFcyJGE1c7DjCukFvtA/https/developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png


[06-Dec-21 12:04 AM] artem.pikulin#0794
Hi! Did you use `electrum` or `enable` call for activation?


[06-Dec-21 02:56 AM] svliege#2909
Used enable, but it showed up eventually. No idea why It took long.


[06-Dec-21 04:23 AM] artem.pikulin#0794
Have you imported the address returned by `enable/my_balance` to the coin daemon?


[06-Dec-21 05:01 AM] svliege#2909
yes


[07-Dec-21 12:18 AM] artem.pikulin#0794
Funds should have appeared in the `my_balance` response immediately. Could it be that rescan after the import took several hours?


[07-Dec-21 01:13 AM] svliege#2909
no, not hours. took some time but not hours.


[07-Dec-21 01:28 AM] artem.pikulin#0794
It was most likely either long rescan or daemon syncing issues. AtomicDEX requests the available UTXOs using `listunspent` directly from the daemon on each `my_balance` call. In like 99% cases, zero balance will mean daemon returned an empty list.


[07-Dec-21 01:38 AM] svliege#2909
I'm curious about another thing. I setup MM2 on my laptop and on desktop, both with an UXTO coin that have a different separate newly generated wallet.dat. How come that both return the same UXTO coin address when activating the coin. And even the same KML address when activating that.


[07-Dec-21 01:41 AM] artem.pikulin#0794
MM2 doesn't rely on the local `wallet.dat` file. It derives the private key from the passphrase you set in the MM2.json config. So if you use the same passphrase in different environments, you will get the same address. Please note that this use case is not recommended - it is currently a UB and may lead to "strange" bugs.


[07-Dec-21 01:42 AM] svliege#2909
Got it, good to know and understand how an address is generated in dex üôÇ thanks

{Reactions}
ü§ù 

[21-Dec-21 02:15 AM] artem.pikulin#0794
Hi @everyone! If you are market making on AtomicDEX and own one of the following addresses:
`RMaprYNUp8ErJ9ZAKcxMfpC4ioVycYCCCc`
`LcXN6wFoZsnFwUDBpQQQj35RsQRzGUQ4wr`
`RSabvEqG63LmkftE7SQEYYLsRTXJkA1fzp`
`RCBheTft7W19VQ28wXpY5EdwnaA8zfpbCV`
Please DM me to help to troubleshoot a possible bug.


[21-Dec-21 02:25 AM] grewalsatinder#9653
@Mylo @artem.pikulin can answer that question better https://discord.com/channels/412898016371015680/428673045767520260/922792461087158322

{Reactions}
üëç 

[22-Dec-21 04:37 AM] smkhound#7640
I cast some necromancy on pytomicDEX and summoned up this for using the mm2 makerbot api - https://github.com/smk762/pytomicDEX_makerbot/blob/main/README.md
let me know if you run into any errors or want to suggest features.
next version will include telegram alert setup also


[22-Dec-21 04:38 AM] smkhound#7640

{Attachments}
https://cdn.discordapp.com/attachments/449950331577565194/923192717075415141/147042862-e7d14a70-8b3f-45e6-93ff-dd73165ec22a.png

{Reactions}
rum (7) shexy (3) üíØ (3) üëç (5) 

[22-Dec-21 04:39 AM] smkhound#7640
tested in linux and partially in mac. Not yet windows friendly, maybe later


[24-Dec-21 11:06 AM] OIPBAY#6930
!mcltip faucet


[24-Dec-21 11:36 AM] ComputerGenie#7004
@OIPBAY do you ever faucet in channels for it, or do you always pick random channels on every server?


[05-Jan-22 08:43 AM] CHMEX#0686
The seconder üòÇ


[07-Jan-22 06:09 AM] Marx1001#5313
Getting Launch params not found for TKL since yesterday. Any tips/tricks?


[07-Jan-22 06:46 AM] smkhound#7640
try `TOKEL`


[07-Jan-22 06:49 AM] smkhound#7640
That one's a bit of a gremlin in terms of sourcing the coins data as it is called TKL is some places (like the coins repo) and called TOKEL in others like the dpow repo (and it's -ac_name is TOKEL)


[07-Jan-22 06:51 AM] Marx1001#5313
Roger roger. Thanks.


[07-Jan-22 11:57 PM] smkhound#7640
do a git pull also, I just found a case where auto enable at makerbot start for existing pairs was still trying to use TKL

{Reactions}
üëç 

[09-Jan-22 03:59 AM] smkhound#7640
anyone in here running mm2 in CLI with mm_version: `2.1.5048_mm2.1_213bfddd5_Linux_Release` and `"gui":"MM2GUI"` in MM2.json, please update your mm2 binary and restart
hint: you are failing consistently to trade KMD for LTC because you've lost electrum connection. With updated mm2 this should not be an issue.


[13-Jan-22 09:32 AM] SaltyCroc#4456
Just tried out pytomicDEX_makerbot and have already made 2 swaps! $2.630 profit! Thanks for the great work on this @smkhound!  I am also having electrum connection issues with the current mm2. I see that this electrum3.cipig.net:10001 connection is closed (as per https://1209k.com/bitcoin-eye/ele.php?chain=kmd). Any quick fix for this?

{Reactions}
AtomicDEX 

[13-Jan-22 09:46 AM] cipi#4502
coins have 3 electrums... you need to use all 3


[13-Jan-22 10:10 AM] SaltyCroc#4456
Is it not hardcoded? Sorry I am out of my depth here, but keen to learn. Must I rtfm? API docs scare me. üò±


[13-Jan-22 10:12 AM] cipi#4502
idk where pytomicdex gets the config from, but KMD and most other coins have 3 electrums and you need to pass their url to the enable/electrum call
`curl --url "http://127.0.0.1:7783" --data "{\"method\":\"electrum\",\"coin\":\"KMD\",\"servers\":[{\"url\":\"electrum1.cipig.net:10001\"},{\"url\":\"electrum2.cipig.net:10001\"},{\"url\":\"electrum3.cipig.net:10001\"}],\"userpass\":\"$userpass\",\"mm2\":1,\"requires_notarization\":false,\"required_confirmations\":4}"`


[13-Jan-22 10:15 AM] cipi#4502
anyway, the point is: it doesn't matter if one of the 3 electrums is gone as long as one of them is left


[13-Jan-22 10:16 AM] cipi#4502
there will always be some electrum servers offline, there are so many of them


[13-Jan-22 06:27 PM] SaltyCroc#4456
ok, thanks for clarifying cipi! üëç  everything goes smoothly today with no volume


[13-Jan-22 07:37 PM] smkhound#7640
pytomic gets the launch commands from http://stats.kmd.io/api/atomicdex/activation_commands/


[13-Jan-22 07:38 PM] smkhound#7640
human readable version - http://stats.kmd.io/atomicdex/activation_commands/


==============================================================
Exported 4,262 message(s)
==============================================================
